import{_ as q}from"./InputCopyable.vue_vue_type_script_setup_true_lang-72165070.js";import{_ as V}from"./c-select-06568ef5.js";import{cg as N,ch as w,ci as y,v as Z,d as B,z as R,cj as X,e as L,A as P,j as E,q as K,k as M,n as S,B as F,F as Q,r as ee,C as te,o as O}from"./index-3141604a.js";import{w as $}from"./defaults-4d6daddf.js";import{a as c,i as C,g as Y,m as j,b as A,c as ae}from"./index-791b5c03.js";import{_ as re}from"./Divider-40961734.js";import"./content-copy-dd3e3384.js";import"./copy-2e0173a3.js";function ne(t,e){var i,a;N(1,arguments);var n=w(t);if(isNaN(n.getTime()))throw new RangeError("Invalid time value");var o=String((i=e==null?void 0:e.format)!==null&&i!==void 0?i:"extended"),u=String((a=e==null?void 0:e.representation)!==null&&a!==void 0?a:"complete");if(o!=="extended"&&o!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(u!=="date"&&u!=="time"&&u!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var l="",m="",d=o==="extended"?"-":"",r=o==="extended"?":":"";if(u!=="time"){var s=c(n.getDate(),2),D=c(n.getMonth()+1,2),p=c(n.getFullYear(),4);l="".concat(p).concat(d).concat(D).concat(d).concat(s)}if(u!=="date"){var f=n.getTimezoneOffset();if(f!==0){var g=Math.abs(f),v=c(Math.floor(g/60),2),h=c(g%60,2),x=f<0?"+":"-";m="".concat(x).concat(v,":").concat(h)}else m="Z";var U=c(n.getHours(),2),W=c(n.getMinutes(),2),k=c(n.getSeconds(),2),G=l===""?"":"T",J=[U,W,k].join(r);l="".concat(l).concat(G).concat(J).concat(m)}return l}function ie(t,e){var i,a;if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var n=w(t);if(!C(n))throw new RangeError("Invalid time value");var o=String((i=e==null?void 0:e.format)!==null&&i!==void 0?i:"extended"),u=String((a=e==null?void 0:e.representation)!==null&&a!==void 0?a:"complete");if(o!=="extended"&&o!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(u!=="date"&&u!=="time"&&u!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var l="",m=o==="extended"?"-":"",d=o==="extended"?":":"";if(u!=="time"){var r=c(n.getDate(),2),s=c(n.getMonth()+1,2),D=c(n.getFullYear(),4);l="".concat(D).concat(m).concat(s).concat(m).concat(r)}if(u!=="date"){var p=c(n.getHours(),2),f=c(n.getMinutes(),2),g=c(n.getSeconds(),2),v=l===""?"":" ";l="".concat(l).concat(v).concat(p).concat(d).concat(f).concat(d).concat(g)}return l}function oe(t,e){var i;if(arguments.length<1)throw new TypeError("1 arguments required, but only ".concat(arguments.length," present"));var a=w(t);if(!C(a))throw new RangeError("Invalid time value");var n=Number((i=e==null?void 0:e.fractionDigits)!==null&&i!==void 0?i:0);if(!(n>=0&&n<=3))throw new RangeError("fractionDigits must be between 0 and 3 inclusively");var o=c(a.getDate(),2),u=c(a.getMonth()+1,2),l=a.getFullYear(),m=c(a.getHours(),2),d=c(a.getMinutes(),2),r=c(a.getSeconds(),2),s="";if(n>0){var D=a.getMilliseconds(),p=Math.floor(D*Math.pow(10,n-3));s="."+c(p,n)}var f="",g=a.getTimezoneOffset();if(g!==0){var v=Math.abs(g),h=c(y(v/60),2),x=c(v%60,2),U=g<0?"+":"-";f="".concat(U).concat(h,":").concat(x)}else f="Z";return"".concat(l,"-").concat(u,"-").concat(o,"T").concat(m,":").concat(d,":").concat(r).concat(s).concat(f)}var ce=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],se=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ue(t){if(arguments.length<1)throw new TypeError("1 arguments required, but only ".concat(arguments.length," present"));var e=w(t);if(!C(e))throw new RangeError("Invalid time value");var i=ce[e.getUTCDay()],a=c(e.getUTCDate(),2),n=se[e.getUTCMonth()],o=e.getUTCFullYear(),u=c(e.getUTCHours(),2),l=c(e.getUTCMinutes(),2),m=c(e.getUTCSeconds(),2);return"".concat(i,", ").concat(a," ").concat(n," ").concat(o," ").concat(u,":").concat(l,":").concat(m," GMT")}function le(t){N(1,arguments);var e=y(t);return w(e*1e3)}function me(t){return N(1,arguments),Math.floor(Y(t)/1e3)}function z(t,e){var i;N(1,arguments);var a=y((i=e==null?void 0:e.additionalDigits)!==null&&i!==void 0?i:2);if(a!==2&&a!==1&&a!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var n=ge(t),o;if(n.date){var u=De(n.date,a);o=pe(u.restDateString,u.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var l=o.getTime(),m=0,d;if(n.time&&(m=he(n.time),isNaN(m)))return new Date(NaN);if(n.timezone){if(d=Te(n.timezone),isNaN(d))return new Date(NaN)}else{var r=new Date(l+m),s=new Date(0);return s.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),s.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),s}return new Date(l+m+d)}var b={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},de=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ve=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,fe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ge(t){var e={},i=t.split(b.dateTimeDelimiter),a;if(i.length>2)return e;if(/:/.test(i[0])?a=i[0]:(e.date=i[0],a=i[1],b.timeZoneDelimiter.test(e.date)&&(e.date=t.split(b.timeZoneDelimiter)[0],a=t.substr(e.date.length,t.length))),a){var n=b.timezone.exec(a);n?(e.time=a.replace(n[1],""),e.timezone=n[1]):e.time=a}return e}function De(t,e){var i=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),a=t.match(i);if(!a)return{year:NaN,restDateString:""};var n=a[1]?parseInt(a[1]):null,o=a[2]?parseInt(a[2]):null;return{year:o===null?n:o*100,restDateString:t.slice((a[1]||a[2]).length)}}function pe(t,e){if(e===null)return new Date(NaN);var i=t.match(de);if(!i)return new Date(NaN);var a=!!i[4],n=_(i[1]),o=_(i[2])-1,u=_(i[3]),l=_(i[4]),m=_(i[5])-1;if(a)return Se(e,l,m)?we(e,l,m):new Date(NaN);var d=new Date(0);return!Ne(e,o,u)||!Me(e,n)?new Date(NaN):(d.setUTCFullYear(e,o,Math.max(n,u)),d)}function _(t){return t?parseInt(t):1}function he(t){var e=t.match(ve);if(!e)return NaN;var i=I(e[1]),a=I(e[2]),n=I(e[3]);return be(i,a,n)?i*j+a*A+n*1e3:NaN}function I(t){return t&&parseFloat(t.replace(",","."))||0}function Te(t){if(t==="Z")return 0;var e=t.match(fe);if(!e)return 0;var i=e[1]==="+"?-1:1,a=parseInt(e[2]),n=e[3]&&parseInt(e[3])||0;return Ce(a,n)?i*(a*j+n*A):NaN}function we(t,e,i){var a=new Date(0);a.setUTCFullYear(t,0,4);var n=a.getUTCDay()||7,o=(e-1)*7+i+1-n;return a.setUTCDate(a.getUTCDate()+o),a}var _e=[31,null,31,30,31,30,31,31,30,31,30,31];function H(t){return t%400===0||t%4===0&&t%100!==0}function Ne(t,e,i){return e>=0&&e<=11&&i>=1&&i<=(_e[e]||(H(t)?29:28))}function Me(t,e){return e>=1&&e<=(H(t)?366:365)}function Se(t,e,i){return e>=1&&e<=53&&i>=0&&i<=6}function be(t,e,i){return t===24?e===0&&i===0:i>=0&&i<60&&e>=0&&e<60&&t>=0&&t<25}function Ce(t,e){return e>=0&&e<=59}function xe(t){if(N(1,arguments),typeof t=="string"){var e=t.match(/(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(?:\.(\d{0,7}))?(?:Z|(.)(\d{2}):?(\d{2})?)?/);return e?new Date(Date.UTC(+e[1],+e[2]-1,+e[3],+e[4]-(+e[9]||0)*(e[8]=="-"?-1:1),+e[5]-(+e[10]||0)*(e[8]=="-"?-1:1),+e[6],+((e[7]||"0")+"00").substring(0,3))):new Date(NaN)}return w(t)}const Ue=/^([+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([.,]\d+(?!:))?)?(\17[0-5]\d([.,]\d+)?)?([zZ]|([+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,Ie=/^([0-9]{4})-([0-9]{2})-([0-9]{2}) ([0-9]{2}):([0-9]{2}):([0-9]{2})(\.[0-9]{1,6})?(([+-])([0-9]{2}):([0-9]{2})|Z)?$/,ye=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(\.[0-9]{1,9})?(([+-])([0-9]{2}):([0-9]{2})|Z)$/,Re=/^[A-Za-z]{3},\s[0-9]{2}\s[A-Za-z]{3}\s[0-9]{4}\s[0-9]{2}:[0-9]{2}:[0-9]{2}\sGMT$/;function T(t){return e=>!Z.isNil(e)&&t.test(e)}const Ee=T(Ue),Fe=T(Ie),Oe=T(ye),$e=T(Re),ze=T(/^[0-9]{1,10}$/),Ze=T(/^[0-9]{1,13}$/),Ye=T(/^[0-9a-fA-F]{24}$/);function je(t){if(Z.isNil(t))return!1;try{return new Date(t).toUTCString()===t}catch{return!1}}const Ae={flex:"","gap-2":""},Xe=B({__name:"date-time-converter",setup(t){const e=R(""),i=r=>new Date(r),a=[{name:"JS locale date string",fromDate:r=>r.toString(),toDate:i,formatMatcher:()=>!1},{name:"ISO 8601",fromDate:ne,toDate:z,formatMatcher:r=>Ee(r)},{name:"ISO 9075",fromDate:ie,toDate:z,formatMatcher:r=>Fe(r)},{name:"RFC 3339",fromDate:oe,toDate:i,formatMatcher:r=>Oe(r)},{name:"RFC 7231",fromDate:ue,toDate:i,formatMatcher:r=>$e(r)},{name:"Unix timestamp",fromDate:r=>String(me(r)),toDate:r=>le(+r),formatMatcher:r=>ze(r)},{name:"Timestamp",fromDate:r=>String(Y(r)),toDate:r=>xe(+r),formatMatcher:r=>Ze(r)},{name:"UTC format",fromDate:r=>r.toUTCString(),toDate:i,formatMatcher:r=>je(r)},{name:"Mongo ObjectID",fromDate:r=>`${Math.floor(r.getTime()/1e3).toString(16)}0000000000000000`,toDate:r=>new Date(Number.parseInt(r.substring(0,8),16)*1e3),formatMatcher:r=>Ye(r)}],n=R(6),o=X(),u=L(()=>{if(!e.value)return o.value;const{toDate:r}=a[n.value];try{return r(e.value)}catch{return}});function l(r){const s=a.findIndex(({formatMatcher:D})=>D(r));s!==-1&&(n.value=s)}const m=P({source:e,watch:[n],rules:[{message:"This date is invalid for this format",validator:r=>$(()=>{if(r==="")return!0;const s=a[n.value].toDate(r);return ae(s)&&C(s)},!1)}]});function d(r,s){return!s||!m.isValid?"":$(()=>r(s),"")}return(r,s)=>{const D=te,p=V,f=re,g=q;return O(),E("div",null,[K("div",Ae,[M(D,{value:S(e),"onUpdate:value":[s[0]||(s[0]=v=>F(e)?e.value=v:null),l],autofocus:"",placeholder:"Put you date string here...",clearable:"","test-id":"date-time-converter-input",validation:S(m)},null,8,["value","validation"]),M(p,{value:S(n),"onUpdate:value":s[1]||(s[1]=v=>F(n)?n.value=v:null),style:{flex:"0 0 170px"},options:a.map(({name:v},h)=>({label:v,value:h})),"data-test-id":"date-time-converter-format-select"},null,8,["value","options"])]),M(f),(O(),E(Q,null,ee(a,({name:v,fromDate:h})=>M(g,{key:v,label:v,"label-width":"150px","label-position":"left","label-align":"right",value:d(h,S(u)),placeholder:"Invalid date...","test-id":v,readonly:"","mt-2":""},null,8,["label","value","test-id"])),64))])}}});export{Xe as default};
