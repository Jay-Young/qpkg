import{_ as i}from"./FormatTransformer.vue_vue_type_script_setup_true_lang-aab72981.js";import{J as a}from"./index-d4e515d0.js";import{w as c}from"./defaults-4d6daddf.js";import{d as u,k as p,o as f}from"./index-648e106a.js";import"./TextareaCopyable-58347e9e.js";import"./Copy-11243cf2.js";import"./Scrollbar-a3740edc.js";function l({array:o}){const r=new Set;return o.forEach(n=>Object.keys(n).forEach(e=>r.add(e))),Array.from(r)}function m(o){if(o===null)return"null";if(o===void 0)return"";const r=String(o).replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/"/g,'\\"');return r.includes(",")?`"${r}"`:r}function d({array:o}){const r=l({array:o}),n=o.map(e=>r.map(t=>m(e[t])));return[r.join(","),...n].join(`
`)}const J=u({__name:"json-to-csv",setup(o){function r(e){return c(()=>e===""?"":d({array:a.parse(e)}),"")}const n=[{validator:e=>e===""||a.parse(e),message:"Provided JSON is not valid."}];return(e,t)=>{const s=i;return f(),p(s,{"input-label":"Your raw JSON","input-placeholder":"Paste your raw JSON here...","output-label":"CSV version of your JSON","input-validation-rules":n,transformer:r})}}});export{J as default};
