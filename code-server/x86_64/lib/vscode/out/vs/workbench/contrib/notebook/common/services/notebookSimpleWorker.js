"use strict";/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var st=["require","exports","vs/base/common/platform","vs/base/common/strings","vs/base/common/path","vs/base/common/errors","vs/base/common/buffer","vs/base/common/lifecycle","vs/base/common/extpath","vs/base/common/network","vs/base/common/uri","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/core/range","vs/base/common/map","vs/base/common/mime","vs/base/common/stream","vs/base/common/symbols","vs/base/common/resources","vs/base/common/async","vs/base/common/event","vs/base/common/glob","vs/editor/common/core/eolCounter","vs/editor/common/core/stringBuilder","vs/editor/common/core/textChange","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/nls!vs/platform/contextkey/common/contextkey","vs/nls","vs/nls!vs/workbench/contrib/notebook/common/services/notebookSimpleWorker","vs/nls!vs/platform/contextkey/common/scanner","vs/platform/contextkey/common/scanner","vs/platform/instantiation/common/instantiation","vs/platform/contextkey/common/contextkey","vs/workbench/contrib/notebook/common/notebookCommon","vs/base/common/lazy","vs/base/common/types","vs/base/common/cancellation","vs/base/common/arrays","vs/editor/common/core/position","vs/editor/common/model/textModelSearch","vs/base/common/iterator","vs/workbench/contrib/notebook/common/services/notebookSimpleWorker","vs/base/common/diff/diff","vs/base/common/hash"],rt=function(nt){for(var e=[],F=0,j=nt.length;F<j;F++)e[F]=st[nt[F]];return e};define(st[13],rt([0,1]),function(nt,e){"use strict";var F,j,D;Object.defineProperty(e,"__esModule",{value:!0}),e.$ni=e.$mi=e.$li=e.Touch=e.$ki=e.$ji=e.$ii=e.$hi=e.$gi=void 0;function S(h,s,c){let n=h.get(s);return n===void 0&&(n=c,h.set(s,n)),n}e.$gi=S;function q(h){const s=[];return h.forEach((c,n)=>{s.push(`${n} => ${c}`)}),`Map(${h.size}) {${s.join(", ")}}`}e.$hi=q;function V(h){const s=[];return h.forEach(c=>{s.push(c)}),`Set(${h.size}) {${s.join(", ")}}`}e.$ii=V;class E{constructor(s,c){this.uri=s,this.value=c}}class o{constructor(s,c){this[F]="ResourceMap",s instanceof o?(this.b=new Map(s.b),this.c=c??o.a):(this.b=new Map,this.c=s??o.a)}set(s,c){return this.b.set(this.c(s),new E(s,c)),this}get(s){return this.b.get(this.c(s))?.value}has(s){return this.b.has(this.c(s))}get size(){return this.b.size}clear(){this.b.clear()}delete(s){return this.b.delete(this.c(s))}forEach(s,c){typeof c<"u"&&(s=s.bind(c));for(const[n,l]of this.b)s(l.value,l.uri,this)}*values(){for(const s of this.b.values())yield s.value}*keys(){for(const s of this.b.values())yield s.uri}*entries(){for(const s of this.b.values())yield[s.uri,s.value]}*[(F=Symbol.toStringTag,Symbol.iterator)](){for(const[,s]of this.b)yield[s.uri,s.value]}}e.$ji=o,o.a=h=>h.toString();class b{constructor(s,c){this[j]="ResourceSet",!s||typeof s=="function"?this.a=new o(s):(this.a=new o(c),s.forEach(this.add,this))}get size(){return this.a.size}add(s){return this.a.set(s,s),this}clear(){this.a.clear()}delete(s){return this.a.delete(s)}forEach(s,c){this.a.forEach((n,l)=>s.call(c,l,l,this))}has(s){return this.a.has(s)}entries(){return this.a.entries()}keys(){return this.a.keys()}values(){return this.a.keys()}[(j=Symbol.toStringTag,Symbol.iterator)](){return this.keys()}}e.$ki=b;var B;(function(h){h[h.None=0]="None",h[h.AsOld=1]="AsOld",h[h.AsNew=2]="AsNew"})(B||(e.Touch=B={}));class m{constructor(){this[D]="LinkedMap",this.a=new Map,this.b=void 0,this.c=void 0,this.d=0,this.e=0}clear(){this.a.clear(),this.b=void 0,this.c=void 0,this.d=0,this.e++}isEmpty(){return!this.b&&!this.c}get size(){return this.d}get first(){return this.b?.value}get last(){return this.c?.value}has(s){return this.a.has(s)}get(s,c=0){const n=this.a.get(s);if(n)return c!==0&&this.j(n,c),n.value}set(s,c,n=0){let l=this.a.get(s);if(l)l.value=c,n!==0&&this.j(l,n);else{switch(l={key:s,value:c,next:void 0,previous:void 0},n){case 0:this.h(l);break;case 1:this.g(l);break;case 2:this.h(l);break;default:this.h(l);break}this.a.set(s,l),this.d++}return this}delete(s){return!!this.remove(s)}remove(s){const c=this.a.get(s);if(c)return this.a.delete(s),this.i(c),this.d--,c.value}shift(){if(!this.b&&!this.c)return;if(!this.b||!this.c)throw new Error("Invalid list");const s=this.b;return this.a.delete(s.key),this.i(s),this.d--,s.value}forEach(s,c){const n=this.e;let l=this.b;for(;l;){if(c?s.bind(c)(l.value,l.key,this):s(l.value,l.key,this),this.e!==n)throw new Error("LinkedMap got modified during iteration.");l=l.next}}keys(){const s=this,c=this.e;let n=this.b;const l={[Symbol.iterator](){return l},next(){if(s.e!==c)throw new Error("LinkedMap got modified during iteration.");if(n){const i={value:n.key,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return l}values(){const s=this,c=this.e;let n=this.b;const l={[Symbol.iterator](){return l},next(){if(s.e!==c)throw new Error("LinkedMap got modified during iteration.");if(n){const i={value:n.value,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return l}entries(){const s=this,c=this.e;let n=this.b;const l={[Symbol.iterator](){return l},next(){if(s.e!==c)throw new Error("LinkedMap got modified during iteration.");if(n){const i={value:[n.key,n.value],done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return l}[(D=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}f(s){if(s>=this.size)return;if(s===0){this.clear();return}let c=this.b,n=this.size;for(;c&&n>s;)this.a.delete(c.key),c=c.next,n--;this.b=c,this.d=n,c&&(c.previous=void 0),this.e++}g(s){if(!this.b&&!this.c)this.c=s;else if(this.b)s.next=this.b,this.b.previous=s;else throw new Error("Invalid list");this.b=s,this.e++}h(s){if(!this.b&&!this.c)this.b=s;else if(this.c)s.previous=this.c,this.c.next=s;else throw new Error("Invalid list");this.c=s,this.e++}i(s){if(s===this.b&&s===this.c)this.b=void 0,this.c=void 0;else if(s===this.b){if(!s.next)throw new Error("Invalid list");s.next.previous=void 0,this.b=s.next}else if(s===this.c){if(!s.previous)throw new Error("Invalid list");s.previous.next=void 0,this.c=s.previous}else{const c=s.next,n=s.previous;if(!c||!n)throw new Error("Invalid list");c.previous=n,n.next=c}s.next=void 0,s.previous=void 0,this.e++}j(s,c){if(!this.b||!this.c)throw new Error("Invalid list");if(!(c!==1&&c!==2)){if(c===1){if(s===this.b)return;const n=s.next,l=s.previous;s===this.c?(l.next=void 0,this.c=l):(n.previous=l,l.next=n),s.previous=void 0,s.next=this.b,this.b.previous=s,this.b=s,this.e++}else if(c===2){if(s===this.c)return;const n=s.next,l=s.previous;s===this.b?(n.previous=void 0,this.b=n):(n.previous=l,l.next=n),s.next=void 0,s.previous=this.c,this.c.next=s,this.c=s,this.e++}}}toJSON(){const s=[];return this.forEach((c,n)=>{s.push([n,c])}),s}fromJSON(s){this.clear();for(const[c,n]of s)this.set(c,n)}}e.$li=m;class A extends m{constructor(s,c=1){super(),this.k=s,this.l=Math.min(Math.max(0,c),1)}get limit(){return this.k}set limit(s){this.k=s,this.m()}get ratio(){return this.l}set ratio(s){this.l=Math.min(Math.max(0,s),1),this.m()}get(s,c=2){return super.get(s,c)}peek(s){return super.get(s,0)}set(s,c){return super.set(s,c,2),this.m(),this}m(){this.size>this.k&&this.f(Math.round(this.k*this.l))}}e.$mi=A;class ${constructor(){this.a=new Map}add(s){return this.a.set(s,(this.a.get(s)||0)+1),this}delete(s){let c=this.a.get(s)||0;return c===0?!1:(c--,c===0?this.a.delete(s):this.a.set(s,c),!0)}has(s){return this.a.has(s)}}e.$ni=$}),define(st[14],rt([0,1,4]),function(nt,e,F){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$vr=e.$ur=e.$tr=e.$sr=e.$rr=void 0,e.$rr=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"});const j={".css":"text/css",".csv":"text/csv",".htm":"text/html",".html":"text/html",".ics":"text/calendar",".js":"text/javascript",".mjs":"text/javascript",".txt":"text/plain",".xml":"text/xml"},D={".aac":"audio/x-aac",".avi":"video/x-msvideo",".bmp":"image/bmp",".flv":"video/x-flv",".gif":"image/gif",".ico":"image/x-icon",".jpe":"image/jpg",".jpeg":"image/jpg",".jpg":"image/jpg",".m1v":"video/mpeg",".m2a":"audio/mpeg",".m2v":"video/mpeg",".m3a":"audio/mpeg",".mid":"audio/midi",".midi":"audio/midi",".mk3d":"video/x-matroska",".mks":"video/x-matroska",".mkv":"video/x-matroska",".mov":"video/quicktime",".movie":"video/x-sgi-movie",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4a":"audio/mp4",".mp4v":"video/mp4",".mpe":"video/mpeg",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpg4":"video/mp4",".mpga":"audio/mpeg",".oga":"audio/ogg",".ogg":"audio/ogg",".opus":"audio/opus",".ogv":"video/ogg",".png":"image/png",".psd":"image/vnd.adobe.photoshop",".qt":"video/quicktime",".spx":"audio/ogg",".svg":"image/svg+xml",".tga":"image/x-tga",".tif":"image/tiff",".tiff":"image/tiff",".wav":"audio/x-wav",".webm":"video/webm",".webp":"image/webp",".wma":"audio/x-ms-wma",".wmv":"video/x-ms-wmv",".woff":"application/font-woff"};function S(b){const B=(0,F.$dc)(b),m=j[B.toLowerCase()];return m!==void 0?m:q(b)}e.$sr=S;function q(b){const B=(0,F.$dc)(b);return D[B.toLowerCase()]}e.$tr=q;function V(b){for(const B in D)if(D[B]===b)return B}e.$ur=V;const E=/^(.+)\/(.+?)(;.+)?$/;function o(b,B){const m=E.exec(b);return m?`${m[1].toLowerCase()}/${m[2].toLowerCase()}${m[3]??""}`:B?void 0:b}e.$vr=o}),define(st[15],rt([0,1,5,7]),function(nt,e,F,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Hb=e.$Gb=e.$Fb=e.$Eb=e.$Db=e.$Cb=e.$Bb=e.$Ab=e.$zb=e.$yb=e.$xb=e.$wb=e.$vb=e.$ub=e.$tb=void 0;function D(i){const u=i;return u?typeof u.read=="function":!1}e.$tb=D;function S(i){const u=i;return u?[u.on,u.pause,u.resume,u.destroy].every(a=>typeof a=="function"):!1}e.$ub=S;function q(i){const u=i;return u?S(u.stream)&&Array.isArray(u.buffer)&&typeof u.ended=="boolean":!1}e.$vb=q;function V(i,u){return new E(i,u)}e.$wb=V;class E{constructor(u,a){this.e=u,this.f=a,this.a={flowing:!1,ended:!1,destroyed:!1},this.b={data:[],error:[]},this.c={data:[],error:[],end:[]},this.d=[]}pause(){this.a.destroyed||(this.a.flowing=!1)}resume(){this.a.destroyed||this.a.flowing||(this.a.flowing=!0,this.j(),this.k(),this.l())}write(u){if(!this.a.destroyed){if(this.a.flowing)this.g(u);else if(this.b.data.push(u),typeof this.f?.highWaterMark=="number"&&this.b.data.length>this.f.highWaterMark)return new Promise(a=>this.d.push(a))}}error(u){this.a.destroyed||(this.a.flowing?this.h(u):this.b.error.push(u))}end(u){this.a.destroyed||(typeof u<"u"&&this.write(u),this.a.flowing?(this.i(),this.destroy()):this.a.ended=!0)}g(u){this.c.data.slice(0).forEach(a=>a(u))}h(u){this.c.error.length===0?(0,F.$X)(u):this.c.error.slice(0).forEach(a=>a(u))}i(){this.c.end.slice(0).forEach(u=>u())}on(u,a){if(!this.a.destroyed)switch(u){case"data":this.c.data.push(a),this.resume();break;case"end":this.c.end.push(a),this.a.flowing&&this.l()&&this.destroy();break;case"error":this.c.error.push(a),this.a.flowing&&this.k();break}}removeListener(u,a){if(this.a.destroyed)return;let w;switch(u){case"data":w=this.c.data;break;case"end":w=this.c.end;break;case"error":w=this.c.error;break}if(w){const I=w.indexOf(a);I>=0&&w.splice(I,1)}}j(){if(this.b.data.length>0){const u=this.e(this.b.data);this.g(u),this.b.data.length=0;const a=[...this.d];this.d.length=0,a.forEach(w=>w())}}k(){if(this.c.error.length>0){for(const u of this.b.error)this.h(u);this.b.error.length=0}}l(){return this.a.ended?(this.i(),this.c.end.length>0):!1}destroy(){this.a.destroyed||(this.a.destroyed=!0,this.a.ended=!0,this.b.data.length=0,this.b.error.length=0,this.c.data.length=0,this.c.error.length=0,this.c.end.length=0,this.d.length=0)}}function o(i,u){const a=[];let w;for(;(w=i.read())!==null;)a.push(w);return u(a)}e.$xb=o;function b(i,u,a){const w=[];let I;for(;(I=i.read())!==null&&w.length<a;)w.push(I);return I===null&&w.length>0?u(w):{read:()=>{if(w.length>0)return w.shift();if(typeof I<"u"){const P=I;return I=void 0,P}return i.read()}}}e.$yb=b;function B(i,u){return new Promise((a,w)=>{const I=[];m(i,{onData:P=>{u&&I.push(P)},onError:P=>{u?w(P):a(void 0)},onEnd:()=>{a(u?u(I):void 0)}})})}e.$zb=B;function m(i,u){let a=!1;return i.on("error",w=>{a||u.onError(w)}),i.on("end",()=>{a||u.onEnd()}),i.on("data",w=>{a||u.onData(w)}),(0,j.$ib)(()=>a=!0)}e.$Ab=m;function A(i,u){return new Promise((a,w)=>{const I=new j.$jb,P=[],O=M=>{if(P.push(M),P.length>u)return I.dispose(),i.pause(),a({stream:i,buffer:P,ended:!1})},f=M=>w(M),C=()=>a({stream:i,buffer:P,ended:!0});I.add((0,j.$ib)(()=>i.removeListener("error",f))),i.on("error",f),I.add((0,j.$ib)(()=>i.removeListener("end",C))),i.on("end",C),I.add((0,j.$ib)(()=>i.removeListener("data",O))),i.on("data",O)})}e.$Bb=A;function $(i,u){const a=V(u);return a.end(i),a}e.$Cb=$;function h(){const i=V(()=>{throw new Error("not supported")});return i.end(),i}e.$Db=h;function s(i){let u=!1;return{read:()=>u?null:(u=!0,i)}}e.$Eb=s;function c(i,u,a){const w=V(a);return m(i,{onData:I=>w.write(u.data(I)),onError:I=>w.error(u.error?u.error(I):I),onEnd:()=>w.end()}),w}e.$Fb=c;function n(i,u,a){let w=!1;return{read:()=>{const I=u.read();return w?I:(w=!0,I!==null?a([i,I]):i)}}}e.$Gb=n;function l(i,u,a){let w=!1;const I=V(a);return m(u,{onData:P=>w?I.write(P):(w=!0,I.write(a([i,P]))),onError:P=>I.error(P),onEnd:()=>{w||(w=!0,I.write(i)),I.end()}}),I}e.$Hb=l}),define(st[6],rt([0,1,36,15]),function(nt,e,F,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$2b=e.$1b=e.$Zb=e.$Yb=e.$Xb=e.$Wb=e.$Vb=e.$Ub=e.$Tb=e.$Sb=e.$Rb=e.$Qb=e.$Pb=e.$Ob=e.$Nb=e.$Mb=e.$Lb=e.$Kb=e.$Jb=e.$Ib=void 0;const D=typeof Buffer<"u",S=new F.$S(()=>new Uint8Array(256));let q,V;class E{static alloc(v){return D?new E(Buffer.allocUnsafe(v)):new E(new Uint8Array(v))}static wrap(v){return D&&!Buffer.isBuffer(v)&&(v=Buffer.from(v.buffer,v.byteOffset,v.byteLength)),new E(v)}static fromString(v,N){return!(N?.dontUseNodeBuffer||!1)&&D?new E(Buffer.from(v)):(q||(q=new TextEncoder),new E(q.encode(v)))}static fromByteArray(v){const N=E.alloc(v.length);for(let G=0,Z=v.length;G<Z;G++)N.buffer[G]=v[G];return N}static concat(v,N){if(typeof N>"u"){N=0;for(let _=0,tt=v.length;_<tt;_++)N+=v[_].byteLength}const G=E.alloc(N);let Z=0;for(let _=0,tt=v.length;_<tt;_++){const J=v[_];G.set(J,Z),Z+=J.byteLength}return G}constructor(v){this.buffer=v,this.byteLength=this.buffer.byteLength}clone(){const v=E.alloc(this.byteLength);return v.set(this),v}toString(){return D?this.buffer.toString():(V||(V=new TextDecoder),V.decode(this.buffer))}slice(v,N){return new E(this.buffer.subarray(v,N))}set(v,N){if(v instanceof E)this.buffer.set(v.buffer,N);else if(v instanceof Uint8Array)this.buffer.set(v,N);else if(v instanceof ArrayBuffer)this.buffer.set(new Uint8Array(v),N);else if(ArrayBuffer.isView(v))this.buffer.set(new Uint8Array(v.buffer,v.byteOffset,v.byteLength),N);else throw new Error("Unknown argument 'array'")}readUInt32BE(v){return B(this.buffer,v)}writeUInt32BE(v,N){m(this.buffer,v,N)}readUInt32LE(v){return A(this.buffer,v)}writeUInt32LE(v,N){$(this.buffer,v,N)}readUInt8(v){return h(this.buffer,v)}writeUInt8(v,N){s(this.buffer,v,N)}indexOf(v){const N=v instanceof E?v.buffer:v,G=N.byteLength,Z=this.buffer,_=Z.byteLength;if(G===0)return 0;if(G===1)return Z.indexOf(N[0]);if(G>_)return-1;const tt=S.value;tt.fill(N.length);for(let y=0;y<N.length;y++)tt[N[y]]=N.length-y-1;let J=N.length-1,x=J,lt=-1;for(;J<_;)if(Z[J]===N[x]){if(x===0){lt=J;break}J--,x--}else J+=Math.max(N.length-x,tt[Z[J]]),x=N.length-1;return lt}}e.$Ib=E;function o(L,v){return L[v+0]<<0>>>0|L[v+1]<<8>>>0}e.$Jb=o;function b(L,v,N){L[N+0]=v&255,v=v>>>8,L[N+1]=v&255}e.$Kb=b;function B(L,v){return L[v]*2**24+L[v+1]*2**16+L[v+2]*2**8+L[v+3]}e.$Lb=B;function m(L,v,N){L[N+3]=v,v=v>>>8,L[N+2]=v,v=v>>>8,L[N+1]=v,v=v>>>8,L[N]=v}e.$Mb=m;function A(L,v){return L[v+0]<<0>>>0|L[v+1]<<8>>>0|L[v+2]<<16>>>0|L[v+3]<<24>>>0}e.$Nb=A;function $(L,v,N){L[N+0]=v&255,v=v>>>8,L[N+1]=v&255,v=v>>>8,L[N+2]=v&255,v=v>>>8,L[N+3]=v&255}e.$Ob=$;function h(L,v){return L[v]}e.$Pb=h;function s(L,v,N){L[N]=v}e.$Qb=s;function c(L){return j.$xb(L,v=>E.concat(v))}e.$Rb=c;function n(L){return j.$Eb(L)}e.$Sb=n;function l(L){return j.$zb(L,v=>E.concat(v))}e.$Tb=l;async function i(L){return L.ended?E.concat(L.buffer):E.concat([...L.buffer,await l(L.stream)])}e.$Ub=i;function u(L){return j.$Cb(L,v=>E.concat(v))}e.$Vb=u;function a(L){return j.$Fb(L,{data:v=>typeof v=="string"?E.fromString(v):E.wrap(v)},v=>E.concat(v))}e.$Wb=a;function w(L){return j.$wb(v=>E.concat(v),L)}e.$Xb=w;function I(L,v){return j.$Gb(L,v,N=>E.concat(N))}e.$Yb=I;function P(L,v){return j.$Hb(L,v,N=>E.concat(N))}e.$Zb=P;function O(L){let v=0,N=0,G=0;const Z=new Uint8Array(Math.floor(L.length/4*3)),_=J=>{switch(N){case 3:Z[G++]=v|J,N=0;break;case 2:Z[G++]=v|J>>>2,v=J<<6,N=3;break;case 1:Z[G++]=v|J>>>4,v=J<<4,N=2;break;default:v=J<<2,N=1}};for(let J=0;J<L.length;J++){const x=L.charCodeAt(J);if(x>=65&&x<=90)_(x-65);else if(x>=97&&x<=122)_(x-97+26);else if(x>=48&&x<=57)_(x-48+52);else if(x===43||x===45)_(62);else if(x===47||x===95)_(63);else{if(x===61)break;throw new SyntaxError(`Unexpected base64 character ${L[J]}`)}}const tt=G;for(;N>0;)_(0);return E.wrap(Z).slice(0,tt)}e.$1b=O;const f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function M({buffer:L},v=!0,N=!1){const G=N?C:f;let Z="";const _=L.byteLength%3;let tt=0;for(;tt<L.byteLength-_;tt+=3){const J=L[tt+0],x=L[tt+1],lt=L[tt+2];Z+=G[J>>>2],Z+=G[(J<<4|x>>>4)&63],Z+=G[(x<<2|lt>>>6)&63],Z+=G[lt&63]}if(_===1){const J=L[tt+0];Z+=G[J>>>2],Z+=G[J<<4&63],v&&(Z+="==")}else if(_===2){const J=L[tt+0],x=L[tt+1];Z+=G[J>>>2],Z+=G[(J<<4|x>>>4)&63],Z+=G[x<<2&63],v&&(Z+="=")}return Z}e.$2b=M}),define(st[16],rt([0,1]),function(nt,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$2c=void 0,e.$2c=Symbol("MicrotaskDelay")}),define(st[8],rt([0,1,4,2,3,37]),function(nt,e,F,j,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Pe=e.$Oe=e.$Ne=e.$Me=e.$Le=e.$Ke=e.$Je=e.$Ie=e.$He=e.$Ge=e.$Fe=e.$Ee=e.$De=e.$Ce=e.$Be=e.$Ae=void 0;function q(f){return f===47||f===92}e.$Ae=q;function V(f){return f.replace(/[\\/]/g,F.$8b.sep)}e.$Be=V;function E(f){return f.indexOf("/")===-1&&(f=V(f)),/^[a-zA-Z]:(\/|$)/.test(f)&&(f="/"+f),f}e.$Ce=E;function o(f,C=F.$8b.sep){if(!f)return"";const M=f.length,L=f.charCodeAt(0);if(q(L)){if(q(f.charCodeAt(1))&&!q(f.charCodeAt(2))){let N=3;const G=N;for(;N<M&&!q(f.charCodeAt(N));N++);if(G!==N&&!q(f.charCodeAt(N+1))){for(N+=1;N<M;N++)if(q(f.charCodeAt(N)))return f.slice(0,N+1).replace(/[\\/]/g,C)}}return C}else if(c(L)&&f.charCodeAt(1)===58)return q(f.charCodeAt(2))?f.slice(0,2)+C:f.slice(0,2);let v=f.indexOf("://");if(v!==-1){for(v+=3;v<M;v++)if(q(f.charCodeAt(v)))return f.slice(0,v+1)}return""}e.$De=o;function b(f){if(!j.$d||!f||f.length<5)return!1;let C=f.charCodeAt(0);if(C!==92||(C=f.charCodeAt(1),C!==92))return!1;let M=2;const L=M;for(;M<f.length&&(C=f.charCodeAt(M),C!==92);M++);return!(L===M||(C=f.charCodeAt(M+1),isNaN(C)||C===92))}e.$Ee=b;const B=/[\\/:\*\?"<>\|]/g,m=/[\\/]/g,A=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function $(f,C=j.$d){const M=C?B:m;return!(!f||f.length===0||/^\s+$/.test(f)||(M.lastIndex=0,M.test(f))||C&&A.test(f)||f==="."||f===".."||C&&f[f.length-1]==="."||C&&f.length!==f.trim().length||f.length>255)}e.$Fe=$;function h(f,C,M){const L=f===C;return!M||L?L:!f||!C?!1:(0,D.$Jd)(f,C)}e.$Ge=h;function s(f,C,M,L=F.sep){if(f===C)return!0;if(!f||!C||C.length>f.length)return!1;if(M){if(!(0,D.$Kd)(f,C))return!1;if(C.length===f.length)return!0;let N=C.length;return C.charAt(C.length-1)===L&&N--,f.charAt(N)===L}return C.charAt(C.length-1)!==L&&(C+=L),f.indexOf(C)===0}e.$He=s;function c(f){return f>=65&&f<=90||f>=97&&f<=122}e.$Ie=c;function n(f,C){return j.$d&&f.endsWith(":")&&(f+=F.sep),(0,F.$0b)(f)||(f=(0,F.$$b)(C,f)),f=(0,F.$9b)(f),j.$d?(f=(0,D.$qd)(f,F.sep),f.endsWith(":")&&(f+=F.sep)):(f=(0,D.$qd)(f,F.sep),f||(f=F.sep)),f}e.$Je=n;function l(f){const C=(0,F.$9b)(f);return j.$d?f.length>3?!1:i(C)&&(f.length===2||C.charCodeAt(2)===92):C===F.$8b.sep}e.$Ke=l;function i(f,C=j.$d){return C?c(f.charCodeAt(0))&&f.charCodeAt(1)===58:!1}e.$Le=i;function u(f,C=j.$d){return i(f,C)?f[0]:void 0}e.$Me=u;function a(f,C,M){return C.length>f.length?-1:f===C?0:(M&&(f=f.toLowerCase(),C=C.toLowerCase()),f.indexOf(C))}e.$Ne=a;function w(f){const C=f.split(":");let M,L,v;for(const N of C){const G=Number(N);(0,S.$ke)(G)?L===void 0?L=G:v===void 0&&(v=G):M=M?[M,N].join(":"):N}if(!M)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:M,line:L!==void 0?L:void 0,column:v!==void 0?v:L!==void 0?1:void 0}}e.$Oe=w;const I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",P="BDEFGHIJKMOQRSTUVWXYZbdefghijkmoqrstuvwxyz0123456789";function O(f,C,M=8){let L="";for(let N=0;N<M;N++){let G;N===0&&j.$d&&!C&&(M===3||M===4)?G=P:G=I,L+=G.charAt(Math.floor(Math.random()*G.length))}let v;return C?v=`${C}-${L}`:v=L,f?(0,F.$$b)(f,v):v}e.$Pe=O}),define(st[9],rt([0,1,5,2,10]),function(nt,e,F,j,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.$1e=e.$Ze=e.$Ye=e.$Xe=e.$We=e.$Ve=e.$Ue=e.$Te=e.Schemas=void 0;var S;(function(o){o.inMemory="inmemory",o.vscode="vscode",o.internal="private",o.walkThrough="walkThrough",o.walkThroughSnippet="walkThroughSnippet",o.http="http",o.https="https",o.file="file",o.mailto="mailto",o.untitled="untitled",o.data="data",o.command="command",o.vscodeRemote="vscode-remote",o.vscodeRemoteResource="vscode-remote-resource",o.vscodeManagedRemoteResource="vscode-managed-remote-resource",o.vscodeUserData="vscode-userdata",o.vscodeCustomEditor="vscode-custom-editor",o.vscodeNotebookCell="vscode-notebook-cell",o.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",o.vscodeNotebookCellOutput="vscode-notebook-cell-output",o.vscodeInteractiveInput="vscode-interactive-input",o.vscodeSettings="vscode-settings",o.vscodeWorkspaceTrust="vscode-workspace-trust",o.vscodeTerminal="vscode-terminal",o.vscodeChatSesssion="vscode-chat-editor",o.webviewPanel="webview-panel",o.vscodeWebview="vscode-webview",o.extension="extension",o.vscodeFileResource="vscode-file",o.tmp="tmp",o.vsls="vsls",o.vscodeSourceControl="vscode-scm"})(S||(e.Schemas=S={})),e.$Te="vscode-tkn",e.$Ue="tkn";class q{constructor(){this.a=Object.create(null),this.b=Object.create(null),this.c=Object.create(null),this.d="http",this.e=null,this.f=`/${S.vscodeRemoteResource}`}setPreferredWebSchema(b){this.d=b}setDelegate(b){this.e=b}setServerRootPath(b){this.f=`${b}/${S.vscodeRemoteResource}`}set(b,B,m){this.a[b]=B,this.b[b]=m}setConnectionToken(b,B){this.c[b]=B}getPreferredWebSchema(){return this.d}rewrite(b){if(this.e)try{return this.e(b)}catch(s){return F.$X(s),b}const B=b.authority;let m=this.a[B];m&&m.indexOf(":")!==-1&&m.indexOf("[")===-1&&(m=`[${m}]`);const A=this.b[B],$=this.c[B];let h=`path=${encodeURIComponent(b.path)}`;return typeof $=="string"&&(h+=`&${e.$Ue}=${encodeURIComponent($)}`),D.URI.from({scheme:j.$j?this.d:S.vscodeRemoteResource,authority:`${m}:${A}`,path:j.$j?(window.location.pathname+"/"+this.f).replace(/\/\/+/g,"/"):this.f,query:h})}}e.$Ve=new q,e.$We="vs/../../extensions",e.$Xe="vs/../../node_modules",e.$Ye="vs/../../node_modules.asar",e.$Ze="vs/../../node_modules.asar.unpacked";class V{asBrowserUri(b){const B=this.b(b,nt);return this.uriToBrowserUri(B)}uriToBrowserUri(b){return b.scheme===S.vscodeRemote?e.$Ve.rewrite(b):b.scheme===S.file&&(j.$h||j.$k&&j.$b.origin===`${S.vscodeFileResource}://${V.a}`)?b.with({scheme:S.vscodeFileResource,authority:b.authority||V.a,query:null,fragment:null}):b}asFileUri(b){const B=this.b(b,nt);return this.uriToFileUri(B)}uriToFileUri(b){return b.scheme===S.vscodeFileResource?b.with({scheme:S.file,authority:b.authority!==V.a?b.authority:null,query:null,fragment:null}):b}b(b,B){return D.URI.isUri(b)?b:D.URI.parse(B.toUrl(b))}}V.a="vscode-app",e.$1e=new V;var E;(function(o){const b=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);o.CoopAndCoep=Object.freeze(b.get("3"));const B="vscode-coi";function m($){let h;typeof $=="string"?h=new URL($).searchParams:$ instanceof URL?h=$.searchParams:D.URI.isUri($)&&(h=new URL($.toString(!0)).searchParams);const s=h?.get(B);if(s)return b.get(s)}o.getHeadersFromQuery=m;function A($,h,s){if(!globalThis.crossOriginIsolated)return;const c=h&&s?"3":s?"2":"1";$ instanceof URLSearchParams?$.set(B,c):$[B]=c}o.addSearchParam=A})(E||(e.COI=E={}))}),define(st[17],rt([0,1,8,9,4,2,3,10]),function(nt,e,F,j,D,S,q,V){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$dg=e.DataUri=e.$cg=e.$bg=e.$ag=e.$_f=e.$$f=e.$0f=e.$9f=e.$8f=e.$7f=e.$6f=e.$5f=e.$4f=e.$3f=e.$2f=e.$1f=e.$Zf=e.$Yf=e.$Xf=e.$Wf=e.$Vf=e.$Uf=e.$Tf=void 0;function E(A){return(0,V.$Se)(A,!0)}e.$Tf=E;class o{constructor($){this.a=$}compare($,h,s=!1){return $===h?0:(0,q.$Cd)(this.getComparisonKey($,s),this.getComparisonKey(h,s))}isEqual($,h,s=!1){return $===h?!0:!$||!h?!1:this.getComparisonKey($,s)===this.getComparisonKey(h,s)}getComparisonKey($,h=!1){return $.with({path:this.a($)?$.path.toLowerCase():void 0,fragment:h?null:void 0}).toString()}ignorePathCasing($){return this.a($)}isEqualOrParent($,h,s=!1){if($.scheme===h.scheme){if($.scheme===j.Schemas.file)return F.$He(E($),E(h),this.a($))&&$.query===h.query&&(s||$.fragment===h.fragment);if((0,e.$$f)($.authority,h.authority))return F.$He($.path,h.path,this.a($),"/")&&$.query===h.query&&(s||$.fragment===h.fragment)}return!1}joinPath($,...h){return V.URI.joinPath($,...h)}basenameOrAuthority($){return(0,e.$3f)($)||$.authority}basename($){return D.$8b.basename($.path)}extname($){return D.$8b.extname($.path)}dirname($){if($.path.length===0)return $;let h;return $.scheme===j.Schemas.file?h=V.URI.file(D.$bc(E($))).path:(h=D.$8b.dirname($.path),$.authority&&h.length&&h.charCodeAt(0)!==47&&(console.error(`dirname("${$.toString})) resulted in a relative path`),h="/")),$.with({path:h})}normalizePath($){if(!$.path.length)return $;let h;return $.scheme===j.Schemas.file?h=V.URI.file(D.$9b(E($))).path:h=D.$8b.normalize($.path),$.with({path:h})}relativePath($,h){if($.scheme!==h.scheme||!(0,e.$$f)($.authority,h.authority))return;if($.scheme===j.Schemas.file){const n=D.$ac(E($),E(h));return S.$d?F.$Be(n):n}let s=$.path||"/";const c=h.path||"/";if(this.a($)){let n=0;for(const l=Math.min(s.length,c.length);n<l&&!(s.charCodeAt(n)!==c.charCodeAt(n)&&s.charAt(n).toLowerCase()!==c.charAt(n).toLowerCase());n++);s=c.substr(0,n)+s.substr(n)}return D.$8b.relative(s,c)}resolvePath($,h){if($.scheme===j.Schemas.file){const s=V.URI.file(D.$_b(E($),h));return $.with({authority:s.authority,path:s.path})}return h=F.$Ce(h),$.with({path:D.$8b.resolve($.path,h)})}isAbsolutePath($){return!!$.path&&$.path[0]==="/"}isEqualAuthority($,h){return $===h||$!==void 0&&h!==void 0&&(0,q.$Jd)($,h)}hasTrailingPathSeparator($,h=D.sep){if($.scheme===j.Schemas.file){const s=E($);return s.length>F.$De(s).length&&s[s.length-1]===h}else{const s=$.path;return s.length>1&&s.charCodeAt(s.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test($.fsPath)}}removeTrailingPathSeparator($,h=D.sep){return(0,e.$_f)($,h)?$.with({path:$.path.substr(0,$.path.length-1)}):$}addTrailingPathSeparator($,h=D.sep){let s=!1;if($.scheme===j.Schemas.file){const c=E($);s=c!==void 0&&c.length===F.$De(c).length&&c[c.length-1]===h}else{h="/";const c=$.path;s=c.length===1&&c.charCodeAt(c.length-1)===47}return!s&&!(0,e.$_f)($,h)?$.with({path:$.path+"/"}):$}}e.$Uf=o,e.$Vf=new o(()=>!1),e.$Wf=new o(A=>A.scheme===j.Schemas.file?!S.$f:!0),e.$Xf=new o(A=>!0),e.$Yf=e.$Vf.isEqual.bind(e.$Vf),e.$Zf=e.$Vf.isEqualOrParent.bind(e.$Vf),e.$1f=e.$Vf.getComparisonKey.bind(e.$Vf),e.$2f=e.$Vf.basenameOrAuthority.bind(e.$Vf),e.$3f=e.$Vf.basename.bind(e.$Vf),e.$4f=e.$Vf.extname.bind(e.$Vf),e.$5f=e.$Vf.dirname.bind(e.$Vf),e.$6f=e.$Vf.joinPath.bind(e.$Vf),e.$7f=e.$Vf.normalizePath.bind(e.$Vf),e.$8f=e.$Vf.relativePath.bind(e.$Vf),e.$9f=e.$Vf.resolvePath.bind(e.$Vf),e.$0f=e.$Vf.isAbsolutePath.bind(e.$Vf),e.$$f=e.$Vf.isEqualAuthority.bind(e.$Vf),e.$_f=e.$Vf.hasTrailingPathSeparator.bind(e.$Vf),e.$ag=e.$Vf.removeTrailingPathSeparator.bind(e.$Vf),e.$bg=e.$Vf.addTrailingPathSeparator.bind(e.$Vf);function b(A,$){const h=[];for(let s=0;s<A.length;s++){const c=$(A[s]);A.some((n,l)=>l===s?!1:(0,e.$Zf)(c,$(n)))||h.push(A[s])}return h}e.$cg=b;var B;(function(A){A.META_DATA_LABEL="label",A.META_DATA_DESCRIPTION="description",A.META_DATA_SIZE="size",A.META_DATA_MIME="mime";function $(h){const s=new Map;h.path.substring(h.path.indexOf(";")+1,h.path.lastIndexOf(";")).split(";").forEach(l=>{const[i,u]=l.split(":");i&&u&&s.set(i,u)});const n=h.path.substring(0,h.path.indexOf(";"));return n&&s.set(A.META_DATA_MIME,n),s}A.parseMetaData=$})(B||(e.DataUri=B={}));function m(A,$,h){if($){let s=A.path;return s&&s[0]!==D.$8b.sep&&(s=D.$8b.sep+s),A.with({scheme:h,authority:$,path:s})}return A.with({scheme:h})}e.$dg=m}),define(st[18],rt([0,1,38,5,19,7,17,2,16]),function(nt,e,F,j,D,S,q,V,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Og=e.$Ng=e.$Mg=e.Promises=e.$Lg=e.$Kg=e.$Jg=e.$Ig=e.$Hg=e.$Gg=e.$Fg=e.$Eg=e.$Dg=e.$Cg=e.$Bg=e.$Ag=e.$zg=e.$yg=e.$xg=e.$wg=e.$vg=e.$ug=e.$tg=e.$sg=e.$rg=e.$qg=e.$pg=e.$og=e.$ng=e.$mg=e.$lg=e.$kg=e.$jg=e.$ig=e.$hg=e.$gg=e.$fg=e.$eg=void 0;function o(d){return!!d&&typeof d.then=="function"}e.$eg=o;function b(d){const t=new F.$bd,r=d(t.token),g=new Promise((p,U)=>{const H=t.token.onCancellationRequested(()=>{H.dispose(),t.dispose(),U(new j.$2)});Promise.resolve(r).then(Q=>{H.dispose(),t.dispose(),p(Q)},Q=>{H.dispose(),t.dispose(),U(Q)})});return new class{cancel(){t.cancel()}then(p,U){return g.then(p,U)}catch(p){return this.then(void 0,p)}finally(p){return g.finally(p)}}}e.$fg=b;function B(d,t,r){return new Promise((g,p)=>{const U=t.onCancellationRequested(()=>{U.dispose(),g(r)});d.then(g,p).finally(()=>U.dispose())})}e.$gg=B;function m(d,t){return new Promise((r,g)=>{const p=t.onCancellationRequested(()=>{p.dispose(),g(new j.$2)});d.then(r,g).finally(()=>p.dispose())})}e.$hg=m;async function A(d){let t=-1;const r=d.map((g,p)=>g.then(U=>(t=p,U)));try{return await Promise.race(r)}finally{d.forEach((g,p)=>{p!==t&&g.cancel()})}}e.$ig=A;function $(d,t,r){let g;const p=setTimeout(()=>{g?.(void 0),r?.()},t);return Promise.race([d.finally(()=>clearTimeout(p)),new Promise(U=>g=U)])}e.$jg=$;function h(d){return new Promise((t,r)=>{const g=d();o(g)?g.then(t,r):t(g)})}e.$kg=h;class s{constructor(){this.f=!1,this.a=null,this.b=null,this.d=null}queue(t){if(this.f)throw new Error("Throttler is disposed");if(this.a){if(this.d=t,!this.b){const r=()=>{if(this.b=null,this.f)return;const g=this.queue(this.d);return this.d=null,g};this.b=new Promise(g=>{this.a.then(r,r).then(g)})}return new Promise((r,g)=>{this.b.then(r,g)})}return this.a=t(),new Promise((r,g)=>{this.a.then(p=>{this.a=null,r(p)},p=>{this.a=null,g(p)})})}dispose(){this.f=!0}}e.$lg=s;class c{constructor(){this.a=Promise.resolve(null)}queue(t){return this.a=this.a.then(()=>t(),()=>t())}}e.$mg=c;class n{constructor(){this.a=new Map}queue(t,r){const p=(this.a.get(t)??Promise.resolve()).catch(()=>{}).then(r).finally(()=>{this.a.get(t)===p&&this.a.delete(t)});return this.a.set(t,p),p}}e.$ng=n;const l=(d,t)=>{let r=!0;const g=setTimeout(()=>{r=!1,t()},d);return{isTriggered:()=>r,dispose:()=>{clearTimeout(g),r=!1}}},i=d=>{let t=!0;return queueMicrotask(()=>{t&&(t=!1,d())}),{isTriggered:()=>t,dispose:()=>{t=!1}}};class u{constructor(t){this.defaultDelay=t,this.a=null,this.b=null,this.d=null,this.f=null,this.g=null}trigger(t,r=this.defaultDelay){this.g=t,this.h(),this.b||(this.b=new Promise((p,U)=>{this.d=p,this.f=U}).then(()=>{if(this.b=null,this.d=null,this.g){const p=this.g;return this.g=null,p()}}));const g=()=>{this.a=null,this.d?.(null)};return this.a=r===E.$2c?i(g):l(r,g),this.b}isTriggered(){return!!this.a?.isTriggered()}cancel(){this.h(),this.b&&(this.f?.(new j.$2),this.b=null)}h(){this.a?.dispose(),this.a=null}dispose(){this.cancel()}}e.$og=u;class a{constructor(t){this.a=new u(t),this.b=new s}trigger(t,r){return this.a.trigger(()=>this.b.queue(t),r)}isTriggered(){return this.a.isTriggered()}cancel(){this.a.cancel()}dispose(){this.a.dispose()}}e.$pg=a;class w{constructor(){this.a=!1,this.b=new Promise((t,r)=>{this.d=t})}isOpen(){return this.a}open(){this.a=!0,this.d(!0)}wait(){return this.b}}e.$qg=w;class I extends w{constructor(t){super(),this.f=setTimeout(()=>this.open(),t)}open(){clearTimeout(this.f),super.open()}}e.$rg=I;function P(d,t){return t?new Promise((r,g)=>{const p=setTimeout(()=>{U.dispose(),r()},d),U=t.onCancellationRequested(()=>{clearTimeout(p),U.dispose(),g(new j.$2)})}):b(r=>P(d,r))}e.$sg=P;function O(d,t=0){const r=setTimeout(d,t);return(0,S.$ib)(()=>clearTimeout(r))}e.$tg=O;function f(d){const t=[];let r=0;const g=d.length;function p(){return r<g?d[r++]():null}function U(H){H!=null&&t.push(H);const Q=p();return Q?Q.then(U):Promise.resolve(t)}return Promise.resolve(null).then(U)}e.$ug=f;function C(d,t=g=>!!g,r=null){let g=0;const p=d.length,U=()=>{if(g>=p)return Promise.resolve(r);const H=d[g++];return Promise.resolve(H()).then(it=>t(it)?Promise.resolve(it):U())};return U()}e.$vg=C;function M(d,t=g=>!!g,r=null){if(d.length===0)return Promise.resolve(r);let g=d.length;const p=()=>{g=-1;for(const U of d)U.cancel?.()};return new Promise((U,H)=>{for(const Q of d)Q.then(it=>{--g>=0&&t(it)?(p(),U(it)):g===0&&U(r)}).catch(it=>{--g>=0&&(p(),H(it))})})}e.$wg=M;class L{constructor(t){this.a=0,this.d=t,this.f=[],this.b=0,this.g=new D.$5c}get onDrained(){return this.g.event}get size(){return this.a}queue(t){return this.a++,new Promise((r,g)=>{this.f.push({factory:t,c:r,e:g}),this.h()})}h(){for(;this.f.length&&this.b<this.d;){const t=this.f.shift();this.b++;const r=t.factory();r.then(t.c,t.e),r.then(()=>this.j(),()=>this.j())}}j(){this.a--,this.b--,this.f.length>0?this.h():this.g.fire()}dispose(){this.g.dispose()}}e.$xg=L;class v extends L{constructor(){super(1)}}e.$yg=v;class N{constructor(){this.a=new Map,this.b=new Set}async whenDrained(){if(this.d())return;const t=new k;return this.b.add(t),t.p}d(){for(const[,t]of this.a)if(t.size>0)return!1;return!0}queueFor(t,r=q.$Vf){const g=r.getComparisonKey(t);let p=this.a.get(g);return p||(p=new v,D.Event.once(p.onDrained)(()=>{p?.dispose(),this.a.delete(g),this.f()}),this.a.set(g,p)),p}f(){this.d()&&this.g()}g(){for(const t of this.b)t.complete();this.b.clear()}dispose(){for(const[,t]of this.a)t.dispose();this.a.clear(),this.g()}}e.$zg=N;class G{constructor(t,r){this.a=-1,typeof t=="function"&&typeof r=="number"&&this.setIfNotSet(t,r)}dispose(){this.cancel()}cancel(){this.a!==-1&&(clearTimeout(this.a),this.a=-1)}cancelAndSet(t,r){this.cancel(),this.a=setTimeout(()=>{this.a=-1,t()},r)}setIfNotSet(t,r){this.a===-1&&(this.a=setTimeout(()=>{this.a=-1,t()},r))}}e.$Ag=G;class Z{constructor(){this.a=-1}dispose(){this.cancel()}cancel(){this.a!==-1&&(clearInterval(this.a),this.a=-1)}cancelAndSet(t,r){this.cancel(),this.a=setInterval(()=>{t()},r)}}e.$Bg=Z;class _{constructor(t,r){this.b=-1,this.a=t,this.d=r,this.f=this.g.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearTimeout(this.b),this.b=-1)}schedule(t=this.d){this.cancel(),this.b=setTimeout(this.f,t)}get delay(){return this.d}set delay(t){this.d=t}isScheduled(){return this.b!==-1}flush(){this.isScheduled()&&(this.cancel(),this.h())}g(){this.b=-1,this.a&&this.h()}h(){this.a?.()}}e.$Cg=_;class tt{constructor(t,r){r%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${r}ms is not a multiple of 1000ms.`),this.a=t,this.b=r,this.d=0,this.f=-1,this.g=this.h.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearInterval(this.f),this.f=-1)}schedule(t=this.b){t%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${t}ms is not a multiple of 1000ms.`),this.cancel(),this.d=Math.ceil(t/1e3),this.f=setInterval(this.g,1e3)}isScheduled(){return this.f!==-1}h(){this.d--,!(this.d>0)&&(clearInterval(this.f),this.f=-1,this.a?.())}}e.$Dg=tt;class J extends _{constructor(t,r){super(t,r),this.j=[]}work(t){this.j.push(t),this.isScheduled()||this.schedule()}h(){const t=this.j;this.j=[],this.a?.(t)}dispose(){this.j=[],super.dispose()}}e.$Eg=J;class x extends S.$kb{constructor(t,r){super(),this.g=t,this.h=r,this.a=[],this.b=this.B(new S.$lb),this.f=!1}get pending(){return this.a.length}work(t){if(this.f)return!1;if(typeof this.g.maxBufferedWork=="number"){if(this.b.value){if(this.pending+t.length>this.g.maxBufferedWork)return!1}else if(this.pending+t.length-this.g.maxWorkChunkSize>this.g.maxBufferedWork)return!1}for(const r of t)this.a.push(r);return this.b.value||this.j(),!0}j(){this.h(this.a.splice(0,this.g.maxWorkChunkSize)),this.a.length>0&&(this.b.value=new _(()=>{this.b.clear(),this.j()},this.g.throttleDelay),this.b.value.schedule())}dispose(){super.dispose(),this.f=!0}}e.$Fg=x,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?e.$Gg=d=>{(0,V.$v)(()=>{if(t)return;const r=Date.now()+15;d(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,r-Date.now())}}))});let t=!1;return{dispose(){t||(t=!0)}}}:e.$Gg=(d,t)=>{const r=requestIdleCallback(d,typeof t=="number"?{timeout:t}:void 0);let g=!1;return{dispose(){g||(g=!0,cancelIdleCallback(r))}}}}();class lt{constructor(t){this.d=!1,this.a=()=>{try{this.f=t()}catch(r){this.g=r}finally{this.d=!0}},this.b=(0,e.$Gg)(()=>this.a())}dispose(){this.b.dispose()}get value(){if(this.d||(this.b.dispose(),this.a()),this.g)throw this.g;return this.f}get isInitialized(){return this.d}}e.$Hg=lt;async function y(d,t,r){let g;for(let p=0;p<r;p++)try{return await d()}catch(U){g=U,await P(t)}throw g}e.$Ig=y;class X{hasPending(t){return this.a?typeof t=="number"?this.a.taskId===t:!!this.a:!1}get pending(){return this.a?.promise}cancelPending(){this.a?.cancel()}setPending(t,r,g){return this.a={taskId:t,cancel:()=>g?.(),promise:r},r.then(()=>this.d(t),()=>this.d(t)),r}d(t){this.a&&t===this.a.taskId&&(this.a=void 0,this.f())}f(){if(this.b){const t=this.b;this.b=void 0,t.run().then(t.promiseResolve,t.promiseReject)}}setNext(t){if(this.b)this.b.run=t;else{let r,g;const p=new Promise((U,H)=>{r=U,g=H});this.b={run:t,promise:p,promiseResolve:r,promiseReject:g}}return this.b.promise}hasNext(){return!!this.b}async join(){return this.b?.promise??this.a?.promise}}e.$Jg=X;class R{constructor(t,r=()=>Date.now()){this.d=t,this.f=r,this.a=0,this.b=0}increment(){const t=this.f();return t-this.a>this.d&&(this.a=t,this.b=0),this.b++,this.b}}e.$Kg=R;var z;(function(d){d[d.Resolved=0]="Resolved",d[d.Rejected=1]="Rejected"})(z||(z={}));class k{get isRejected(){return this.d?.outcome===1}get isResolved(){return this.d?.outcome===0}get isSettled(){return!!this.d}get value(){return this.d?.outcome===0?this.d?.value:void 0}constructor(){this.p=new Promise((t,r)=>{this.a=t,this.b=r})}complete(t){return new Promise(r=>{this.a(t),this.d={outcome:0,value:t},r()})}error(t){return new Promise(r=>{this.b(t),this.d={outcome:1,value:t},r()})}cancel(){return this.error(new j.$2)}}e.$Lg=k;var Y;(function(d){async function t(g){let p;const U=await Promise.all(g.map(H=>H.then(Q=>Q,Q=>{p||(p=Q)})));if(typeof p<"u")throw p;return U}d.settled=t;function r(g){return new Promise(async(p,U)=>{try{await g(p,U)}catch(H){U(H)}})}d.withAsyncBody=r})(Y||(e.Promises=Y={}));var W;(function(d){d[d.Initial=0]="Initial",d[d.DoneOK=1]="DoneOK",d[d.DoneError=2]="DoneError"})(W||(W={}));class K{static fromArray(t){return new K(r=>{r.emitMany(t)})}static fromPromise(t){return new K(async r=>{r.emitMany(await t)})}static fromPromises(t){return new K(async r=>{await Promise.all(t.map(async g=>r.emitOne(await g)))})}static merge(t){return new K(async r=>{await Promise.all(t.map(async g=>{for await(const p of g)r.emitOne(p)}))})}constructor(t){this.a=0,this.b=[],this.d=null,this.f=new D.$5c,queueMicrotask(async()=>{const r={emitOne:g=>this.g(g),emitMany:g=>this.h(g),reject:g=>this.k(g)};try{await Promise.resolve(t(r)),this.j()}catch(g){this.k(g)}finally{r.emitOne=void 0,r.emitMany=void 0,r.reject=void 0}})}[Symbol.asyncIterator](){let t=0;return{next:async()=>{do{if(this.a===2)throw this.d;if(t<this.b.length)return{done:!1,value:this.b[t++]};if(this.a===1)return{done:!0,value:void 0};await D.Event.toPromise(this.f.event)}while(!0)}}}static map(t,r){return new K(async g=>{for await(const p of t)g.emitOne(r(p))})}map(t){return K.map(this,t)}static filter(t,r){return new K(async g=>{for await(const p of t)r(p)&&g.emitOne(p)})}filter(t){return K.filter(this,t)}static coalesce(t){return K.filter(t,r=>!!r)}coalesce(){return K.coalesce(this)}static async toPromise(t){const r=[];for await(const g of t)r.push(g);return r}toPromise(){return K.toPromise(this)}g(t){this.a===0&&(this.b.push(t),this.f.fire())}h(t){this.a===0&&(this.b=this.b.concat(t),this.f.fire())}j(){this.a===0&&(this.a=1,this.f.fire())}k(t){this.a===0&&(this.a=2,this.d=t,this.f.fire())}}e.$Mg=K,K.EMPTY=K.fromArray([]);class et extends K{constructor(t,r){super(r),this.l=t}cancel(){this.l.cancel()}}e.$Ng=et;function T(d){const t=new F.$bd,r=d(t.token);return new et(t,async g=>{const p=t.token.onCancellationRequested(()=>{p.dispose(),t.dispose(),g.reject(new j.$2)});try{for await(const U of r){if(t.token.isCancellationRequested)return;g.emitOne(U)}p.dispose(),t.dispose()}catch(U){p.dispose(),t.dispose(),g.reject(U)}})}e.$Og=T}),define(st[20],rt([0,1,39,18,8,13,4,2,3]),function(nt,e,F,j,D,S,q,V,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ej=e.$dj=e.$cj=e.$bj=e.$aj=e.$_i=e.$$i=e.$0i=e.$9i=e.$8i=void 0;function o(){return Object.create(null)}e.$8i=o,e.$9i="**",e.$0i="/";const b="[/\\\\]",B="[^/\\\\]",m=/\//g;function A(R,z){switch(R){case 0:return"";case 1:return`${B}*?`;default:return`(?:${b}|${B}+${b}${z?`|${b}${B}+`:""})*?`}}function $(R,z){if(!R)return[];const k=[];let Y=!1,W=!1,K="";for(const et of R){switch(et){case z:if(!Y&&!W){k.push(K),K="";continue}break;case"{":Y=!0;break;case"}":Y=!1;break;case"[":W=!0;break;case"]":W=!1;break}K+=et}return K&&k.push(K),k}e.$$i=$;function h(R){if(!R)return"";let z="";const k=$(R,e.$0i);if(k.every(Y=>Y===e.$9i))z=".*";else{let Y=!1;k.forEach((W,K)=>{if(W===e.$9i){if(Y)return;z+=A(2,K===k.length-1)}else{let et=!1,T="",d=!1,t="";for(const r of W){if(r!=="}"&&et){T+=r;continue}if(d&&(r!=="]"||!t)){let g;r==="-"?g=r:(r==="^"||r==="!")&&!t?g="^":r===e.$0i?g="":g=(0,E.$ld)(r),t+=g;continue}switch(r){case"{":et=!0;continue;case"[":d=!0;continue;case"}":{const p=`(?:${$(T,",").map(U=>h(U)).join("|")})`;z+=p,et=!1,T="";break}case"]":{z+="["+t+"]",d=!1,t="";break}case"?":z+=B;continue;case"*":z+=A(1);continue;default:z+=(0,E.$ld)(r)}}K<k.length-1&&(k[K+1]!==e.$9i||K+2<k.length)&&(z+=b)}Y=W===e.$9i})}return z}const s=/^\*\*\/\*\.[\w\.-]+$/,c=/^\*\*\/([\w\.-]+)\/?$/,n=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,l=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,i=/^\*\*((\/[\w\.-]+)+)\/?$/,u=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,a=new S.$mi(1e4),w=function(){return!1},I=function(){return null};function P(R,z){if(!R)return I;let k;typeof R!="string"?k=R.pattern:k=R,k=k.trim();const Y=`${k}_${!!z.trimForExclusions}`;let W=a.get(Y);if(W)return O(W,R);let K;return s.test(k)?W=C(k.substr(4),k):(K=c.exec(f(k,z)))?W=M(K[1],k):(z.trimForExclusions?l:n).test(k)?W=L(k,z):(K=i.exec(f(k,z)))?W=v(K[1].substr(1),k,!0):(K=u.exec(f(k,z)))?W=v(K[1],k,!1):W=N(k),a.set(Y,W),O(W,R)}function O(R,z){if(typeof z=="string")return R;const k=function(Y,W){return(0,D.$He)(Y,z.base,!V.$f)?R((0,E.$pd)(Y.substr(z.base.length),q.sep),W):null};return k.allBasenames=R.allBasenames,k.allPaths=R.allPaths,k.basenames=R.basenames,k.patterns=R.patterns,k}function f(R,z){return z.trimForExclusions&&R.endsWith("/**")?R.substr(0,R.length-2):R}function C(R,z){return function(k,Y){return typeof k=="string"&&k.endsWith(R)?z:null}}function M(R,z){const k=`/${R}`,Y=`\\${R}`,W=function(et,T){return typeof et!="string"?null:T?T===R?z:null:et===R||et.endsWith(k)||et.endsWith(Y)?z:null},K=[R];return W.basenames=K,W.patterns=[z],W.allBasenames=K,W}function L(R,z){const k=y(R.slice(1,-1).split(",").map(T=>P(T,z)).filter(T=>T!==I),R),Y=k.length;if(!Y)return I;if(Y===1)return k[0];const W=function(T,d){for(let t=0,r=k.length;t<r;t++)if(k[t](T,d))return R;return null},K=k.find(T=>!!T.allBasenames);K&&(W.allBasenames=K.allBasenames);const et=k.reduce((T,d)=>d.allPaths?T.concat(d.allPaths):T,[]);return et.length&&(W.allPaths=et),W}function v(R,z,k){const Y=q.sep===q.$8b.sep,W=Y?R:R.replace(m,q.sep),K=q.sep+W,et=q.$8b.sep+R;let T;return k?T=function(d,t){return typeof d=="string"&&(d===W||d.endsWith(K)||!Y&&(d===R||d.endsWith(et)))?z:null}:T=function(d,t){return typeof d=="string"&&(d===W||!Y&&d===R)?z:null},T.allPaths=[(k?"*/":"./")+R],T}function N(R){try{const z=new RegExp(`^${h(R)}$`);return function(k){return z.lastIndex=0,typeof k=="string"&&z.test(k)?R:null}}catch{return I}}function G(R,z,k){return!R||typeof z!="string"?!1:Z(R)(z,void 0,k)}e.$_i=G;function Z(R,z={}){if(!R)return w;if(typeof R=="string"||_(R)){const k=P(R,z);if(k===I)return w;const Y=function(W,K){return!!k(W,K)};return k.allBasenames&&(Y.allBasenames=k.allBasenames),k.allPaths&&(Y.allPaths=k.allPaths),Y}return x(R,z)}e.$aj=Z;function _(R){const z=R;return z?typeof z.base=="string"&&typeof z.pattern=="string":!1}e.$bj=_;function tt(R){return R.allBasenames||[]}e.$cj=tt;function J(R){return R.allPaths||[]}e.$dj=J;function x(R,z){const k=y(Object.getOwnPropertyNames(R).map(T=>lt(T,R[T],z)).filter(T=>T!==I)),Y=k.length;if(!Y)return I;if(!k.some(T=>!!T.requiresSiblings)){if(Y===1)return k[0];const T=function(r,g){let p;for(let U=0,H=k.length;U<H;U++){const Q=k[U](r,g);if(typeof Q=="string")return Q;(0,j.$eg)(Q)&&(p||(p=[]),p.push(Q))}return p?(async()=>{for(const U of p){const H=await U;if(typeof H=="string")return H}return null})():null},d=k.find(r=>!!r.allBasenames);d&&(T.allBasenames=d.allBasenames);const t=k.reduce((r,g)=>g.allPaths?r.concat(g.allPaths):r,[]);return t.length&&(T.allPaths=t),T}const W=function(T,d,t){let r,g;for(let p=0,U=k.length;p<U;p++){const H=k[p];H.requiresSiblings&&t&&(d||(d=(0,q.$cc)(T)),r||(r=d.substr(0,d.length-(0,q.$dc)(T).length)));const Q=H(T,d,r,t);if(typeof Q=="string")return Q;(0,j.$eg)(Q)&&(g||(g=[]),g.push(Q))}return g?(async()=>{for(const p of g){const U=await p;if(typeof U=="string")return U}return null})():null},K=k.find(T=>!!T.allBasenames);K&&(W.allBasenames=K.allBasenames);const et=k.reduce((T,d)=>d.allPaths?T.concat(d.allPaths):T,[]);return et.length&&(W.allPaths=et),W}function lt(R,z,k){if(z===!1)return I;const Y=P(R,k);if(Y===I)return I;if(typeof z=="boolean")return Y;if(z){const W=z.when;if(typeof W=="string"){const K=(et,T,d,t)=>{if(!t||!Y(et,T))return null;const r=W.replace("$(basename)",()=>d),g=t(r);return(0,j.$eg)(g)?g.then(p=>p?R:null):g?R:null};return K.requiresSiblings=!0,K}}return Y}function y(R,z){const k=R.filter(T=>!!T.basenames);if(k.length<2)return R;const Y=k.reduce((T,d)=>{const t=d.basenames;return t?T.concat(t):T},[]);let W;if(z){W=[];for(let T=0,d=Y.length;T<d;T++)W.push(z)}else W=k.reduce((T,d)=>{const t=d.patterns;return t?T.concat(t):T},[]);const K=function(T,d){if(typeof T!="string")return null;if(!d){let r;for(r=T.length;r>0;r--){const g=T.charCodeAt(r-1);if(g===47||g===92)break}d=T.substr(r)}const t=Y.indexOf(d);return t!==-1?W[t]:null};K.basenames=Y,K.patterns=W,K.allBasenames=Y;const et=R.filter(T=>!T.basenames);return et.push(K),et}function X(R,z){return(0,F.$$e)(R,z,(k,Y)=>typeof k=="string"&&typeof Y=="string"?k===Y:typeof k!="string"&&typeof Y!="string"?k.base===Y.base&&k.pattern===Y.pattern:!1)}e.$ej=X}),define(st[21],rt([0,1]),function(nt,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$cs=e.StringEOL=void 0;var F;(function(D){D[D.Unknown=0]="Unknown",D[D.Invalid=3]="Invalid",D[D.LF=1]="LF",D[D.CRLF=2]="CRLF"})(F||(e.StringEOL=F={}));function j(D){let S=0,q=0,V=0,E=0;for(let o=0,b=D.length;o<b;o++){const B=D.charCodeAt(o);B===13?(S===0&&(q=o),S++,o+1<b&&D.charCodeAt(o+1)===10?(E|=2,o++):E|=3,V=o+1):B===10&&(E|=1,S===0&&(q=o),S++,V=o+1)}return S===0&&(q=D.length),[S,q,D.length-V,E]}e.$cs=j}),define(st[22],rt([0,1,3,2,6]),function(nt,e,F,j,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Wr=e.$Vr=e.$Ur=void 0;let S;function q(){return S||(S=new TextDecoder("UTF-16LE")),S}let V;function E(){return V||(V=new TextDecoder("UTF-16BE")),V}let o;function b(){return o||(o=j.$x()?q():E()),o}e.$Ur=b;function B($,h,s){const c=new Uint16Array($.buffer,h,s);return s>0&&(c[0]===65279||c[0]===65534)?m($,h,s):q().decode(c)}e.$Vr=B;function m($,h,s){const c=[];let n=0;for(let l=0;l<s;l++){const i=D.$Jb($,h);h+=2,c[n++]=String.fromCharCode(i)}return c.join("")}class A{constructor(h){this.a=h|0,this.b=new Uint16Array(this.a),this.c=null,this.d=0}reset(){this.c=null,this.d=0}build(){return this.c!==null?(this.f(),this.c.join("")):this.e()}e(){if(this.d===0)return"";const h=new Uint16Array(this.b.buffer,0,this.d);return b().decode(h)}f(){const h=this.e();this.d=0,this.c===null?this.c=[h]:this.c[this.c.length]=h}appendCharCode(h){const s=this.a-this.d;s<=1&&(s===0||F.$Nd(h))&&this.f(),this.b[this.d++]=h}appendASCIICharCode(h){this.d===this.a&&this.f(),this.b[this.d++]=h}appendString(h){const s=h.length;if(this.d+s>=this.a){this.f(),this.c[this.c.length]=h;return}for(let c=0;c<s;c++)this.b[this.d++]=h.charCodeAt(c)}}e.$Wr=A}),define(st[23],rt([0,1,6,22]),function(nt,e,F,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Yr=e.$Xr=void 0;function D(E){return E.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class S{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(o,b,B,m){this.oldPosition=o,this.oldText=b,this.newPosition=B,this.newText=m}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${D(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${D(this.oldText)}")`:`(replace@${this.oldPosition} "${D(this.oldText)}" with "${D(this.newText)}")`}static a(o){return 4+2*o.length}static c(o,b,B){const m=b.length;F.$Mb(o,m,B),B+=4;for(let A=0;A<m;A++)F.$Kb(o,b.charCodeAt(A),B),B+=2;return B}static d(o,b){const B=F.$Lb(o,b);return b+=4,(0,j.$Vr)(o,b,B)}writeSize(){return 4+4+S.a(this.oldText)+S.a(this.newText)}write(o,b){return F.$Mb(o,this.oldPosition,b),b+=4,F.$Mb(o,this.newPosition,b),b+=4,b=S.c(o,this.oldText,b),b=S.c(o,this.newText,b),b}static read(o,b,B){const m=F.$Lb(o,b);b+=4;const A=F.$Lb(o,b);b+=4;const $=S.d(o,b);b+=S.a($);const h=S.d(o,b);return b+=S.a(h),B.push(new S(m,$,A,h)),b}}e.$Xr=S;function q(E,o){return E===null||E.length===0?o:new V(E,o).compress()}e.$Yr=q;class V{constructor(o,b){this.a=o,this.c=b,this.d=[],this.e=0,this.f=this.a.length,this.g=0,this.h=this.c.length,this.j=0}compress(){let o=0,b=0,B=this.n(o),m=this.l(b);for(;o<this.f||b<this.h;){if(B===null){this.k(m),m=this.l(++b);continue}if(m===null){this.m(B),B=this.n(++o);continue}if(m.oldEnd<=B.newPosition){this.k(m),m=this.l(++b);continue}if(B.newEnd<=m.oldPosition){this.m(B),B=this.n(++o);continue}if(m.oldPosition<B.newPosition){const[c,n]=V.r(m,B.newPosition-m.oldPosition);this.k(c),m=n;continue}if(B.newPosition<m.oldPosition){const[c,n]=V.q(B,m.oldPosition-B.newPosition);this.m(c),B=n;continue}let h,s;if(m.oldEnd===B.newEnd)h=B,s=m,B=this.n(++o),m=this.l(++b);else if(m.oldEnd<B.newEnd){const[c,n]=V.q(B,m.oldLength);h=c,s=m,B=n,m=this.l(++b)}else{const[c,n]=V.r(m,B.newLength);h=B,s=c,B=this.n(++o),m=n}this.d[this.e++]=new S(h.oldPosition,h.oldText,s.newPosition,s.newText),this.g+=h.newLength-h.oldLength,this.j+=s.newLength-s.oldLength}const A=V.s(this.d);return V.t(A)}k(o){this.d[this.e++]=V.o(this.g,o),this.j+=o.newLength-o.oldLength}l(o){return o<this.h?this.c[o]:null}m(o){this.d[this.e++]=V.p(this.j,o),this.g+=o.newLength-o.oldLength}n(o){return o<this.f?this.a[o]:null}static o(o,b){return new S(b.oldPosition-o,b.oldText,b.newPosition,b.newText)}static p(o,b){return new S(b.oldPosition,b.oldText,b.newPosition+o,b.newText)}static q(o,b){const B=o.newText.substr(0,b),m=o.newText.substr(b);return[new S(o.oldPosition,o.oldText,o.newPosition,B),new S(o.oldEnd,"",o.newPosition+b,m)]}static r(o,b){const B=o.oldText.substr(0,b),m=o.oldText.substr(b);return[new S(o.oldPosition,B,o.newPosition,o.newText),new S(o.oldPosition+b,m,o.newEnd,"")]}static s(o){if(o.length===0)return o;const b=[];let B=0,m=o[0];for(let A=1;A<o.length;A++){const $=o[A];m.oldEnd===$.oldPosition?m=new S(m.oldPosition,m.oldText+$.oldText,m.newPosition,m.newText+$.newText):(b[B++]=m,m=$)}return b[B++]=m,b}static t(o){if(o.length===0)return o;const b=[];let B=0;for(let m=0;m<o.length;m++){const A=o[m];A.oldText!==A.newText&&(b[B++]=A)}return b}}}),define(st[24],rt([0,1]),function(nt,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$EB=e.$DB=e.$CB=e.$BB=e.$AB=e.$zB=e.$yB=e.$xB=e.$wB=e.NodeColor=e.$vB=void 0;class F{constructor(s,c){this.piece=s,this.color=c,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.$wB)return D(this.right);let s=this;for(;s.parent!==e.$wB&&s.parent.left!==s;)s=s.parent;return s.parent===e.$wB?e.$wB:s.parent}prev(){if(this.left!==e.$wB)return S(this.left);let s=this;for(;s.parent!==e.$wB&&s.parent.right!==s;)s=s.parent;return s.parent===e.$wB?e.$wB:s.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.$vB=F;var j;(function(h){h[h.Black=0]="Black",h[h.Red=1]="Red"})(j||(e.NodeColor=j={})),e.$wB=new F(null,0),e.$wB.parent=e.$wB,e.$wB.left=e.$wB,e.$wB.right=e.$wB,e.$wB.color=0;function D(h){for(;h.left!==e.$wB;)h=h.left;return h}e.$xB=D;function S(h){for(;h.right!==e.$wB;)h=h.right;return h}e.$yB=S;function q(h){return h===e.$wB?0:h.size_left+h.piece.length+q(h.right)}function V(h){return h===e.$wB?0:h.lf_left+h.piece.lineFeedCnt+V(h.right)}function E(){e.$wB.parent=e.$wB}function o(h,s){const c=s.right;c.size_left+=s.size_left+(s.piece?s.piece.length:0),c.lf_left+=s.lf_left+(s.piece?s.piece.lineFeedCnt:0),s.right=c.left,c.left!==e.$wB&&(c.left.parent=s),c.parent=s.parent,s.parent===e.$wB?h.root=c:s.parent.left===s?s.parent.left=c:s.parent.right=c,c.left=s,s.parent=c}e.$zB=o;function b(h,s){const c=s.left;s.left=c.right,c.right!==e.$wB&&(c.right.parent=s),c.parent=s.parent,s.size_left-=c.size_left+(c.piece?c.piece.length:0),s.lf_left-=c.lf_left+(c.piece?c.piece.lineFeedCnt:0),s.parent===e.$wB?h.root=c:s===s.parent.right?s.parent.right=c:s.parent.left=c,c.right=s,s.parent=c}e.$AB=b;function B(h,s){let c,n;if(s.left===e.$wB?(n=s,c=n.right):s.right===e.$wB?(n=s,c=n.left):(n=D(s.right),c=n.right),n===h.root){h.root=c,c.color=0,s.detach(),E(),h.root.parent=e.$wB;return}const l=n.color===1;if(n===n.parent.left?n.parent.left=c:n.parent.right=c,n===s?(c.parent=n.parent,$(h,c)):(n.parent===s?c.parent=n:c.parent=n.parent,$(h,c),n.left=s.left,n.right=s.right,n.parent=s.parent,n.color=s.color,s===h.root?h.root=n:s===s.parent.left?s.parent.left=n:s.parent.right=n,n.left!==e.$wB&&(n.left.parent=n),n.right!==e.$wB&&(n.right.parent=n),n.size_left=s.size_left,n.lf_left=s.lf_left,$(h,n)),s.detach(),c.parent.left===c){const u=q(c),a=V(c);if(u!==c.parent.size_left||a!==c.parent.lf_left){const w=u-c.parent.size_left,I=a-c.parent.lf_left;c.parent.size_left=u,c.parent.lf_left=a,A(h,c.parent,w,I)}}if($(h,c.parent),l){E();return}let i;for(;c!==h.root&&c.color===0;)c===c.parent.left?(i=c.parent.right,i.color===1&&(i.color=0,c.parent.color=1,o(h,c.parent),i=c.parent.right),i.left.color===0&&i.right.color===0?(i.color=1,c=c.parent):(i.right.color===0&&(i.left.color=0,i.color=1,b(h,i),i=c.parent.right),i.color=c.parent.color,c.parent.color=0,i.right.color=0,o(h,c.parent),c=h.root)):(i=c.parent.left,i.color===1&&(i.color=0,c.parent.color=1,b(h,c.parent),i=c.parent.left),i.left.color===0&&i.right.color===0?(i.color=1,c=c.parent):(i.left.color===0&&(i.right.color=0,i.color=1,o(h,i),i=c.parent.left),i.color=c.parent.color,c.parent.color=0,i.left.color=0,b(h,c.parent),c=h.root));c.color=0,E()}e.$BB=B;function m(h,s){for($(h,s);s!==h.root&&s.parent.color===1;)if(s.parent===s.parent.parent.left){const c=s.parent.parent.right;c.color===1?(s.parent.color=0,c.color=0,s.parent.parent.color=1,s=s.parent.parent):(s===s.parent.right&&(s=s.parent,o(h,s)),s.parent.color=0,s.parent.parent.color=1,b(h,s.parent.parent))}else{const c=s.parent.parent.left;c.color===1?(s.parent.color=0,c.color=0,s.parent.parent.color=1,s=s.parent.parent):(s===s.parent.left&&(s=s.parent,b(h,s)),s.parent.color=0,s.parent.parent.color=1,o(h,s.parent.parent))}h.root.color=0}e.$CB=m;function A(h,s,c,n){for(;s!==h.root&&s!==e.$wB;)s.parent.left===s&&(s.parent.size_left+=c,s.parent.lf_left+=n),s=s.parent}e.$DB=A;function $(h,s){let c=0,n=0;if(s!==h.root){for(;s!==h.root&&s===s.parent.right;)s=s.parent;if(s!==h.root)for(s=s.parent,c=q(s.left)-s.size_left,n=V(s.left)-s.lf_left,s.size_left+=c,s.lf_left+=n;s!==h.root&&(c!==0||n!==0);)s.parent.left===s&&(s.parent.size_left+=c,s.parent.lf_left+=n),s=s.parent}}e.$EB=$}),define(st[11],rt([0,1,40,12,25,24,41]),function(nt,e,F,j,D,S,q){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$PB=e.$OB=e.$NB=e.$MB=e.$LB=void 0;const V=65535;function E(c){let n;return c[c.length-1]<65536?n=new Uint16Array(c.length):n=new Uint32Array(c.length),n.set(c,0),n}class o{constructor(n,l,i,u,a){this.lineStarts=n,this.cr=l,this.lf=i,this.crlf=u,this.isBasicASCII=a}}function b(c,n=!0){const l=[0];let i=1;for(let u=0,a=c.length;u<a;u++){const w=c.charCodeAt(u);w===13?u+1<a&&c.charCodeAt(u+1)===10?(l[i++]=u+2,u++):l[i++]=u+1:w===10&&(l[i++]=u+1)}return n?E(l):l}e.$LB=b;function B(c,n){c.length=0,c[0]=0;let l=1,i=0,u=0,a=0,w=!0;for(let P=0,O=n.length;P<O;P++){const f=n.charCodeAt(P);f===13?P+1<O&&n.charCodeAt(P+1)===10?(a++,c[l++]=P+2,P++):(i++,c[l++]=P+1):f===10?(u++,c[l++]=P+1):w&&f!==9&&(f<32||f>126)&&(w=!1)}const I=new o(E(c),i,u,a,w);return c.length=0,I}e.$MB=B;class m{constructor(n,l,i,u,a){this.bufferIndex=n,this.start=l,this.end=i,this.lineFeedCnt=u,this.length=a}}e.$NB=m;class A{constructor(n,l){this.buffer=n,this.lineStarts=l}}e.$OB=A;class ${constructor(n,l){this.a=[],this.c=n,this.d=l,this.b=0,n.root!==S.$wB&&n.iterate(n.root,i=>(i!==S.$wB&&this.a.push(i.piece),!0))}read(){return this.a.length===0?this.b===0?(this.b++,this.d):null:this.b>this.a.length-1?null:this.b===0?this.d+this.c.getPieceContent(this.a[this.b++]):this.c.getPieceContent(this.a[this.b++])}}class h{constructor(n){this.a=n,this.b=[]}get(n){for(let l=this.b.length-1;l>=0;l--){const i=this.b[l];if(i.nodeStartOffset<=n&&i.nodeStartOffset+i.node.piece.length>=n)return i}return null}get2(n){for(let l=this.b.length-1;l>=0;l--){const i=this.b[l];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<n&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=n)return i}return null}set(n){this.b.length>=this.a&&this.b.shift(),this.b.push(n)}validate(n){let l=!1;const i=this.b;for(let u=0;u<i.length;u++){const a=i[u];if(a.node.parent===null||a.nodeStartOffset>=n){i[u]=null,l=!0;continue}}if(l){const u=[];for(const a of i)a!==null&&u.push(a);this.b=u}}}class s{constructor(n,l,i){this.create(n,l,i)}create(n,l,i){this.a=[new A("",[0])],this.g={line:0,column:0},this.root=S.$wB,this.b=1,this.c=0,this.d=l,this.e=l.length,this.f=i;let u=null;for(let a=0,w=n.length;a<w;a++)if(n[a].buffer.length>0){n[a].lineStarts||(n[a].lineStarts=b(n[a].buffer));const I=new m(a+1,{line:0,column:0},{line:n[a].lineStarts.length-1,column:n[a].buffer.length-n[a].lineStarts[n[a].lineStarts.length-1]},n[a].lineStarts.length-1,n[a].buffer.length);this.a.push(n[a]),u=this.S(u,I)}this.h=new h(1),this.j={lineNumber:0,value:""},this.y()}normalizeEOL(n){const l=V,i=l-Math.floor(l/3),u=i*2;let a="",w=0;const I=[];if(this.iterate(this.root,P=>{const O=this.R(P),f=O.length;if(w<=i||w+f<u)return a+=O,w+=f,!0;const C=a.replace(/\r\n|\r|\n/g,n);return I.push(new A(C,b(C))),a=O,w=f,!0}),w>0){const P=a.replace(/\r\n|\r|\n/g,n);I.push(new A(P,b(P)))}this.create(I,n,!0)}getEOL(){return this.d}setEOL(n){this.d=n,this.e=this.d.length,this.normalizeEOL(n)}createSnapshot(n){return new $(this,n)}equal(n){if(this.getLength()!==n.getLength()||this.getLineCount()!==n.getLineCount())return!1;let l=0;return this.iterate(this.root,u=>{if(u===S.$wB)return!0;const a=this.R(u),w=a.length,I=n.G(l),P=n.G(l+w),O=n.getValueInRange2(I,P);return l+=w,a===O})}getOffsetAt(n,l){let i=0,u=this.root;for(;u!==S.$wB;)if(u.left!==S.$wB&&u.lf_left+1>=n)u=u.left;else if(u.lf_left+u.piece.lineFeedCnt+1>=n){i+=u.size_left;const a=this.B(u,n-u.lf_left-2);return i+=a+l-1}else n-=u.lf_left+u.piece.lineFeedCnt,i+=u.size_left+u.piece.length,u=u.right;return i}getPositionAt(n){n=Math.floor(n),n=Math.max(0,n);let l=this.root,i=0;const u=n;for(;l!==S.$wB;)if(l.size_left!==0&&l.size_left>=n)l=l.left;else if(l.size_left+l.piece.length>=n){const a=this.A(l,n-l.size_left);if(i+=l.lf_left+a.index,a.index===0){const w=this.getOffsetAt(i+1,1),I=u-w;return new F.$Kr(i+1,I+1)}return new F.$Kr(i+1,a.remainder+1)}else if(n-=l.size_left+l.piece.length,i+=l.lf_left+l.piece.lineFeedCnt,l.right===S.$wB){const a=this.getOffsetAt(i+1,1),w=u-n-a;return new F.$Kr(i+1,w+1)}else l=l.right;return new F.$Kr(1,1)}getValueInRange(n,l){if(n.startLineNumber===n.endLineNumber&&n.startColumn===n.endColumn)return"";const i=this.H(n.startLineNumber,n.startColumn),u=this.H(n.endLineNumber,n.endColumn),a=this.getValueInRange2(i,u);return l?l!==this.d||!this.f?a.replace(/\r\n|\r|\n/g,l):l===this.getEOL()&&this.f?a:a.replace(/\r\n|\r|\n/g,l):a}getValueInRange2(n,l){if(n.node===l.node){const I=n.node,P=this.a[I.piece.bufferIndex].buffer,O=this.u(I.piece.bufferIndex,I.piece.start);return P.substring(O+n.remainder,O+l.remainder)}let i=n.node;const u=this.a[i.piece.bufferIndex].buffer,a=this.u(i.piece.bufferIndex,i.piece.start);let w=u.substring(a+n.remainder,a+i.piece.length);for(i=i.next();i!==S.$wB;){const I=this.a[i.piece.bufferIndex].buffer,P=this.u(i.piece.bufferIndex,i.piece.start);if(i===l.node){w+=I.substring(P,P+l.remainder);break}else w+=I.substr(P,i.piece.length);i=i.next()}return w}getLinesContent(){const n=[];let l=0,i="",u=!1;return this.iterate(this.root,a=>{if(a===S.$wB)return!0;const w=a.piece;let I=w.length;if(I===0)return!0;const P=this.a[w.bufferIndex].buffer,O=this.a[w.bufferIndex].lineStarts,f=w.start.line,C=w.end.line;let M=O[f]+w.start.column;if(u&&(P.charCodeAt(M)===10&&(M++,I--),n[l++]=i,i="",u=!1,I===0))return!0;if(f===C)return!this.f&&P.charCodeAt(M+I-1)===13?(u=!0,i+=P.substr(M,I-1)):i+=P.substr(M,I),!0;i+=this.f?P.substring(M,Math.max(M,O[f+1]-this.e)):P.substring(M,O[f+1]).replace(/(\r\n|\r|\n)$/,""),n[l++]=i;for(let L=f+1;L<C;L++)i=this.f?P.substring(O[L],O[L+1]-this.e):P.substring(O[L],O[L+1]).replace(/(\r\n|\r|\n)$/,""),n[l++]=i;return!this.f&&P.charCodeAt(O[C]+w.end.column-1)===13?(u=!0,w.end.column===0?l--:i=P.substr(O[C],w.end.column-1)):i=P.substr(O[C],w.end.column),!0}),u&&(n[l++]=i,i=""),n[l++]=i,n}getLength(){return this.c}getLineCount(){return this.b}getLineContent(n){return this.j.lineNumber===n?this.j.value:(this.j.lineNumber=n,n===this.b?this.j.value=this.getLineRawContent(n):this.f?this.j.value=this.getLineRawContent(n,this.e):this.j.value=this.getLineRawContent(n).replace(/(\r\n|\r|\n)$/,""),this.j.value)}l(n){if(n.remainder===n.node.piece.length){const l=n.node.next();if(!l)return 0;const i=this.a[l.piece.bufferIndex],u=this.u(l.piece.bufferIndex,l.piece.start);return i.buffer.charCodeAt(u)}else{const l=this.a[n.node.piece.bufferIndex],u=this.u(n.node.piece.bufferIndex,n.node.piece.start)+n.remainder;return l.buffer.charCodeAt(u)}}getLineCharCode(n,l){const i=this.H(n,l+1);return this.l(i)}getLineLength(n){if(n===this.getLineCount()){const l=this.getOffsetAt(n,1);return this.getLength()-l}return this.getOffsetAt(n+1,1)-this.getOffsetAt(n,1)-this.e}getCharCode(n){const l=this.G(n);return this.l(l)}findMatchesInNode(n,l,i,u,a,w,I,P,O,f,C){const M=this.a[n.piece.bufferIndex],L=this.u(n.piece.bufferIndex,n.piece.start),v=this.u(n.piece.bufferIndex,a),N=this.u(n.piece.bufferIndex,w);let G;const Z={line:0,column:0};let _,tt;l._wordSeparators?(_=M.buffer.substring(v,N),tt=J=>J+v,l.reset(0)):(_=M.buffer,tt=J=>J,l.reset(v));do if(G=l.next(_),G){if(tt(G.index)>=N)return f;this.s(n,tt(G.index)-L,Z);const J=this.t(n.piece.bufferIndex,a,Z),x=Z.line===a.line?Z.column-a.column+u:Z.column+1,lt=x+G[0].length;if(C[f++]=(0,q.$HB)(new j.$Lr(i+J,x,i+J,lt),G,P),tt(G.index)+G[0].length>=N||f>=O)return f}while(G);return f}findMatchesLineByLine(n,l,i,u){const a=[];let w=0;const I=new q.$KB(l.wordSeparators,l.regex);let P=this.H(n.startLineNumber,n.startColumn);if(P===null)return[];const O=this.H(n.endLineNumber,n.endColumn);if(O===null)return[];let f=this.s(P.node,P.remainder);const C=this.s(O.node,O.remainder);if(P.node===O.node)return this.findMatchesInNode(P.node,I,n.startLineNumber,n.startColumn,f,C,l,i,u,w,a),a;let M=n.startLineNumber,L=P.node;for(;L!==O.node;){const N=this.t(L.piece.bufferIndex,f,L.piece.end);if(N>=1){const Z=this.a[L.piece.bufferIndex].lineStarts,_=this.u(L.piece.bufferIndex,L.piece.start),tt=Z[f.line+N],J=M===n.startLineNumber?n.startColumn:1;if(w=this.findMatchesInNode(L,I,M,J,f,this.s(L,tt-_),l,i,u,w,a),w>=u)return a;M+=N}const G=M===n.startLineNumber?n.startColumn-1:0;if(M===n.endLineNumber){const Z=this.getLineContent(M).substring(G,n.endColumn-1);return w=this.n(l,I,Z,n.endLineNumber,G,w,a,i,u),a}if(w=this.n(l,I,this.getLineContent(M).substr(G),M,G,w,a,i,u),w>=u)return a;M++,P=this.H(M,1),L=P.node,f=this.s(P.node,P.remainder)}if(M===n.endLineNumber){const N=M===n.startLineNumber?n.startColumn-1:0,G=this.getLineContent(M).substring(N,n.endColumn-1);return w=this.n(l,I,G,n.endLineNumber,N,w,a,i,u),a}const v=M===n.startLineNumber?n.startColumn:1;return w=this.findMatchesInNode(O.node,I,M,v,f,C,l,i,u,w,a),a}n(n,l,i,u,a,w,I,P,O){const f=n.wordSeparators;if(!P&&n.simpleSearch){const M=n.simpleSearch,L=M.length,v=i.length;let N=-L;for(;(N=i.indexOf(M,N+L))!==-1;)if((!f||(0,q.$JB)(f,i,v,N,L))&&(I[w++]=new D.$Qt(new j.$Lr(u,N+1+a,u,N+1+L+a),null),w>=O))return w;return w}let C;l.reset(0);do if(C=l.next(i),C&&(I[w++]=(0,q.$HB)(new j.$Lr(u,C.index+1+a,u,C.index+1+C[0].length+a),C,P),w>=O))return w;while(C);return w}insert(n,l,i=!1){if(this.f=this.f&&i,this.j.lineNumber=0,this.j.value="",this.root!==S.$wB){const{node:u,remainder:a,nodeStartOffset:w}=this.G(n),I=u.piece,P=I.bufferIndex,O=this.s(u,a);if(u.piece.bufferIndex===0&&I.end.line===this.g.line&&I.end.column===this.g.column&&w+I.length===n&&l.length<V){this.F(u,l),this.y();return}if(w===n)this.o(l,u),this.h.validate(n);else if(w+u.piece.length>n){const f=[];let C=new m(I.bufferIndex,O,I.end,this.t(I.bufferIndex,O,I.end),this.u(P,I.end)-this.u(P,O));if(this.K()&&this.M(l)&&this.I(u,a)===10){const N={line:C.start.line+1,column:0};C=new m(C.bufferIndex,N,C.end,this.t(C.bufferIndex,N,C.end),C.length-1),l+=`
`}if(this.K()&&this.L(l))if(this.I(u,a-1)===13){const N=this.s(u,a-1);this.C(u,N),l="\r"+l,u.piece.length===0&&f.push(u)}else this.C(u,O);else this.C(u,O);const M=this.w(l);C.length>0&&this.S(u,C);let L=u;for(let v=0;v<M.length;v++)L=this.S(L,M[v]);this.v(f)}else this.q(l,u)}else{const u=this.w(l);let a=this.T(null,u[0]);for(let w=1;w<u.length;w++)a=this.S(a,u[w])}this.y()}delete(n,l){if(this.j.lineNumber=0,this.j.value="",l<=0||this.root===S.$wB)return;const i=this.G(n),u=this.G(n+l),a=i.node,w=u.node;if(a===w){const M=this.s(a,i.remainder),L=this.s(a,u.remainder);if(i.nodeStartOffset===n){if(l===a.piece.length){const v=a.next();(0,S.$BB)(this,a),this.N(v),this.y();return}this.D(a,L),this.h.validate(n),this.N(a),this.y();return}if(i.nodeStartOffset+a.piece.length===n+l){this.C(a,M),this.O(a),this.y();return}this.E(a,M,L),this.y();return}const I=[],P=this.s(a,i.remainder);this.C(a,P),this.h.validate(n),a.piece.length===0&&I.push(a);const O=this.s(w,u.remainder);this.D(w,O),w.piece.length===0&&I.push(w);const f=a.next();for(let M=f;M!==S.$wB&&M!==w;M=M.next())I.push(M);const C=a.piece.length===0?a.prev():a;this.v(I),this.O(C),this.y()}o(n,l){const i=[];if(this.K()&&this.M(n)&&this.L(l)){const w=l.piece,I={line:w.start.line+1,column:0},P=new m(w.bufferIndex,I,w.end,this.t(w.bufferIndex,I,w.end),w.length-1);l.piece=P,n+=`
`,(0,S.$DB)(this,l,-1,-1),l.piece.length===0&&i.push(l)}const u=this.w(n);let a=this.T(l,u[u.length-1]);for(let w=u.length-2;w>=0;w--)a=this.T(a,u[w]);this.N(a),this.v(i)}q(n,l){this.Q(n,l)&&(n+=`
`);const i=this.w(n),u=this.S(l,i[0]);let a=u;for(let w=1;w<i.length;w++)a=this.S(a,i[w]);this.N(u)}s(n,l,i){const u=n.piece,a=n.piece.bufferIndex,w=this.a[a].lineStarts,P=w[u.start.line]+u.start.column+l;let O=u.start.line,f=u.end.line,C=0,M=0,L=0;for(;O<=f&&(C=O+(f-O)/2|0,L=w[C],C!==f);)if(M=w[C+1],P<L)f=C-1;else if(P>=M)O=C+1;else break;return i?(i.line=C,i.column=P-L,null):{line:C,column:P-L}}t(n,l,i){if(i.column===0)return i.line-l.line;const u=this.a[n].lineStarts;if(i.line===u.length-1)return i.line-l.line;const a=u[i.line+1],w=u[i.line]+i.column;if(a>w+1)return i.line-l.line;const I=w-1;return this.a[n].buffer.charCodeAt(I)===13?i.line-l.line+1:i.line-l.line}u(n,l){return this.a[n].lineStarts[l.line]+l.column}v(n){for(let l=0;l<n.length;l++)(0,S.$BB)(this,n[l])}w(n){if(n.length>V){const f=[];for(;n.length>V;){const M=n.charCodeAt(V-1);let L;M===13||M>=55296&&M<=56319?(L=n.substring(0,V-1),n=n.substring(V-1)):(L=n.substring(0,V),n=n.substring(V));const v=b(L);f.push(new m(this.a.length,{line:0,column:0},{line:v.length-1,column:L.length-v[v.length-1]},v.length-1,L.length)),this.a.push(new A(L,v))}const C=b(n);return f.push(new m(this.a.length,{line:0,column:0},{line:C.length-1,column:n.length-C[C.length-1]},C.length-1,n.length)),this.a.push(new A(n,C)),f}let l=this.a[0].buffer.length;const i=b(n,!1);let u=this.g;if(this.a[0].lineStarts[this.a[0].lineStarts.length-1]===l&&l!==0&&this.L(n)&&this.M(this.a[0].buffer)){this.g={line:this.g.line,column:this.g.column+1},u=this.g;for(let f=0;f<i.length;f++)i[f]+=l+1;this.a[0].lineStarts=this.a[0].lineStarts.concat(i.slice(1)),this.a[0].buffer+="_"+n,l+=1}else{if(l!==0)for(let f=0;f<i.length;f++)i[f]+=l;this.a[0].lineStarts=this.a[0].lineStarts.concat(i.slice(1)),this.a[0].buffer+=n}const a=this.a[0].buffer.length,w=this.a[0].lineStarts.length-1,I=a-this.a[0].lineStarts[w],P={line:w,column:I},O=new m(0,u,P,this.t(0,u,P),a-l);return this.g=P,[O]}getLinesRawContent(){return this.U(this.root)}getLineRawContent(n,l=0){let i=this.root,u="";const a=this.h.get2(n);if(a){i=a.node;const w=this.B(i,n-a.nodeStartLineNumber-1),I=this.a[i.piece.bufferIndex].buffer,P=this.u(i.piece.bufferIndex,i.piece.start);if(a.nodeStartLineNumber+i.piece.lineFeedCnt===n)u=I.substring(P+w,P+i.piece.length);else{const O=this.B(i,n-a.nodeStartLineNumber);return I.substring(P+w,P+O-l)}}else{let w=0;const I=n;for(;i!==S.$wB;)if(i.left!==S.$wB&&i.lf_left>=n-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>n-1){const P=this.B(i,n-i.lf_left-2),O=this.B(i,n-i.lf_left-1),f=this.a[i.piece.bufferIndex].buffer,C=this.u(i.piece.bufferIndex,i.piece.start);return w+=i.size_left,this.h.set({node:i,nodeStartOffset:w,nodeStartLineNumber:I-(n-1-i.lf_left)}),f.substring(C+P,C+O-l)}else if(i.lf_left+i.piece.lineFeedCnt===n-1){const P=this.B(i,n-i.lf_left-2),O=this.a[i.piece.bufferIndex].buffer,f=this.u(i.piece.bufferIndex,i.piece.start);u=O.substring(f+P,f+i.piece.length);break}else n-=i.lf_left+i.piece.lineFeedCnt,w+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==S.$wB;){const w=this.a[i.piece.bufferIndex].buffer;if(i.piece.lineFeedCnt>0){const I=this.B(i,0),P=this.u(i.piece.bufferIndex,i.piece.start);return u+=w.substring(P,P+I-l),u}else{const I=this.u(i.piece.bufferIndex,i.piece.start);u+=w.substr(I,i.piece.length)}i=i.next()}return u}y(){let n=this.root,l=1,i=0;for(;n!==S.$wB;)l+=n.lf_left+n.piece.lineFeedCnt,i+=n.size_left+n.piece.length,n=n.right;this.b=l,this.c=i,this.h.validate(this.c)}A(n,l){const i=n.piece,u=this.s(n,l),a=u.line-i.start.line;if(this.u(i.bufferIndex,i.end)-this.u(i.bufferIndex,i.start)===l){const w=this.t(n.piece.bufferIndex,i.start,u);if(w!==a)return{index:w,remainder:0}}return{index:a,remainder:u.column}}B(n,l){if(l<0)return 0;const i=n.piece,u=this.a[i.bufferIndex].lineStarts,a=i.start.line+l+1;return a>i.end.line?u[i.end.line]+i.end.column-u[i.start.line]-i.start.column:u[a]-u[i.start.line]-i.start.column}C(n,l){const i=n.piece,u=i.lineFeedCnt,a=this.u(i.bufferIndex,i.end),w=l,I=this.u(i.bufferIndex,w),P=this.t(i.bufferIndex,i.start,w),O=P-u,f=I-a,C=i.length+f;n.piece=new m(i.bufferIndex,i.start,w,P,C),(0,S.$DB)(this,n,f,O)}D(n,l){const i=n.piece,u=i.lineFeedCnt,a=this.u(i.bufferIndex,i.start),w=l,I=this.t(i.bufferIndex,w,i.end),P=this.u(i.bufferIndex,w),O=I-u,f=a-P,C=i.length+f;n.piece=new m(i.bufferIndex,w,i.end,I,C),(0,S.$DB)(this,n,f,O)}E(n,l,i){const u=n.piece,a=u.start,w=u.end,I=u.length,P=u.lineFeedCnt,O=l,f=this.t(u.bufferIndex,u.start,O),C=this.u(u.bufferIndex,l)-this.u(u.bufferIndex,a);n.piece=new m(u.bufferIndex,u.start,O,f,C),(0,S.$DB)(this,n,C-I,f-P);const M=new m(u.bufferIndex,i,w,this.t(u.bufferIndex,i,w),this.u(u.bufferIndex,w)-this.u(u.bufferIndex,i)),L=this.S(n,M);this.N(L)}F(n,l){this.Q(l,n)&&(l+=`
`);const i=this.K()&&this.L(l)&&this.M(n),u=this.a[0].buffer.length;this.a[0].buffer+=l;const a=b(l,!1);for(let L=0;L<a.length;L++)a[L]+=u;if(i){const L=this.a[0].lineStarts[this.a[0].lineStarts.length-2];this.a[0].lineStarts.pop(),this.g={line:this.g.line-1,column:u-L}}this.a[0].lineStarts=this.a[0].lineStarts.concat(a.slice(1));const w=this.a[0].lineStarts.length-1,I=this.a[0].buffer.length-this.a[0].lineStarts[w],P={line:w,column:I},O=n.piece.length+l.length,f=n.piece.lineFeedCnt,C=this.t(0,n.piece.start,P),M=C-f;n.piece=new m(n.piece.bufferIndex,n.piece.start,P,C,O),this.g=P,(0,S.$DB)(this,n,l.length,M)}G(n){let l=this.root;const i=this.h.get(n);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:n-i.nodeStartOffset};let u=0;for(;l!==S.$wB;)if(l.size_left>n)l=l.left;else if(l.size_left+l.piece.length>=n){u+=l.size_left;const a={node:l,remainder:n-l.size_left,nodeStartOffset:u};return this.h.set(a),a}else n-=l.size_left+l.piece.length,u+=l.size_left+l.piece.length,l=l.right;return null}H(n,l){let i=this.root,u=0;for(;i!==S.$wB;)if(i.left!==S.$wB&&i.lf_left>=n-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>n-1){const a=this.B(i,n-i.lf_left-2),w=this.B(i,n-i.lf_left-1);return u+=i.size_left,{node:i,remainder:Math.min(a+l-1,w),nodeStartOffset:u}}else if(i.lf_left+i.piece.lineFeedCnt===n-1){const a=this.B(i,n-i.lf_left-2);if(a+l-1<=i.piece.length)return{node:i,remainder:a+l-1,nodeStartOffset:u};l-=i.piece.length-a;break}else n-=i.lf_left+i.piece.lineFeedCnt,u+=i.size_left+i.piece.length,i=i.right;for(i=i.next();i!==S.$wB;){if(i.piece.lineFeedCnt>0){const a=this.B(i,0),w=this.J(i);return{node:i,remainder:Math.min(l-1,a),nodeStartOffset:w}}else if(i.piece.length>=l-1){const a=this.J(i);return{node:i,remainder:l-1,nodeStartOffset:a}}else l-=i.piece.length;i=i.next()}return null}I(n,l){if(n.piece.lineFeedCnt<1)return-1;const i=this.a[n.piece.bufferIndex],u=this.u(n.piece.bufferIndex,n.piece.start)+l;return i.buffer.charCodeAt(u)}J(n){if(!n)return 0;let l=n.size_left;for(;n!==this.root;)n.parent.right===n&&(l+=n.parent.size_left+n.parent.piece.length),n=n.parent;return l}K(){return!(this.f&&this.d===`
`)}L(n){if(typeof n=="string")return n.charCodeAt(0)===10;if(n===S.$wB||n.piece.lineFeedCnt===0)return!1;const l=n.piece,i=this.a[l.bufferIndex].lineStarts,u=l.start.line,a=i[u]+l.start.column;return u===i.length-1||i[u+1]>a+1?!1:this.a[l.bufferIndex].buffer.charCodeAt(a)===10}M(n){return typeof n=="string"?n.charCodeAt(n.length-1)===13:n===S.$wB||n.piece.lineFeedCnt===0?!1:this.I(n,n.piece.length-1)===13}N(n){if(this.K()&&this.L(n)){const l=n.prev();this.M(l)&&this.P(l,n)}}O(n){if(this.K()&&this.M(n)){const l=n.next();this.L(l)&&this.P(n,l)}}P(n,l){const i=[],u=this.a[n.piece.bufferIndex].lineStarts;let a;n.piece.end.column===0?a={line:n.piece.end.line-1,column:u[n.piece.end.line]-u[n.piece.end.line-1]-1}:a={line:n.piece.end.line,column:n.piece.end.column-1};const w=n.piece.length-1,I=n.piece.lineFeedCnt-1;n.piece=new m(n.piece.bufferIndex,n.piece.start,a,I,w),(0,S.$DB)(this,n,-1,-1),n.piece.length===0&&i.push(n);const P={line:l.piece.start.line+1,column:0},O=l.piece.length-1,f=this.t(l.piece.bufferIndex,P,l.piece.end);l.piece=new m(l.piece.bufferIndex,P,l.piece.end,f,O),(0,S.$DB)(this,l,-1,-1),l.piece.length===0&&i.push(l);const C=this.w(`\r
`);this.S(n,C[0]);for(let M=0;M<i.length;M++)(0,S.$BB)(this,i[M])}Q(n,l){if(this.K()&&this.M(n)){const i=l.next();if(this.L(i)){if(n+=`
`,i.piece.length===1)(0,S.$BB)(this,i);else{const u=i.piece,a={line:u.start.line+1,column:0},w=u.length-1,I=this.t(u.bufferIndex,a,u.end);i.piece=new m(u.bufferIndex,a,u.end,I,w),(0,S.$DB)(this,i,-1,-1)}return!0}}return!1}iterate(n,l){if(n===S.$wB)return l(S.$wB);const i=this.iterate(n.left,l);return i&&l(n)&&this.iterate(n.right,l)}R(n){if(n===S.$wB)return"";const l=this.a[n.piece.bufferIndex],i=n.piece,u=this.u(i.bufferIndex,i.start),a=this.u(i.bufferIndex,i.end);return l.buffer.substring(u,a)}getPieceContent(n){const l=this.a[n.bufferIndex],i=this.u(n.bufferIndex,n.start),u=this.u(n.bufferIndex,n.end);return l.buffer.substring(i,u)}S(n,l){const i=new S.$vB(l,1);if(i.left=S.$wB,i.right=S.$wB,i.parent=S.$wB,i.size_left=0,i.lf_left=0,this.root===S.$wB)this.root=i,i.color=0;else if(n.right===S.$wB)n.right=i,i.parent=n;else{const a=(0,S.$xB)(n.right);a.left=i,i.parent=a}return(0,S.$CB)(this,i),i}T(n,l){const i=new S.$vB(l,1);if(i.left=S.$wB,i.right=S.$wB,i.parent=S.$wB,i.size_left=0,i.lf_left=0,this.root===S.$wB)this.root=i,i.color=0;else if(n.left===S.$wB)n.left=i,i.parent=n;else{const u=(0,S.$yB)(n.left);u.right=i,i.parent=u}return(0,S.$CB)(this,i),i}U(n){let l="";return this.iterate(n,i=>(l+=this.R(i),!0)),l}}e.$PB=s}),define(st[26],rt([0,1,19,3,12,25,11,21,23,7]),function(nt,e,F,j,D,S,q,V,E,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$QB=void 0;class b extends o.$kb{constructor(m,A,$,h,s,c,n){super(),this.k=this.B(new F.$5c),this.onDidChangeContent=this.k.event,this.f=A,this.j=!c,this.g=h,this.h=s,this.c=new q.$PB(m,$,n)}equals(m){return!(m instanceof b)||this.f!==m.f||this.getEOL()!==m.getEOL()?!1:this.c.equal(m.c)}mightContainRTL(){return this.g}mightContainUnusualLineTerminators(){return this.h}resetMightContainUnusualLineTerminators(){this.h=!1}mightContainNonBasicASCII(){return this.j}getBOM(){return this.f}getEOL(){return this.c.getEOL()}createSnapshot(m){return this.c.createSnapshot(m?this.f:"")}getOffsetAt(m,A){return this.c.getOffsetAt(m,A)}getPositionAt(m){return this.c.getPositionAt(m)}getRangeAt(m,A){const $=m+A,h=this.getPositionAt(m),s=this.getPositionAt($);return new D.$Lr(h.lineNumber,h.column,s.lineNumber,s.column)}getValueInRange(m,A=0){if(m.isEmpty())return"";const $=this.l(A);return this.c.getValueInRange(m,$)}getValueLengthInRange(m,A=0){if(m.isEmpty())return 0;if(m.startLineNumber===m.endLineNumber)return m.endColumn-m.startColumn;const $=this.getOffsetAt(m.startLineNumber,m.startColumn),h=this.getOffsetAt(m.endLineNumber,m.endColumn);let s=0;const c=this.l(A),n=this.getEOL();if(c.length!==n.length){const l=c.length-n.length,i=m.endLineNumber-m.startLineNumber;s=l*i}return h-$+s}getCharacterCountInRange(m,A=0){if(this.j){let $=0;const h=m.startLineNumber,s=m.endLineNumber;for(let c=h;c<=s;c++){const n=this.getLineContent(c),l=c===h?m.startColumn-1:0,i=c===s?m.endColumn-1:n.length;for(let u=l;u<i;u++)j.$Nd(n.charCodeAt(u))?($=$+1,u=u+1):$=$+1}return $+=this.l(A).length*(s-h),$}return this.getValueLengthInRange(m,A)}getLength(){return this.c.getLength()}getLineCount(){return this.c.getLineCount()}getLinesContent(){return this.c.getLinesContent()}getLineContent(m){return this.c.getLineContent(m)}getLineCharCode(m,A){return this.c.getLineCharCode(m,A)}getCharCode(m){return this.c.getCharCode(m)}getLineLength(m){return this.c.getLineLength(m)}getLineMinColumn(m){return 1}getLineMaxColumn(m){return this.getLineLength(m)+1}getLineFirstNonWhitespaceColumn(m){const A=j.$yd(this.getLineContent(m));return A===-1?0:A+1}getLineLastNonWhitespaceColumn(m){const A=j.$Ad(this.getLineContent(m));return A===-1?0:A+2}l(m){switch(m){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(m){this.c.setEOL(m)}applyEdits(m,A,$){let h=this.g,s=this.h,c=this.j,n=!0,l=[];for(let O=0;O<m.length;O++){const f=m[O];n&&f._isTracked&&(n=!1);const C=f.range;if(f.text){let G=!0;c||(G=!j.$Yd(f.text),c=G),!h&&G&&(h=j.$Xd(f.text)),!s&&G&&(s=j.$1d(f.text))}let M="",L=0,v=0,N=0;if(f.text){let G;[L,v,N,G]=(0,V.$cs)(f.text);const Z=this.getEOL();G===0||G===(Z===`\r
`?2:1)?M=f.text:M=f.text.replace(/\r\n|\r|\n/g,Z)}l[O]={sortIndex:O,identifier:f.identifier||null,range:C,rangeOffset:this.getOffsetAt(C.startLineNumber,C.startColumn),rangeLength:this.getValueLengthInRange(C),text:M,eolCount:L,firstLineLength:v,lastLineLength:N,forceMoveMarkers:!!f.forceMoveMarkers,isAutoWhitespaceEdit:f.isAutoWhitespaceEdit||!1}}l.sort(b.p);let i=!1;for(let O=0,f=l.length-1;O<f;O++){const C=l[O].range.getEndPosition(),M=l[O+1].range.getStartPosition();if(M.isBeforeOrEqual(C)){if(M.isBefore(C))throw new Error("Overlapping ranges are not allowed!");i=!0}}n&&(l=this.m(l));const u=$||A?b._getInverseEditRanges(l):[],a=[];if(A)for(let O=0;O<l.length;O++){const f=l[O],C=u[O];if(f.isAutoWhitespaceEdit&&f.range.isEmpty())for(let M=C.startLineNumber;M<=C.endLineNumber;M++){let L="";M===C.startLineNumber&&(L=this.getLineContent(f.range.startLineNumber),j.$yd(L)!==-1)||a.push({lineNumber:M,oldContent:L})}}let w=null;if($){let O=0;w=[];for(let f=0;f<l.length;f++){const C=l[f],M=u[f],L=this.getValueInRange(C.range),v=C.rangeOffset+O;O+=C.text.length-L.length,w[f]={sortIndex:C.sortIndex,identifier:C.identifier,range:M,text:L,textChange:new E.$Xr(C.rangeOffset,L,v,C.text)}}i||w.sort((f,C)=>f.sortIndex-C.sortIndex)}this.g=h,this.h=s,this.j=c;const I=this.n(l);let P=null;if(A&&a.length>0){a.sort((O,f)=>f.lineNumber-O.lineNumber),P=[];for(let O=0,f=a.length;O<f;O++){const C=a[O].lineNumber;if(O>0&&a[O-1].lineNumber===C)continue;const M=a[O].oldContent,L=this.getLineContent(C);L.length===0||L===M||j.$yd(L)!==-1||P.push(C)}}return this.k.fire(),new S.$Ut(w,I,P)}m(m){return m.length<1e3?m:[this._toSingleEditOperation(m)]}_toSingleEditOperation(m){let A=!1;const $=m[0].range,h=m[m.length-1].range,s=new D.$Lr($.startLineNumber,$.startColumn,h.endLineNumber,h.endColumn);let c=$.startLineNumber,n=$.startColumn;const l=[];for(let I=0,P=m.length;I<P;I++){const O=m[I],f=O.range;A=A||O.forceMoveMarkers,l.push(this.getValueInRange(new D.$Lr(c,n,f.startLineNumber,f.startColumn))),O.text.length>0&&l.push(O.text),c=f.endLineNumber,n=f.endColumn}const i=l.join(""),[u,a,w]=(0,V.$cs)(i);return{sortIndex:0,identifier:m[0].identifier,range:s,rangeOffset:this.getOffsetAt(s.startLineNumber,s.startColumn),rangeLength:this.getValueLengthInRange(s,0),text:i,eolCount:u,firstLineLength:a,lastLineLength:w,forceMoveMarkers:A,isAutoWhitespaceEdit:!1}}n(m){m.sort(b.s);const A=[];for(let $=0;$<m.length;$++){const h=m[$],s=h.range.startLineNumber,c=h.range.startColumn,n=h.range.endLineNumber,l=h.range.endColumn;if(s===n&&c===l&&h.text.length===0)continue;h.text?(this.c.delete(h.rangeOffset,h.rangeLength),this.c.insert(h.rangeOffset,h.text,!0)):this.c.delete(h.rangeOffset,h.rangeLength);const i=new D.$Lr(s,c,n,l);A.push({range:i,rangeLength:h.rangeLength,text:h.text,rangeOffset:h.rangeOffset,forceMoveMarkers:h.forceMoveMarkers})}return A}findMatchesLineByLine(m,A,$,h){return this.c.findMatchesLineByLine(m,A,$,h)}getPieceTree(){return this.c}static _getInverseEditRange(m,A){const $=m.startLineNumber,h=m.startColumn,[s,c,n]=(0,V.$cs)(A);let l;if(A.length>0){const i=s+1;i===1?l=new D.$Lr($,h,$,h+c):l=new D.$Lr($,h,$+i-1,n+1)}else l=new D.$Lr($,h,$,h);return l}static _getInverseEditRanges(m){const A=[];let $=0,h=0,s=null;for(let c=0,n=m.length;c<n;c++){const l=m[c];let i,u;s?s.range.endLineNumber===l.range.startLineNumber?(i=$,u=h+(l.range.startColumn-s.range.endColumn)):(i=$+(l.range.startLineNumber-s.range.endLineNumber),u=l.range.startColumn):(i=l.range.startLineNumber,u=l.range.startColumn);let a;if(l.text.length>0){const w=l.eolCount+1;w===1?a=new D.$Lr(i,u,i,u+l.firstLineLength):a=new D.$Lr(i,u,i+w-1,l.lastLineLength+1)}else a=new D.$Lr(i,u,i,u);$=a.endLineNumber,h=a.endColumn,A.push(a),s=l}return A}static p(m,A){const $=D.$Lr.compareRangesUsingEnds(m.range,A.range);return $===0?m.sortIndex-A.sortIndex:$}static s(m,A){const $=D.$Lr.compareRangesUsingEnds(m.range,A.range);return $===0?A.sortIndex-m.sortIndex:-$}}e.$QB=b}),define(st[27],rt([0,1,3,11,26]),function(nt,e,F,j,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$RB=void 0;class S{constructor(E,o,b,B,m,A,$,h,s){this.a=E,this.b=o,this.c=b,this.d=B,this.e=m,this.f=A,this.g=$,this.h=h,this.j=s}k(E){const o=this.c+this.d+this.e,b=this.c+this.e;return o===0?E===1?`
`:`\r
`:b>o/2?`\r
`:`
`}create(E){const o=this.k(E),b=this.a;if(this.j&&(o===`\r
`&&(this.c>0||this.d>0)||o===`
`&&(this.c>0||this.e>0)))for(let m=0,A=b.length;m<A;m++){const $=b[m].buffer.replace(/\r\n|\r|\n/g,o),h=(0,j.$LB)($);b[m]=new j.$OB($,h)}const B=new D.$QB(b,this.b,o,this.f,this.g,this.h,this.j);return{textBuffer:B,disposable:B}}getFirstLineText(E){return this.a[0].buffer.substr(0,E).split(/\r\n|\r|\n/)[0]}}class q{constructor(){this.a=[],this.b="",this.c=!1,this.d=0,this.e=[],this.f=0,this.g=0,this.h=0,this.j=!1,this.k=!1,this.l=!0}acceptChunk(E){if(E.length===0)return;this.a.length===0&&F.$7d(E)&&(this.b=F.$6d,E=E.substr(1));const o=E.charCodeAt(E.length-1);o===13||o>=55296&&o<=56319?(this.m(E.substr(0,E.length-1),!1),this.c=!0,this.d=o):(this.m(E,!1),this.c=!1,this.d=o)}m(E,o){!o&&E.length===0||(this.c?this.n(String.fromCharCode(this.d)+E):this.n(E))}n(E){const o=(0,j.$MB)(this.e,E);this.a.push(new j.$OB(E,o.lineStarts)),this.f+=o.cr,this.g+=o.lf,this.h+=o.crlf,o.isBasicASCII||(this.l=!1,this.j||(this.j=F.$Xd(E)),this.k||(this.k=F.$1d(E)))}finish(E=!0){return this.o(),new S(this.a,this.b,this.f,this.g,this.h,this.j,this.k,this.l,E)}o(){if(this.a.length===0&&this.m("",!0),this.c){this.c=!1;const E=this.a[this.a.length-1];E.buffer+=String.fromCharCode(this.d);const o=(0,j.$LB)(E.buffer);E.lineStarts=o,this.d===13&&this.f++}}}e.$RB=q}),define(st[28],rt([29,30]),function(nt,e){return nt.create("vs/platform/contextkey/common/contextkey",e)}),define(st[31],rt([29,30]),function(nt,e){return nt.create("vs/platform/contextkey/common/scanner",e)}),define(st[32],rt([0,1,5,31]),function(nt,e,F,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$oi=e.TokenType=void 0;var D;(function(o){o[o.LParen=0]="LParen",o[o.RParen=1]="RParen",o[o.Neg=2]="Neg",o[o.Eq=3]="Eq",o[o.NotEq=4]="NotEq",o[o.Lt=5]="Lt",o[o.LtEq=6]="LtEq",o[o.Gt=7]="Gt",o[o.GtEq=8]="GtEq",o[o.RegexOp=9]="RegexOp",o[o.RegexStr=10]="RegexStr",o[o.True=11]="True",o[o.False=12]="False",o[o.In=13]="In",o[o.Not=14]="Not",o[o.And=15]="And",o[o.Or=16]="Or",o[o.Str=17]="Str",o[o.QuotedStr=18]="QuotedStr",o[o.Error=19]="Error",o[o.EOF=20]="EOF"})(D||(e.TokenType=D={}));function S(...o){switch(o.length){case 1:return(0,j.localize)(0,null,o[0]);case 2:return(0,j.localize)(1,null,o[0],o[1]);case 3:return(0,j.localize)(2,null,o[0],o[1],o[2]);default:return}}const q=(0,j.localize)(3,null),V=(0,j.localize)(4,null);class E{constructor(){this.c="",this.d=0,this.e=0,this.f=[],this.g=[],this.m=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(b){switch(b.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return b.isTripleEq?"===":"==";case 4:return b.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return b.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return b.lexeme;case 18:return b.lexeme;case 19:return b.lexeme;case 20:return"EOF";default:throw(0,F.$5)(`unhandled token type: ${JSON.stringify(b)}; have you forgotten to add a case?`)}}get errors(){return this.g}reset(b){return this.c=b,this.d=0,this.e=0,this.f=[],this.g=[],this}scan(){for(;!this.r();)switch(this.d=this.e,this.i()){case 40:this.k(0);break;case 41:this.k(1);break;case 33:if(this.h(61)){const B=this.h(61);this.f.push({type:4,offset:this.d,isTripleEq:B})}else this.k(2);break;case 39:this.o();break;case 47:this.q();break;case 61:if(this.h(61)){const B=this.h(61);this.f.push({type:3,offset:this.d,isTripleEq:B})}else this.h(126)?this.k(9):this.l(S("==","=~"));break;case 60:this.k(this.h(61)?6:5);break;case 62:this.k(this.h(61)?8:7);break;case 38:this.h(38)?this.k(15):this.l(S("&&"));break;case 124:this.h(124)?this.k(16):this.l(S("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this.n()}return this.d=this.e,this.k(20),Array.from(this.f)}h(b){return this.r()||this.c.charCodeAt(this.e)!==b?!1:(this.e++,!0)}i(){return this.c.charCodeAt(this.e++)}j(){return this.r()?0:this.c.charCodeAt(this.e)}k(b){this.f.push({type:b,offset:this.d})}l(b){const B=this.d,m=this.c.substring(this.d,this.e),A={type:19,offset:this.d,lexeme:m};this.g.push({offset:B,lexeme:m,additionalInfo:b}),this.f.push(A)}n(){this.m.lastIndex=this.d;const b=this.m.exec(this.c);if(b){this.e=this.d+b[0].length;const B=this.c.substring(this.d,this.e),m=E.b.get(B);m?this.k(m):this.f.push({type:17,lexeme:B,offset:this.d})}}o(){for(;this.j()!==39&&!this.r();)this.i();if(this.r()){this.l(q);return}this.i(),this.f.push({type:18,lexeme:this.c.substring(this.d+1,this.e-1),offset:this.d+1})}q(){let b=this.e,B=!1,m=!1;for(;;){if(b>=this.c.length){this.e=b,this.l(V);return}const $=this.c.charCodeAt(b);if(B)B=!1;else if($===47&&!m){b++;break}else $===91?m=!0:$===92?B=!0:$===93&&(m=!1);b++}for(;b<this.c.length&&E.a.has(this.c.charCodeAt(b));)b++;this.e=b;const A=this.c.substring(this.d,this.e);this.f.push({type:10,lexeme:A,offset:this.d})}r(){return this.e>=this.c.length}}e.$oi=E,E.a=new Set(["i","g","s","m","y","u"].map(o=>o.charCodeAt(0))),E.b=new Map([["not",14],["in",13],["false",12],["true",11]])}),define(st[33],rt([0,1]),function(nt,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$mh=e.$lh=e.$kh=e._util=void 0;var F;(function(q){q.serviceIds=new Map,q.DI_TARGET="$di$target",q.DI_DEPENDENCIES="$di$dependencies";function V(E){return E[q.DI_DEPENDENCIES]||[]}q.getServiceDependencies=V})(F||(e._util=F={})),e.$kh=D("instantiationService");function j(q,V,E){V[F.DI_TARGET]===V?V[F.DI_DEPENDENCIES].push({id:q,index:E}):(V[F.DI_DEPENDENCIES]=[{id:q,index:E}],V[F.DI_TARGET]=V)}function D(q){if(F.serviceIds.has(q))return F.serviceIds.get(q);const V=function(E,o,b){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");j(V,E,b)};return V.toString=()=>q,F.serviceIds.set(q,V),V}e.$lh=D;function S(q){return q}e.$mh=S}),define(st[34],rt([0,1,2,3,32,33,28,5]),function(nt,e,F,j,D,S,q,V){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Mi=e.$Li=e.$Ki=e.$Ji=e.$Ii=e.$Hi=e.$Gi=e.$Fi=e.$Ei=e.$Di=e.$Ci=e.$Bi=e.$Ai=e.$zi=e.$yi=e.$xi=e.$wi=e.$vi=e.$ui=e.$ti=e.$si=e.$ri=e.$qi=e.ContextKeyExprType=e.$pi=void 0;const E=new Map;E.set("false",!1),E.set("true",!0),E.set("isMac",F.$e),E.set("isLinux",F.$f),E.set("isWindows",F.$d),E.set("isWeb",F.$j),E.set("isMacNative",F.$e&&!F.$j),E.set("isEdge",F.$B),E.set("isFirefox",F.$z),E.set("isChrome",F.$y),E.set("isSafari",F.$A);function o(d,t){if(E.get(d)!==void 0)throw(0,V.$4)("contextkey.setConstant(k, v) invoked with already set constant `k`");E.set(d,t)}e.$pi=o;const b=Object.prototype.hasOwnProperty;var B;(function(d){d[d.False=0]="False",d[d.True=1]="True",d[d.Defined=2]="Defined",d[d.Not=3]="Not",d[d.Equals=4]="Equals",d[d.NotEquals=5]="NotEquals",d[d.And=6]="And",d[d.Regex=7]="Regex",d[d.NotRegex=8]="NotRegex",d[d.Or=9]="Or",d[d.In=10]="In",d[d.NotIn=11]="NotIn",d[d.Greater=12]="Greater",d[d.GreaterEquals=13]="GreaterEquals",d[d.Smaller=14]="Smaller",d[d.SmallerEquals=15]="SmallerEquals"})(B||(e.ContextKeyExprType=B={}));const m={regexParsingWithErrorRecovery:!0},A=(0,q.localize)(0,null),$=(0,q.localize)(1,null),h=(0,q.localize)(2,null),s=(0,q.localize)(3,null),c=(0,q.localize)(4,null),n=(0,q.localize)(5,null),l=(0,q.localize)(6,null),i=(0,q.localize)(7,null);class u{get lexingErrors(){return this.d.errors}get parsingErrors(){return this.h}constructor(t=m){this.k=t,this.d=new D.$oi,this.f=[],this.g=0,this.h=[],this.v=/g|y/g}parse(t){if(t===""){this.h.push({message:A,offset:0,lexeme:"",additionalInfo:$});return}this.f=this.d.reset(t).scan(),this.g=0,this.h=[];try{const r=this.l();if(!this.E()){const g=this.D(),p=g.type===17?n:void 0;throw this.h.push({message:c,offset:g.offset,lexeme:D.$oi.getLexeme(g),additionalInfo:p}),u.c}return r}catch(r){if(r!==u.c)throw r;return}}l(){return this.m()}m(){const t=[this.o()];for(;this.y(16);){const r=this.o();t.push(r)}return t.length===1?t[0]:a.or(...t)}o(){const t=[this.s()];for(;this.y(15);){const r=this.s();t.push(r)}return t.length===1?t[0]:a.and(...t)}s(){if(this.y(2)){const t=this.D();switch(t.type){case 11:return this.z(),O.INSTANCE;case 12:return this.z(),f.INSTANCE;case 0:{this.z();const r=this.l();return this.A(1,s),r?.negate()}case 17:return this.z(),G.create(t.lexeme);default:throw this.B("KEY | true | false | '(' expression ')'",t)}}return this.t()}t(){const t=this.D();switch(t.type){case 11:return this.z(),a.true();case 12:return this.z(),a.false();case 0:{this.z();const r=this.l();return this.A(1,s),r}case 17:{const r=t.lexeme;if(this.z(),this.y(9)){const p=this.D();if(!this.k.regexParsingWithErrorRecovery){if(this.z(),p.type!==10)throw this.B("REGEX",p);const U=p.lexeme,H=U.lastIndexOf("/"),Q=H===U.length-1?void 0:this.w(U.substring(H+1));let it;try{it=new RegExp(U.substring(1,H),Q)}catch{throw this.B("REGEX",p)}return lt.create(r,it)}switch(p.type){case 10:case 19:{const U=[p.lexeme];this.z();let H=this.D(),Q=0;for(let ut=0;ut<p.lexeme.length;ut++)p.lexeme.charCodeAt(ut)===40?Q++:p.lexeme.charCodeAt(ut)===41&&Q--;for(;!this.E()&&H.type!==15&&H.type!==16;){switch(H.type){case 0:Q++;break;case 1:Q--;break;case 10:case 18:for(let ut=0;ut<H.lexeme.length;ut++)H.lexeme.charCodeAt(ut)===40?Q++:p.lexeme.charCodeAt(ut)===41&&Q--}if(Q<0)break;U.push(D.$oi.getLexeme(H)),this.z(),H=this.D()}const it=U.join(""),ht=it.lastIndexOf("/"),ct=ht===it.length-1?void 0:this.w(it.substring(ht+1));let at;try{at=new RegExp(it.substring(1,ht),ct)}catch{throw this.B("REGEX",p)}return a.regex(r,at)}case 18:{const U=p.lexeme;this.z();let H=null;if(!(0,j.$hd)(U)){const Q=U.indexOf("/"),it=U.lastIndexOf("/");if(Q!==it&&Q>=0){const ht=U.slice(Q+1,it),ct=U[it+1]==="i"?"i":"";try{H=new RegExp(ht,ct)}catch{throw this.B("REGEX",p)}}}if(H===null)throw this.B("REGEX",p);return lt.create(r,H)}default:throw this.B("REGEX",this.D())}}if(this.y(14)){this.A(13,h);const p=this.u();return a.notIn(r,p)}switch(this.D().type){case 3:{this.z();const p=this.u();if(this.x().type===18)return a.equals(r,p);switch(p){case"true":return a.has(r);case"false":return a.not(r);default:return a.equals(r,p)}}case 4:{this.z();const p=this.u();if(this.x().type===18)return a.notEquals(r,p);switch(p){case"true":return a.not(r);case"false":return a.has(r);default:return a.notEquals(r,p)}}case 5:return this.z(),J.create(r,this.u());case 6:return this.z(),x.create(r,this.u());case 7:return this.z(),_.create(r,this.u());case 8:return this.z(),tt.create(r,this.u());case 13:return this.z(),a.in(r,this.u());default:return a.has(r)}}case 20:throw this.h.push({message:l,offset:t.offset,lexeme:"",additionalInfo:i}),u.c;default:throw this.B(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this.D())}}u(){const t=this.D();switch(t.type){case 17:case 18:return this.z(),t.lexeme;case 11:return this.z(),"true";case 12:return this.z(),"false";case 13:return this.z(),"in";default:return""}}w(t){return t.replaceAll(this.v,"")}x(){return this.f[this.g-1]}y(t){return this.C(t)?(this.z(),!0):!1}z(){return this.E()||this.g++,this.x()}A(t,r){if(this.C(t))return this.z();throw this.B(r,this.D())}B(t,r,g){const p=(0,q.localize)(8,null,t,D.$oi.getLexeme(r)),U=r.offset,H=D.$oi.getLexeme(r);return this.h.push({message:p,offset:U,lexeme:H,additionalInfo:g}),u.c}C(t){return this.D().type===t}D(){return this.f[this.g]}E(){return this.D().type===20}}e.$qi=u,u.c=new Error;class a{static false(){return O.INSTANCE}static true(){return f.INSTANCE}static has(t){return C.create(t)}static equals(t,r){return M.create(t,r)}static notEquals(t,r){return N.create(t,r)}static regex(t,r){return lt.create(t,r)}static in(t,r){return L.create(t,r)}static notIn(t,r){return v.create(t,r)}static not(t){return G.create(t)}static and(...t){return R.create(t,null,!0)}static or(...t){return z.create(t,null,!0)}static greater(t,r){return _.create(t,r)}static greaterEquals(t,r){return tt.create(t,r)}static smaller(t,r){return J.create(t,r)}static smallerEquals(t,r){return x.create(t,r)}static deserialize(t){return t==null?void 0:this.c.parse(t)}}e.$ri=a,a.c=new u({regexParsingWithErrorRecovery:!1});function w(d){const t=new u({regexParsingWithErrorRecovery:!1});return d.map(r=>(t.parse(r),t.lexingErrors.length>0?t.lexingErrors.map(g=>({errorMessage:g.additionalInfo?(0,q.localize)(9,null,g.additionalInfo):(0,q.localize)(10,null),offset:g.offset,length:g.lexeme.length})):t.parsingErrors.length>0?t.parsingErrors.map(g=>({errorMessage:g.additionalInfo?`${g.message}. ${g.additionalInfo}`:g.message,offset:g.offset,length:g.lexeme.length})):[]))}e.$si=w;function I(d,t){const r=d?d.substituteConstants():void 0,g=t?t.substituteConstants():void 0;return!r&&!g?!0:!r||!g?!1:r.equals(g)}e.$ti=I;function P(d,t){return d.cmp(t)}class O{constructor(){this.type=0}cmp(t){return this.type-t.type}equals(t){return t.type===this.type}substituteConstants(){return this}evaluate(t){return!1}serialize(){return"false"}keys(){return[]}map(t){return this}negate(){return f.INSTANCE}}e.$ui=O,O.INSTANCE=new O;class f{constructor(){this.type=1}cmp(t){return this.type-t.type}equals(t){return t.type===this.type}substituteConstants(){return this}evaluate(t){return!0}serialize(){return"true"}keys(){return[]}map(t){return this}negate(){return O.INSTANCE}}e.$vi=f,f.INSTANCE=new f;class C{static create(t,r=null){const g=E.get(t);return typeof g=="boolean"?g?f.INSTANCE:O.INSTANCE:new C(t,r)}constructor(t,r){this.key=t,this.c=r,this.type=2}cmp(t){return t.type!==this.type?this.type-t.type:Y(this.key,t.key)}equals(t){return t.type===this.type?this.key===t.key:!1}substituteConstants(){const t=E.get(this.key);return typeof t=="boolean"?t?f.INSTANCE:O.INSTANCE:this}evaluate(t){return!!t.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(t){return t.mapDefined(this.key)}negate(){return this.c||(this.c=G.create(this.key,this)),this.c}}e.$wi=C;class M{static create(t,r,g=null){if(typeof r=="boolean")return r?C.create(t,g):G.create(t,g);const p=E.get(t);return typeof p=="boolean"?r===(p?"true":"false")?f.INSTANCE:O.INSTANCE:new M(t,r,g)}constructor(t,r,g){this.c=t,this.d=r,this.f=g,this.type=4}cmp(t){return t.type!==this.type?this.type-t.type:W(this.c,this.d,t.c,t.d)}equals(t){return t.type===this.type?this.c===t.c&&this.d===t.d:!1}substituteConstants(){const t=E.get(this.c);if(typeof t=="boolean"){const r=t?"true":"false";return this.d===r?f.INSTANCE:O.INSTANCE}return this}evaluate(t){return t.getValue(this.c)==this.d}serialize(){return`${this.c} == '${this.d}'`}keys(){return[this.c]}map(t){return t.mapEquals(this.c,this.d)}negate(){return this.f||(this.f=N.create(this.c,this.d,this)),this.f}}e.$xi=M;class L{static create(t,r){return new L(t,r)}constructor(t,r){this.d=t,this.f=r,this.type=10,this.c=null}cmp(t){return t.type!==this.type?this.type-t.type:W(this.d,this.f,t.d,t.f)}equals(t){return t.type===this.type?this.d===t.d&&this.f===t.f:!1}substituteConstants(){return this}evaluate(t){const r=t.getValue(this.f),g=t.getValue(this.d);return Array.isArray(r)?r.includes(g):typeof g=="string"&&typeof r=="object"&&r!==null?b.call(r,g):!1}serialize(){return`${this.d} in '${this.f}'`}keys(){return[this.d,this.f]}map(t){return t.mapIn(this.d,this.f)}negate(){return this.c||(this.c=v.create(this.d,this.f)),this.c}}e.$yi=L;class v{static create(t,r){return new v(t,r)}constructor(t,r){this.d=t,this.f=r,this.type=11,this.c=L.create(t,r)}cmp(t){return t.type!==this.type?this.type-t.type:this.c.cmp(t.c)}equals(t){return t.type===this.type?this.c.equals(t.c):!1}substituteConstants(){return this}evaluate(t){return!this.c.evaluate(t)}serialize(){return`${this.d} not in '${this.f}'`}keys(){return this.c.keys()}map(t){return t.mapNotIn(this.d,this.f)}negate(){return this.c}}e.$zi=v;class N{static create(t,r,g=null){if(typeof r=="boolean")return r?G.create(t,g):C.create(t,g);const p=E.get(t);return typeof p=="boolean"?r===(p?"true":"false")?O.INSTANCE:f.INSTANCE:new N(t,r,g)}constructor(t,r,g){this.c=t,this.d=r,this.f=g,this.type=5}cmp(t){return t.type!==this.type?this.type-t.type:W(this.c,this.d,t.c,t.d)}equals(t){return t.type===this.type?this.c===t.c&&this.d===t.d:!1}substituteConstants(){const t=E.get(this.c);if(typeof t=="boolean"){const r=t?"true":"false";return this.d===r?O.INSTANCE:f.INSTANCE}return this}evaluate(t){return t.getValue(this.c)!=this.d}serialize(){return`${this.c} != '${this.d}'`}keys(){return[this.c]}map(t){return t.mapNotEquals(this.c,this.d)}negate(){return this.f||(this.f=M.create(this.c,this.d,this)),this.f}}e.$Ai=N;class G{static create(t,r=null){const g=E.get(t);return typeof g=="boolean"?g?O.INSTANCE:f.INSTANCE:new G(t,r)}constructor(t,r){this.c=t,this.d=r,this.type=3}cmp(t){return t.type!==this.type?this.type-t.type:Y(this.c,t.c)}equals(t){return t.type===this.type?this.c===t.c:!1}substituteConstants(){const t=E.get(this.c);return typeof t=="boolean"?t?O.INSTANCE:f.INSTANCE:this}evaluate(t){return!t.getValue(this.c)}serialize(){return`!${this.c}`}keys(){return[this.c]}map(t){return t.mapNot(this.c)}negate(){return this.d||(this.d=C.create(this.c,this)),this.d}}e.$Bi=G;function Z(d,t){if(typeof d=="string"){const r=parseFloat(d);isNaN(r)||(d=r)}return typeof d=="string"||typeof d=="number"?t(d):O.INSTANCE}class _{static create(t,r,g=null){return Z(r,p=>new _(t,p,g))}constructor(t,r,g){this.c=t,this.d=r,this.f=g,this.type=12}cmp(t){return t.type!==this.type?this.type-t.type:W(this.c,this.d,t.c,t.d)}equals(t){return t.type===this.type?this.c===t.c&&this.d===t.d:!1}substituteConstants(){return this}evaluate(t){return typeof this.d=="string"?!1:parseFloat(t.getValue(this.c))>this.d}serialize(){return`${this.c} > ${this.d}`}keys(){return[this.c]}map(t){return t.mapGreater(this.c,this.d)}negate(){return this.f||(this.f=x.create(this.c,this.d,this)),this.f}}e.$Ci=_;class tt{static create(t,r,g=null){return Z(r,p=>new tt(t,p,g))}constructor(t,r,g){this.c=t,this.d=r,this.f=g,this.type=13}cmp(t){return t.type!==this.type?this.type-t.type:W(this.c,this.d,t.c,t.d)}equals(t){return t.type===this.type?this.c===t.c&&this.d===t.d:!1}substituteConstants(){return this}evaluate(t){return typeof this.d=="string"?!1:parseFloat(t.getValue(this.c))>=this.d}serialize(){return`${this.c} >= ${this.d}`}keys(){return[this.c]}map(t){return t.mapGreaterEquals(this.c,this.d)}negate(){return this.f||(this.f=J.create(this.c,this.d,this)),this.f}}e.$Di=tt;class J{static create(t,r,g=null){return Z(r,p=>new J(t,p,g))}constructor(t,r,g){this.c=t,this.d=r,this.f=g,this.type=14}cmp(t){return t.type!==this.type?this.type-t.type:W(this.c,this.d,t.c,t.d)}equals(t){return t.type===this.type?this.c===t.c&&this.d===t.d:!1}substituteConstants(){return this}evaluate(t){return typeof this.d=="string"?!1:parseFloat(t.getValue(this.c))<this.d}serialize(){return`${this.c} < ${this.d}`}keys(){return[this.c]}map(t){return t.mapSmaller(this.c,this.d)}negate(){return this.f||(this.f=tt.create(this.c,this.d,this)),this.f}}e.$Ei=J;class x{static create(t,r,g=null){return Z(r,p=>new x(t,p,g))}constructor(t,r,g){this.c=t,this.d=r,this.f=g,this.type=15}cmp(t){return t.type!==this.type?this.type-t.type:W(this.c,this.d,t.c,t.d)}equals(t){return t.type===this.type?this.c===t.c&&this.d===t.d:!1}substituteConstants(){return this}evaluate(t){return typeof this.d=="string"?!1:parseFloat(t.getValue(this.c))<=this.d}serialize(){return`${this.c} <= ${this.d}`}keys(){return[this.c]}map(t){return t.mapSmallerEquals(this.c,this.d)}negate(){return this.f||(this.f=_.create(this.c,this.d,this)),this.f}}e.$Fi=x;class lt{static create(t,r){return new lt(t,r)}constructor(t,r){this.d=t,this.f=r,this.type=7,this.c=null}cmp(t){if(t.type!==this.type)return this.type-t.type;if(this.d<t.d)return-1;if(this.d>t.d)return 1;const r=this.f?this.f.source:"",g=t.f?t.f.source:"";return r<g?-1:r>g?1:0}equals(t){if(t.type===this.type){const r=this.f?this.f.source:"",g=t.f?t.f.source:"";return this.d===t.d&&r===g}return!1}substituteConstants(){return this}evaluate(t){const r=t.getValue(this.d);return this.f?this.f.test(r):!1}serialize(){const t=this.f?`/${this.f.source}/${this.f.flags}`:"/invalid/";return`${this.d} =~ ${t}`}keys(){return[this.d]}map(t){return t.mapRegex(this.d,this.f)}negate(){return this.c||(this.c=y.create(this)),this.c}}e.$Gi=lt;class y{static create(t){return new y(t)}constructor(t){this.c=t,this.type=8}cmp(t){return t.type!==this.type?this.type-t.type:this.c.cmp(t.c)}equals(t){return t.type===this.type?this.c.equals(t.c):!1}substituteConstants(){return this}evaluate(t){return!this.c.evaluate(t)}serialize(){return`!(${this.c.serialize()})`}keys(){return this.c.keys()}map(t){return new y(this.c.map(t))}negate(){return this.c}}e.$Hi=y;function X(d){let t=null;for(let r=0,g=d.length;r<g;r++){const p=d[r].substituteConstants();if(d[r]!==p&&t===null){t=[];for(let U=0;U<r;U++)t[U]=d[U]}t!==null&&(t[r]=p)}return t===null?d:t}class R{static create(t,r,g){return R.d(t,r,g)}constructor(t,r){this.expr=t,this.c=r,this.type=6}cmp(t){if(t.type!==this.type)return this.type-t.type;if(this.expr.length<t.expr.length)return-1;if(this.expr.length>t.expr.length)return 1;for(let r=0,g=this.expr.length;r<g;r++){const p=P(this.expr[r],t.expr[r]);if(p!==0)return p}return 0}equals(t){if(t.type===this.type){if(this.expr.length!==t.expr.length)return!1;for(let r=0,g=this.expr.length;r<g;r++)if(!this.expr[r].equals(t.expr[r]))return!1;return!0}return!1}substituteConstants(){const t=X(this.expr);return t===this.expr?this:R.create(t,this.c,!1)}evaluate(t){for(let r=0,g=this.expr.length;r<g;r++)if(!this.expr[r].evaluate(t))return!1;return!0}static d(t,r,g){const p=[];let U=!1;for(const H of t)if(H){if(H.type===1){U=!0;continue}if(H.type===0)return O.INSTANCE;if(H.type===6){p.push(...H.expr);continue}p.push(H)}if(p.length===0&&U)return f.INSTANCE;if(p.length!==0){if(p.length===1)return p[0];p.sort(P);for(let H=1;H<p.length;H++)p[H-1].equals(p[H])&&(p.splice(H,1),H--);if(p.length===1)return p[0];for(;p.length>1;){const H=p[p.length-1];if(H.type!==9)break;p.pop();const Q=p.pop(),it=p.length===0,ht=z.create(H.expr.map(ct=>R.create([ct,Q],null,g)),null,it);ht&&(p.push(ht),p.sort(P))}if(p.length===1)return p[0];if(g){for(let H=0;H<p.length;H++)for(let Q=H+1;Q<p.length;Q++)if(p[H].negate().equals(p[Q]))return O.INSTANCE;if(p.length===1)return p[0]}return new R(p,r)}}serialize(){return this.expr.map(t=>t.serialize()).join(" && ")}keys(){const t=[];for(const r of this.expr)t.push(...r.keys());return t}map(t){return new R(this.expr.map(r=>r.map(t)),null)}negate(){if(!this.c){const t=[];for(const r of this.expr)t.push(r.negate());this.c=z.create(t,this,!0)}return this.c}}e.$Ii=R;class z{static create(t,r,g){return z.d(t,r,g)}constructor(t,r){this.expr=t,this.c=r,this.type=9}cmp(t){if(t.type!==this.type)return this.type-t.type;if(this.expr.length<t.expr.length)return-1;if(this.expr.length>t.expr.length)return 1;for(let r=0,g=this.expr.length;r<g;r++){const p=P(this.expr[r],t.expr[r]);if(p!==0)return p}return 0}equals(t){if(t.type===this.type){if(this.expr.length!==t.expr.length)return!1;for(let r=0,g=this.expr.length;r<g;r++)if(!this.expr[r].equals(t.expr[r]))return!1;return!0}return!1}substituteConstants(){const t=X(this.expr);return t===this.expr?this:z.create(t,this.c,!1)}evaluate(t){for(let r=0,g=this.expr.length;r<g;r++)if(this.expr[r].evaluate(t))return!0;return!1}static d(t,r,g){let p=[],U=!1;if(t){for(let H=0,Q=t.length;H<Q;H++){const it=t[H];if(it){if(it.type===0){U=!0;continue}if(it.type===1)return f.INSTANCE;if(it.type===9){p=p.concat(it.expr);continue}p.push(it)}}if(p.length===0&&U)return O.INSTANCE;p.sort(P)}if(p.length!==0){if(p.length===1)return p[0];for(let H=1;H<p.length;H++)p[H-1].equals(p[H])&&(p.splice(H,1),H--);if(p.length===1)return p[0];if(g){for(let H=0;H<p.length;H++)for(let Q=H+1;Q<p.length;Q++)if(p[H].negate().equals(p[Q]))return f.INSTANCE;if(p.length===1)return p[0]}return new z(p,r)}}serialize(){return this.expr.map(t=>t.serialize()).join(" || ")}keys(){const t=[];for(const r of this.expr)t.push(...r.keys());return t}map(t){return new z(this.expr.map(r=>r.map(t)),null)}negate(){if(!this.c){const t=[];for(const r of this.expr)t.push(r.negate());for(;t.length>1;){const r=t.shift(),g=t.shift(),p=[];for(const U of T(r))for(const H of T(g))p.push(R.create([U,H],null,!1));t.unshift(z.create(p,null,!1))}this.c=z.create(t,this,!0)}return this.c}}e.$Ji=z;class k extends C{static all(){return k.d.values()}constructor(t,r,g){super(t,null),this.f=r,typeof g=="object"?k.d.push({...g,key:t}):g!==!0&&k.d.push({key:t,description:g,type:r!=null?typeof r:void 0})}bindTo(t){return t.createKey(this.key,this.f)}getValue(t){return t.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(t){return M.create(this.key,t)}notEqualsTo(t){return N.create(this.key,t)}}e.$Ki=k,k.d=[],e.$Li=(0,S.$lh)("contextKeyService");function Y(d,t){return d<t?-1:d>t?1:0}function W(d,t,r,g){return d<r?-1:d>r?1:t<g?-1:t>g?1:0}function K(d,t){if(d.type===0||t.type===1)return!0;if(d.type===9)return t.type===9?et(d.expr,t.expr):!1;if(t.type===9){for(const r of t.expr)if(K(d,r))return!0;return!1}if(d.type===6){if(t.type===6)return et(t.expr,d.expr);for(const r of d.expr)if(K(r,t))return!0;return!1}return d.equals(t)}e.$Mi=K;function et(d,t){let r=0,g=0;for(;r<d.length&&g<t.length;){const p=d[r].cmp(t[g]);if(p<0)return!1;p===0&&r++,g++}return r===d.length}function T(d){return d.type===9?d.expr:[d]}}),define(st[35],rt([0,1,6,20,42,14,9,4,2,34]),function(nt,e,F,j,D,S,q,V,E,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$iH=e.$hH=e.$gH=e.CellStatusbarAlignment=e.$fH=e.$eH=e.$dH=e.NotebookEditorPriority=e.$cH=e.$bH=e.$aH=e.CellUri=e.CellEditType=e.SelectionStateType=e.NotebookCellsChangeType=e.RendererMessagingSpec=e.NotebookRendererMatch=e.NotebookExecutionState=e.NotebookCellExecutionState=e.NotebookRunState=e.$_G=e.$$G=e.$0G=e.$9G=e.CellKind=e.$8G=e.$7G=e.$6G=void 0,e.$6G="workbench.editor.notebook",e.$7G="workbench.editor.notebookTextDiffEditor",e.$8G="workbench.editor.interactive";var b;(function(y){y[y.Markup=1]="Markup",y[y.Code=2]="Code"})(b||(e.CellKind=b={})),e.$9G=["application/json","application/javascript","text/html","image/svg+xml",S.$rr.latex,S.$rr.markdown,"image/png","image/jpeg",S.$rr.text],e.$0G=[S.$rr.latex,S.$rr.markdown,"application/json","text/html","image/svg+xml","image/png","image/jpeg",S.$rr.text],e.$$G=new Map([["ms-toolsai.jupyter",new Set(["jupyter-notebook","interactive"])],["ms-toolsai.jupyter-renderers",new Set(["jupyter-notebook","interactive"])]]),e.$_G="_notAvailable";var B;(function(y){y[y.Running=1]="Running",y[y.Idle=2]="Idle"})(B||(e.NotebookRunState=B={}));var m;(function(y){y[y.Unconfirmed=1]="Unconfirmed",y[y.Pending=2]="Pending",y[y.Executing=3]="Executing"})(m||(e.NotebookCellExecutionState=m={}));var A;(function(y){y[y.Unconfirmed=1]="Unconfirmed",y[y.Pending=2]="Pending",y[y.Executing=3]="Executing"})(A||(e.NotebookExecutionState=A={}));var $;(function(y){y[y.WithHardKernelDependency=0]="WithHardKernelDependency",y[y.WithOptionalKernelDependency=1]="WithOptionalKernelDependency",y[y.Pure=2]="Pure",y[y.Never=3]="Never"})($||(e.NotebookRendererMatch=$={}));var h;(function(y){y.Always="always",y.Never="never",y.Optional="optional"})(h||(e.RendererMessagingSpec=h={}));var s;(function(y){y[y.ModelChange=1]="ModelChange",y[y.Move=2]="Move",y[y.ChangeCellLanguage=5]="ChangeCellLanguage",y[y.Initialize=6]="Initialize",y[y.ChangeCellMetadata=7]="ChangeCellMetadata",y[y.Output=8]="Output",y[y.OutputItem=9]="OutputItem",y[y.ChangeCellContent=10]="ChangeCellContent",y[y.ChangeDocumentMetadata=11]="ChangeDocumentMetadata",y[y.ChangeCellInternalMetadata=12]="ChangeCellInternalMetadata",y[y.ChangeCellMime=13]="ChangeCellMime",y[y.Unknown=100]="Unknown"})(s||(e.NotebookCellsChangeType=s={}));var c;(function(y){y[y.Handle=0]="Handle",y[y.Index=1]="Index"})(c||(e.SelectionStateType=c={}));var n;(function(y){y[y.Replace=1]="Replace",y[y.Output=2]="Output",y[y.Metadata=3]="Metadata",y[y.CellLanguage=4]="CellLanguage",y[y.DocumentMetadata=5]="DocumentMetadata",y[y.Move=6]="Move",y[y.OutputItems=7]="OutputItems",y[y.PartialMetadata=8]="PartialMetadata",y[y.PartialInternalMetadata=9]="PartialInternalMetadata"})(n||(e.CellEditType=n={}));var l;(function(y){y.scheme=q.Schemas.vscodeNotebookCell;const X=["W","X","Y","Z","a","b","c","d","e","f"],R=new RegExp(`^[${X.join("")}]+`),z=7;function k(d,t){const r=t.toString(z),p=`${r.length<X.length?X[r.length-1]:"z"}${r}s${(0,F.$2b)(F.$Ib.fromString(d.scheme),!0,!0)}`;return d.with({scheme:y.scheme,fragment:p})}y.generate=k;function Y(d){if(d.scheme!==y.scheme)return;const t=d.fragment.indexOf("s");if(t<0)return;const r=parseInt(d.fragment.substring(0,t).replace(R,""),z),g=(0,F.$1b)(d.fragment.substring(t+1)).toString();if(!isNaN(r))return{handle:r,notebook:d.with({scheme:g,fragment:null})}}y.parse=Y;function W(d,t){return d.with({scheme:q.Schemas.vscodeNotebookCellOutput,fragment:`op${t??""},${d.scheme!==q.Schemas.file?d.scheme:""}`})}y.generateCellOutputUri=W;function K(d){if(d.scheme!==q.Schemas.vscodeNotebookCellOutput)return;const t=/^op([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})?\,(.*)$/i.exec(d.fragment);if(!t)return;const r=t[1]&&t[1]!==""?t[1]:void 0,g=t[2];return{outputId:r,notebook:d.with({scheme:g||q.Schemas.file,fragment:null})}}y.parseCellOutputUri=K;function et(d,t,r){return y.generate(d,t).with({scheme:r})}y.generateCellPropertyUri=et;function T(d,t){if(d.scheme===t)return y.parse(d.with({scheme:y.scheme}))}y.parseCellPropertyUri=T})(l||(e.CellUri=l={}));const i=y=>E.$d?y.replace(/\//g,"\\"):y;class u{constructor(X=[],R=e.$9G){this.e=R,this.d=[...new Set(X)].map(z=>({pattern:z,matches:j.$aj(i(z))}))}sort(X){const R=new Map(D.Iterable.map(X,k=>[k,i(k)]));let z=[];for(const{matches:k}of this.d)for(const[Y,W]of R)if(k(W)){z.push(Y),R.delete(Y);break}return R.size&&(z=z.concat([...R.keys()].sort((k,Y)=>this.e.indexOf(k)-this.e.indexOf(Y)))),z}prioritize(X,R){const z=this.f(X);if(z===-1){this.d.unshift({pattern:X,matches:j.$aj(i(X))});return}const k=new Set(R.map(W=>this.f(W,z)));k.delete(-1);const Y=Array.from(k).sort();this.d.splice(z+1,0,...Y.map(W=>this.d[W]));for(let W=Y.length-1;W>=0;W--)this.d.splice(Y[W],1)}toArray(){return this.d.map(X=>X.pattern)}f(X,R=this.d.length){const z=i(X);for(let k=0;k<R;k++)if(this.d[k].matches(z))return k;return-1}}e.$aH=u;function a(y,X,R,z=(k,Y)=>k===Y){const k=[];function Y(et,T,d){if(T===0&&d.length===0)return;const t=k[k.length-1];t&&t.start+t.deleteCount===et?(t.deleteCount+=T,t.toInsert.push(...d)):k.push({start:et,deleteCount:T,toInsert:d})}let W=0,K=0;for(;;){if(W===y.length){Y(W,0,X.slice(K));break}if(K===X.length){Y(W,y.length-W,[]);break}const et=y[W],T=X[K];if(z(et,T)){W+=1,K+=1;continue}R(T)?(Y(W,1,[]),W+=1):(Y(W,0,[T]),K+=1)}return k}e.$bH=a,e.$cH=new o.$Ki("notebookEditorCursorAtBoundary","none");var w;(function(y){y.default="default",y.option="option"})(w||(e.NotebookEditorPriority=w={}));function I(y){const X=y;return!!((typeof X.include=="string"||j.$bj(X.include))&&(typeof X.exclude=="string"||j.$bj(X.exclude)))}e.$dH=I;function P(y,X,R){if(Array.isArray(y.viewType)&&y.viewType.indexOf(X)>=0||y.viewType===X)return!0;if(y.filenamePattern){const z=I(y.filenamePattern)?y.filenamePattern.include:y.filenamePattern,k=I(y.filenamePattern)?y.filenamePattern.exclude:void 0;if(j.$_i(z,(0,V.$cc)(R.fsPath).toLowerCase()))return!(k&&j.$_i(k,(0,V.$cc)(R.fsPath).toLowerCase()))}return!1}e.$eH=P,e.$fH={displayOrder:"notebook.displayOrder",cellToolbarLocation:"notebook.cellToolbarLocation",cellToolbarVisibility:"notebook.cellToolbarVisibility",showCellStatusBar:"notebook.showCellStatusBar",textDiffEditorPreview:"notebook.diff.enablePreview",diffOverviewRuler:"notebook.diff.overviewRuler",experimentalInsertToolbarAlignment:"notebook.experimental.insertToolbarAlignment",compactView:"notebook.compactView",focusIndicator:"notebook.cellFocusIndicator",insertToolbarLocation:"notebook.insertToolbarLocation",globalToolbar:"notebook.globalToolbar",undoRedoPerCell:"notebook.undoRedoPerCell",consolidatedOutputButton:"notebook.consolidatedOutputButton",showFoldingControls:"notebook.showFoldingControls",dragAndDropEnabled:"notebook.dragAndDropEnabled",cellEditorOptionsCustomizations:"notebook.editorOptionsCustomizations",consolidatedRunButton:"notebook.consolidatedRunButton",openGettingStarted:"notebook.experimental.openGettingStarted",globalToolbarShowLabel:"notebook.globalToolbarShowLabel",markupFontSize:"notebook.markup.fontSize",interactiveWindowCollapseCodeCells:"interactiveWindow.collapseCellInputCode",outputScrollingDeprecated:"notebook.experimental.outputScrolling",outputScrolling:"notebook.output.scrolling",textOutputLineLimit:"notebook.output.textLineLimit",formatOnSave:"notebook.formatOnSave.enabled",formatOnCellExecution:"notebook.formatOnCellExecution",codeActionsOnSave:"notebook.codeActionsOnSave",outputWordWrap:"notebook.output.wordWrap",outputLineHeightDeprecated:"notebook.outputLineHeight",outputLineHeight:"notebook.output.lineHeight",outputFontSizeDeprecated:"notebook.outputFontSize",outputFontSize:"notebook.output.fontSize",outputFontFamilyDeprecated:"notebook.outputFontFamily",outputFontFamily:"notebook.output.fontFamily",findScope:"notebook.find.scope",logging:"notebook.logging",confirmDeleteRunningCell:"notebook.confirmDeleteRunningCell"};var O;(function(y){y[y.Left=1]="Left",y[y.Right=2]="Right"})(O||(e.CellStatusbarAlignment=O={}));class f{static create(X){return`${f.d}${X}`}static parse(X){if(X.startsWith(f.d))return X.substring(f.d.length)}}e.$gH=f,f.d="notebook/";function C(y){return["application/vnd.code.notebook.stdout","application/vnd.code.notebook.stderr"].includes(y)}e.$hH=C;const M=new TextDecoder;function L(y){const X=[];let R=!1;for(const z of y)(X.length===0||R)&&(X.push(z),R=!0);return Z(X),lt(F.$Ib.concat(X.map(z=>F.$Ib.wrap(z))))}e.$iH=L;const v=`${String.fromCharCode(27)}[A`,N=v.split("").map(y=>y.charCodeAt(0)),G=10;function Z(y){y.forEach((X,R)=>{if(R===0||X.length<v.length)return;const z=y[R-1],k=X.subarray(0,v.length);if(k[0]===N[0]&&k[1]===N[1]&&k[2]===N[2]){const Y=z.lastIndexOf(G);if(Y===-1)return;y[R-1]=z.subarray(0,Y),y[R]=X.subarray(v.length)}})}function _(y){let X=y;do y=X,X=y.replace(/[^\n]\x08/gm,"");while(X.length<y.length);return y}function tt(y){for(y=y.replace(/\r+\n/gm,`
`);y.search(/\r[^$]/g)>-1;){const X=y.match(/^(.*)\r+/m)[1];let R=y.match(/\r+(.*)$/m)[1];R=R+X.slice(R.length,X.length),y=y.replace(/\r+.*$/m,"\r").replace(/^.*\r/m,R)}return y}const J="\b".charCodeAt(0),x="\r".charCodeAt(0);function lt(y){return!y.buffer.includes(J)&&!y.buffer.includes(x)?y:F.$Ib.fromString(tt(_(M.decode(y.buffer))))}}),define(st[43],rt([0,1,44,45,10,27,35,12]),function(nt,e,F,j,D,S,q,V){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.NotebookEditorSimpleWorker=void 0;function E($){let h=(0,j.$bi)(104579,0);for(let s=0;s<$.buffer.length;s++)h=(0,j.$ai)($.buffer[s],h);return h}class o{get textBuffer(){if(this.a)return this.a;const h=new S.$RB;h.acceptChunk(Array.isArray(this.d)?this.d.join(`
`):this.d);const s=h.finish(!0);return this.a=s.create(1).textBuffer,this.a}primaryKey(){return this.b===void 0&&(this.b=(0,j.$_h)(this.getValue())),this.b}constructor(h,s,c,n,l,i,u){this.handle=h,this.d=s,this.language=c,this.cellKind=n,this.outputs=l,this.metadata=i,this.internalMetadata=u,this.b=null,this.c=null}getFullModelRange(){const h=this.textBuffer.getLineCount();return new V.$Lr(1,1,h,this.textBuffer.getLineLength(h)+1)}getValue(){const h=this.getFullModelRange();return this.textBuffer.getValueInRange(h,1)}getComparisonValue(){return this.b!==null?this.b:(this.c=(0,j.$_h)([(0,j.$_h)(this.language),(0,j.$_h)(this.getValue()),this.metadata,this.internalMetadata,this.outputs.map(h=>({outputs:h.outputs.map(s=>({mime:s.mime,data:E(s.data)})),metadata:h.metadata}))]),this.c)}getHashValue(){return this.c!==null?this.c:(this.c=(0,j.$_h)([(0,j.$_h)(this.getValue()),this.language,this.metadata,this.internalMetadata]),this.c)}}class b{constructor(h,s,c){this.uri=h,this.cells=s,this.metadata=c}acceptModelChanged(h){h.rawEvents.forEach(s=>{if(s.kind===q.NotebookCellsChangeType.ModelChange)this._spliceNotebookCells(s.changes);else if(s.kind===q.NotebookCellsChangeType.Move){const c=this.cells.splice(s.index,1);this.cells.splice(s.newIdx,0,...c)}else if(s.kind===q.NotebookCellsChangeType.Output){const c=this.cells[s.index];c.outputs=s.outputs}else if(s.kind===q.NotebookCellsChangeType.ChangeCellLanguage){this.a(s.index);const c=this.cells[s.index];c.language=s.language}else if(s.kind===q.NotebookCellsChangeType.ChangeCellMetadata){this.a(s.index);const c=this.cells[s.index];c.metadata=s.metadata}else if(s.kind===q.NotebookCellsChangeType.ChangeCellInternalMetadata){this.a(s.index);const c=this.cells[s.index];c.internalMetadata=s.internalMetadata}})}a(h){if(h<0||h>=this.cells.length)throw new Error(`Illegal index ${h}. Cells length: ${this.cells.length}`)}_spliceNotebookCells(h){h.reverse().forEach(s=>{const n=s[2].map(l=>new o(l.handle,l.source,l.language,l.cellKind,l.outputs,l.metadata));this.cells.splice(s[0],s[1],...n)})}}class B{constructor(h){this.textModel=h}getElements(){const h=new Int32Array(this.textModel.cells.length);for(let s=0;s<this.textModel.cells.length;s++)h[s]=this.textModel.cells[s].getComparisonValue();return h}getCellHash(h){const s=Array.isArray(h.source)?h.source.join(`
`):h.source;return(0,j.$_h)([(0,j.$_h)(s),h.metadata])}}class m{constructor(){this.a=Object.create(null)}dispose(){}acceptNewModel(h,s){this.a[h]=new b(D.URI.parse(h),s.cells.map(c=>new o(c.handle,c.source,c.language,c.cellKind,c.outputs,c.metadata)),s.metadata)}acceptModelChanged(h,s){this.a[h]?.acceptModelChanged(s)}acceptRemovedModel(h){this.a[h]&&delete this.a[h]}computeDiff(h,s){const c=this.b(h),n=this.b(s);return{cellsDiff:new F.$iu(new B(c),new B(n)).ComputeDiff(!1)}}b(h){return this.a[h]}}e.NotebookEditorSimpleWorker=m;function A($){return new m}e.create=A})}).call(this);

//# sourceMappingURL=notebookSimpleWorker.js.map
