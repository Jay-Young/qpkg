{"version":3,"file":"extension.js","mappings":"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","sources":["webpack://git-base/./src/api/api1.ts","webpack://git-base/./src/api/extension.ts","webpack://git-base/./src/decorators.ts","webpack://git-base/./src/model.ts","webpack://git-base/./src/remoteSource.ts","webpack://git-base/./src/util.ts","webpack://git-base/external commonjs \"vscode\"","webpack://git-base/webpack/bootstrap","webpack://git-base/./src/extension.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable, commands } from 'vscode';\nimport { $Lfc } from '../model';\nimport { $Mfc, $Nfc } from '../remoteSource';\nimport { $Ofc } from './extension';\nimport { API, PickRemoteSourceOptions, PickRemoteSourceResult, RemoteSourceAction, RemoteSourceProvider } from './git-base';\n\nexport class $Pfc implements API {\n\n\tconstructor(private a: $Lfc) { }\n\n\tpickRemoteSource(options: PickRemoteSourceOptions): Promise<PickRemoteSourceResult | string | undefined> {\n\t\treturn $Nfc(this.a, options as any);\n\t}\n\n\tgetRemoteSourceActions(url: string): Promise<RemoteSourceAction[]> {\n\t\treturn $Mfc(this.a, url);\n\t}\n\n\tregisterRemoteSourceProvider(provider: RemoteSourceProvider): Disposable {\n\t\treturn this.a.registerRemoteSourceProvider(provider);\n\t}\n}\n\nexport function $Qfc(extension: $Ofc): Disposable {\n\tconst disposables: Disposable[] = [];\n\n\tdisposables.push(commands.registerCommand('git-base.api.getRemoteSources', (opts?: PickRemoteSourceOptions) => {\n\t\tif (!extension.model) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn $Nfc(extension.model, opts as any);\n\t}));\n\n\treturn Disposable.from(...disposables);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { $Lfc } from '../model';\nimport { GitBaseExtension, API } from './git-base';\nimport { Event, EventEmitter } from 'vscode';\nimport { $Pfc } from './api1';\n\nexport class $Ofc implements GitBaseExtension {\n\n\tenabled: boolean = false;\n\n\tprivate a = new EventEmitter<boolean>();\n\treadonly onDidChangeEnablement: Event<boolean> = this.a.event;\n\n\tprivate b: $Lfc | undefined = undefined;\n\n\tset model(model: $Lfc | undefined) {\n\t\tthis.b = model;\n\n\t\tconst enabled = !!model;\n\n\t\tif (this.enabled === enabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.enabled = enabled;\n\t\tthis.a.fire(this.enabled);\n\t}\n\n\tget model(): $Lfc | undefined {\n\t\treturn this.b;\n\t}\n\n\tconstructor(model?: $Lfc) {\n\t\tif (model) {\n\t\t\tthis.enabled = true;\n\t\t\tthis.b = model;\n\t\t}\n\t}\n\n\tgetAPI(version: number): API {\n\t\tif (!this.b) {\n\t\t\tthrow new Error('Git model not found');\n\t\t}\n\n\t\tif (version !== 1) {\n\t\t\tthrow new Error(`No API version ${version} found.`);\n\t\t}\n\n\t\treturn new $Pfc(this.b);\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { done } from './util';\n\nexport function $Jfc(delay: number): Function {\n\treturn decorate((fn, key) => {\n\t\tconst timerKey = `$debounce$${key}`;\n\n\t\treturn function (this: any, ...args: any[]) {\n\t\t\tclearTimeout(this[timerKey]);\n\t\t\tthis[timerKey] = setTimeout(() => fn.apply(this, args), delay);\n\t\t};\n\t});\n}\n\nexport const $Kfc = decorate(_throttle);\n\nfunction _throttle<T>(fn: Function, key: string): Function {\n\tconst currentKey = `$throttle$current$${key}`;\n\tconst nextKey = `$throttle$next$${key}`;\n\n\tconst trigger = function (this: any, ...args: any[]) {\n\t\tif (this[nextKey]) {\n\t\t\treturn this[nextKey];\n\t\t}\n\n\t\tif (this[currentKey]) {\n\t\t\tthis[nextKey] = done(this[currentKey]).then(() => {\n\t\t\t\tthis[nextKey] = undefined;\n\t\t\t\treturn trigger.apply(this, args);\n\t\t\t});\n\n\t\t\treturn this[nextKey];\n\t\t}\n\n\t\tthis[currentKey] = fn.apply(this, args) as Promise<T>;\n\n\t\tconst clear = () => this[currentKey] = undefined;\n\t\tdone(this[currentKey]).then(clear, clear);\n\n\t\treturn this[currentKey];\n\t};\n\n\treturn trigger;\n}\n\nfunction decorate(decorator: (fn: Function, key: string) => Function): Function {\n\treturn (_target: any, key: string, descriptor: any) => {\n\t\tlet fnKey: string | null = null;\n\t\tlet fn: Function | null = null;\n\n\t\tif (typeof descriptor.value === 'function') {\n\t\t\tfnKey = 'value';\n\t\t\tfn = descriptor.value;\n\t\t} else if (typeof descriptor.get === 'function') {\n\t\t\tfnKey = 'get';\n\t\t\tfn = descriptor.get;\n\t\t}\n\n\t\tif (!fn || !fnKey) {\n\t\t\tthrow new Error('not supported');\n\t\t}\n\n\t\tdescriptor[fnKey] = decorator(fn, key);\n\t};\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { EventEmitter, Disposable } from 'vscode';\nimport { $Hfc } from './util';\nimport { RemoteSourceProvider } from './api/git-base';\nimport { IRemoteSourceProviderRegistry } from './remoteProvider';\n\nexport class $Lfc implements IRemoteSourceProviderRegistry {\n\n\tprivate a = new Set<RemoteSourceProvider>();\n\n\tprivate b = new EventEmitter<RemoteSourceProvider>();\n\treadonly onDidAddRemoteSourceProvider = this.b.event;\n\n\tprivate c = new EventEmitter<RemoteSourceProvider>();\n\treadonly onDidRemoveRemoteSourceProvider = this.c.event;\n\n\tregisterRemoteSourceProvider(provider: RemoteSourceProvider): Disposable {\n\t\tthis.a.add(provider);\n\t\tthis.b.fire(provider);\n\n\t\treturn $Hfc(() => {\n\t\t\tthis.a.delete(provider);\n\t\t\tthis.c.fire(provider);\n\t\t});\n\t}\n\n\tgetRemoteProviders(): RemoteSourceProvider[] {\n\t\treturn [...this.a.values()];\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { QuickPickItem, window, QuickPick, QuickPickItemKind, l10n } from 'vscode';\nimport { RemoteSourceProvider, RemoteSource, PickRemoteSourceOptions, PickRemoteSourceResult, RemoteSourceAction } from './api/git-base';\nimport { $Lfc } from './model';\nimport { $Kfc, $Jfc } from './decorators';\n\nasync function getQuickPickResult<T extends QuickPickItem>(quickpick: QuickPick<T>): Promise<T | undefined> {\n\tconst result = await new Promise<T | undefined>(c => {\n\t\tquickpick.onDidAccept(() => c(quickpick.selectedItems[0]));\n\t\tquickpick.onDidHide(() => c(undefined));\n\t\tquickpick.show();\n\t});\n\n\tquickpick.hide();\n\treturn result;\n}\n\nclass RemoteSourceProviderQuickPick {\n\n\tprivate d: QuickPick<QuickPickItem & { remoteSource?: RemoteSource }> | undefined;\n\n\tconstructor(private e: RemoteSourceProvider) { }\n\n\tprivate f() {\n\t\tif (!this.d) {\n\t\t\tthis.d = window.createQuickPick();\n\t\t\tthis.d.ignoreFocusOut = true;\n\t\t\tif (this.e.supportsQuery) {\n\t\t\t\tthis.d.placeholder = this.e.placeholder ?? l10n.t('Repository name (type to search)');\n\t\t\t\tthis.d.onDidChangeValue(this.g, this);\n\t\t\t} else {\n\t\t\t\tthis.d.placeholder = this.e.placeholder ?? l10n.t('Repository name');\n\t\t\t}\n\t\t}\n\t}\n\n\t@$Jfc(300)\n\tprivate g(): void {\n\t\tthis.h();\n\t}\n\n\t@$Kfc\n\tprivate async h(): Promise<void> {\n\t\ttry {\n\t\t\tthis.f();\n\t\t\tthis.d!.busy = true;\n\t\t\tthis.d!.show();\n\n\t\t\tconst remoteSources = await this.e.getRemoteSources(this.d?.value) || [];\n\n\t\t\tif (remoteSources.length === 0) {\n\t\t\t\tthis.d!.items = [{\n\t\t\t\t\tlabel: l10n.t('No remote repositories found.'),\n\t\t\t\t\talwaysShow: true\n\t\t\t\t}];\n\t\t\t} else {\n\t\t\t\tthis.d!.items = remoteSources.map(remoteSource => ({\n\t\t\t\t\tlabel: remoteSource.icon ? `$(${remoteSource.icon}) ${remoteSource.name}` : remoteSource.name,\n\t\t\t\t\tdescription: remoteSource.description || (typeof remoteSource.url === 'string' ? remoteSource.url : remoteSource.url[0]),\n\t\t\t\t\tdetail: remoteSource.detail,\n\t\t\t\t\tremoteSource,\n\t\t\t\t\talwaysShow: true\n\t\t\t\t}));\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tthis.d!.items = [{ label: l10n.t('{0} Error: {1}', '$(error)', err.message), alwaysShow: true }];\n\t\t\tconsole.error(err);\n\t\t} finally {\n\t\t\tthis.d!.busy = false;\n\t\t}\n\t}\n\n\tasync pick(): Promise<RemoteSource | undefined> {\n\t\tawait this.h();\n\t\tconst result = await getQuickPickResult(this.d!);\n\t\treturn result?.remoteSource;\n\t}\n}\n\nexport async function $Mfc(model: $Lfc, url: string): Promise<RemoteSourceAction[]> {\n\tconst providers = model.getRemoteProviders();\n\n\tconst remoteSourceActions = [];\n\tfor (const provider of providers) {\n\t\tconst providerActions = await provider.getRemoteSourceActions?.(url);\n\t\tif (providerActions?.length) {\n\t\t\tremoteSourceActions.push(...providerActions);\n\t\t}\n\t}\n\n\treturn remoteSourceActions;\n}\n\nexport async function $Nfc(model: $Lfc, options: PickRemoteSourceOptions & { branch?: false | undefined }): Promise<string | undefined>;\nexport async function $Nfc(model: $Lfc, options: PickRemoteSourceOptions & { branch: true }): Promise<PickRemoteSourceResult | undefined>;\nexport async function $Nfc(model: $Lfc, options: PickRemoteSourceOptions = {}): Promise<string | PickRemoteSourceResult | undefined> {\n\tconst quickpick = window.createQuickPick<(QuickPickItem & { provider?: RemoteSourceProvider; url?: string })>();\n\tquickpick.title = options.title;\n\n\tif (options.providerName) {\n\t\tconst provider = model.getRemoteProviders()\n\t\t\t.filter(provider => provider.name === options.providerName)[0];\n\n\t\tif (provider) {\n\t\t\treturn await pickProviderSource(provider, options);\n\t\t}\n\t}\n\n\tconst remoteProviders = model.getRemoteProviders()\n\t\t.map(provider => ({ label: (provider.icon ? `$(${provider.icon}) ` : '') + (options.providerLabel ? options.providerLabel(provider) : provider.name), alwaysShow: true, provider }));\n\n\tconst recentSources: (QuickPickItem & { url?: string; timestamp: number })[] = [];\n\tif (options.showRecentSources) {\n\t\tfor (const { provider } of remoteProviders) {\n\t\t\tconst sources = (await provider.getRecentRemoteSources?.() ?? []).map((item) => {\n\t\t\t\treturn {\n\t\t\t\t\t...item,\n\t\t\t\t\tlabel: (item.icon ? `$(${item.icon}) ` : '') + item.name,\n\t\t\t\t\turl: typeof item.url === 'string' ? item.url : item.url[0],\n\t\t\t\t};\n\t\t\t});\n\t\t\trecentSources.push(...sources);\n\t\t}\n\t}\n\n\tconst items = [\n\t\t{ kind: QuickPickItemKind.Separator, label: l10n.t('remote sources') },\n\t\t...remoteProviders,\n\t\t{ kind: QuickPickItemKind.Separator, label: l10n.t('recently opened') },\n\t\t...recentSources.sort((a, b) => b.timestamp - a.timestamp)\n\t];\n\n\tquickpick.placeholder = options.placeholder ?? (remoteProviders.length === 0\n\t\t? l10n.t('Provide repository URL')\n\t\t: l10n.t('Provide repository URL or pick a repository source.'));\n\n\tconst updatePicks = (value?: string) => {\n\t\tif (value) {\n\t\t\tconst label = (typeof options.urlLabel === 'string' ? options.urlLabel : options.urlLabel?.(value)) ?? l10n.t('URL');\n\t\t\tquickpick.items = [{\n\t\t\t\tlabel: label,\n\t\t\t\tdescription: value,\n\t\t\t\talwaysShow: true,\n\t\t\t\turl: value\n\t\t\t},\n\t\t\t...items\n\t\t\t];\n\t\t} else {\n\t\t\tquickpick.items = items;\n\t\t}\n\t};\n\n\tquickpick.onDidChangeValue(updatePicks);\n\tupdatePicks();\n\n\tconst result = await getQuickPickResult(quickpick);\n\n\tif (result) {\n\t\tif (result.url) {\n\t\t\treturn result.url;\n\t\t} else if (result.provider) {\n\t\t\treturn await pickProviderSource(result.provider, options);\n\t\t}\n\t}\n\n\treturn undefined;\n}\n\nasync function pickProviderSource(provider: RemoteSourceProvider, options: PickRemoteSourceOptions = {}): Promise<string | PickRemoteSourceResult | undefined> {\n\tconst quickpick = new RemoteSourceProviderQuickPick(provider);\n\tconst remote = await quickpick.pick();\n\n\tlet url: string | undefined;\n\n\tif (remote) {\n\t\tif (typeof remote.url === 'string') {\n\t\t\turl = remote.url;\n\t\t} else if (remote.url.length > 0) {\n\t\t\turl = await window.showQuickPick(remote.url, { ignoreFocusOut: true, placeHolder: l10n.t('Choose a URL to clone from.') });\n\t\t}\n\t}\n\n\tif (!url || !options.branch) {\n\t\treturn url;\n\t}\n\n\tif (!provider.getBranches) {\n\t\treturn { url };\n\t}\n\n\tconst branches = await provider.getBranches(url);\n\n\tif (!branches) {\n\t\treturn { url };\n\t}\n\n\tconst branch = await window.showQuickPick(branches, {\n\t\tplaceHolder: l10n.t('Branch name')\n\t});\n\n\tif (!branch) {\n\t\treturn { url };\n\t}\n\n\treturn { url, branch };\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nexport interface IDisposable {\n\tdispose(): void;\n}\n\nexport function $Hfc(dispose: () => void): IDisposable {\n\treturn { dispose };\n}\n\nexport function done<T>(promise: Promise<T>): Promise<void> {\n\treturn promise.then<void>(() => undefined);\n}\n\nexport namespace Versions {\n\tdeclare type VersionComparisonResult = -1 | 0 | 1;\n\n\texport interface Version {\n\t\tmajor: number;\n\t\tminor: number;\n\t\tpatch: number;\n\t\tpre?: string;\n\t}\n\n\texport function compare(v1: string | Version, v2: string | Version): VersionComparisonResult {\n\t\tif (typeof v1 === 'string') {\n\t\t\tv1 = fromString(v1);\n\t\t}\n\t\tif (typeof v2 === 'string') {\n\t\t\tv2 = fromString(v2);\n\t\t}\n\n\t\tif (v1.major > v2.major) { return 1; }\n\t\tif (v1.major < v2.major) { return -1; }\n\n\t\tif (v1.minor > v2.minor) { return 1; }\n\t\tif (v1.minor < v2.minor) { return -1; }\n\n\t\tif (v1.patch > v2.patch) { return 1; }\n\t\tif (v1.patch < v2.patch) { return -1; }\n\n\t\tif (v1.pre === undefined && v2.pre !== undefined) { return 1; }\n\t\tif (v1.pre !== undefined && v2.pre === undefined) { return -1; }\n\n\t\tif (v1.pre !== undefined && v2.pre !== undefined) {\n\t\t\treturn v1.pre.localeCompare(v2.pre) as VersionComparisonResult;\n\t\t}\n\n\t\treturn 0;\n\t}\n\n\texport function from(major: string | number, minor: string | number, patch?: string | number, pre?: string): Version {\n\t\treturn {\n\t\t\tmajor: typeof major === 'string' ? parseInt(major, 10) : major,\n\t\t\tminor: typeof minor === 'string' ? parseInt(minor, 10) : minor,\n\t\t\tpatch: patch === undefined || patch === null ? 0 : typeof patch === 'string' ? parseInt(patch, 10) : patch,\n\t\t\tpre: pre,\n\t\t};\n\t}\n\n\texport function fromString(version: string): Version {\n\t\tconst [ver, pre] = version.split('-');\n\t\tconst [major, minor, patch] = ver.split('.');\n\t\treturn from(major, minor, patch, pre);\n\t}\n}\n","module.exports = require(\"vscode\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ExtensionContext } from 'vscode';\nimport { $Qfc } from './api/api1';\nimport { $Ofc } from './api/extension';\nimport { $Lfc } from './model';\n\nexport function activate(context: ExtensionContext): $Ofc {\n\tconst apiImpl = new $Ofc(new $Lfc());\n\tcontext.subscriptions.push($Qfc(apiImpl));\n\n\treturn apiImpl;\n}\n"],"names":["constructor","a","pickRemoteSource","options","$Nfc","this","getRemoteSourceActions","url","$Mfc","registerRemoteSourceProvider","provider","extension","disposables","push","commands","registerCommand","opts","model","Disposable","from","b","enabled","fire","EventEmitter","onDidChangeEnablement","event","undefined","getAPI","version","Error","$Pfc","decorate","decorator","_target","key","descriptor","fnKey","fn","value","get","delay","timerKey","args","clearTimeout","setTimeout","apply","$Kfc","currentKey","nextKey","trigger","done","then","clear","Set","onDidAddRemoteSourceProvider","c","onDidRemoveRemoteSourceProvider","add","$Hfc","delete","getRemoteProviders","values","async","getQuickPickResult","quickpick","result","Promise","onDidAccept","selectedItems","onDidHide","show","hide","RemoteSourceProviderQuickPick","e","f","d","window","createQuickPick","ignoreFocusOut","supportsQuery","placeholder","l10n","t","onDidChangeValue","g","h","busy","remoteSources","getRemoteSources","length","items","label","alwaysShow","map","remoteSource","icon","name","description","detail","err","message","console","error","pickProviderSource","remote","pick","showQuickPick","placeHolder","branch","getBranches","branches","$Jfc","providers","remoteSourceActions","providerActions","title","providerName","filter","remoteProviders","providerLabel","recentSources","showRecentSources","sources","getRecentRemoteSources","item","kind","QuickPickItemKind","Separator","sort","timestamp","updatePicks","urlLabel","Versions","dispose","promise","major","minor","patch","pre","parseInt","fromString","ver","split","compare","v1","v2","localeCompare","module","exports","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","call","context","apiImpl","$Ofc","$Lfc","subscriptions","$Qfc"],"sourceRoot":""}