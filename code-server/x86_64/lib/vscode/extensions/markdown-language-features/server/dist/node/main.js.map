{"version":3,"sources":["webpack://vscode-markdown-languageserver/./node_modules/@vscode/l10n/dist/browser.esm.js","webpack://vscode-markdown-languageserver/./node_modules/picomatch/index.js","webpack://vscode-markdown-languageserver/./node_modules/picomatch/lib/constants.js","webpack://vscode-markdown-languageserver/./node_modules/picomatch/lib/parse.js","webpack://vscode-markdown-languageserver/./node_modules/picomatch/lib/picomatch.js","webpack://vscode-markdown-languageserver/./node_modules/picomatch/lib/scan.js","webpack://vscode-markdown-languageserver/./node_modules/picomatch/lib/utils.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/api.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/cancellation.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/connection.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/disposable.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/events.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/is.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/linkedMap.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/messageBuffer.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/messageReader.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/messageWriter.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/messages.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/ral.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/semaphore.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/node/main.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/node/ril.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/node.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/api.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/connection.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/messages.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.callHierarchy.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.colorProvider.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.configuration.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.declaration.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.diagnostic.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.fileOperations.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.foldingRange.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.implementation.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.inlayHint.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.inlineValue.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.linkedEditingRange.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.moniker.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.notebook.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.progress.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.selectionRange.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.semanticTokens.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.showDocument.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.typeDefinition.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.typeHierarchy.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.workspaceFolder.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/utils/is.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/node/main.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/node.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-textdocument/lib/esm/main.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-types/lib/esm/main.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/api.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/callHierarchy.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/configuration.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/diagnostic.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/fileOperations.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/inlayHint.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/inlineValue.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/linkedEditingRange.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/moniker.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/notebook.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/progress.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/semanticTokens.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/server.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/showDocument.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/textDocuments.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/typeHierarchy.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/utils/is.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/utils/uuid.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/workspaceFolder.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/node/files.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/node/main.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/node.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/config.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/index.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/codeActions/extractLinkDef.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/codeActions/removeLinkDefinition.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/codeActions/util.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/definitions.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/diagnostics.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/documentHighlights.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/documentLinks.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/documentSymbols.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/fileRename.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/folding.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/organizeLinkDefs.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/pathCompletions.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/references.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/rename.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/smartSelect.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/workspaceSymbols.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/logging.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/slugify.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/tableOfContents.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/types/position.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/types/range.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/types/textDocument.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/arrays.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/dispose.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/editBuilder.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/file.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/lazy.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/limiter.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/path.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/resourceMap.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/schemes.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/string.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/uri.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/workspace.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/workspaceCache.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-uri/lib/esm/index.js","webpack://vscode-markdown-languageserver/./src/config.ts","webpack://vscode-markdown-languageserver/./src/configuration.ts","webpack://vscode-markdown-languageserver/./src/languageFeatures/diagnostics.ts","webpack://vscode-markdown-languageserver/./src/logging.ts","webpack://vscode-markdown-languageserver/./src/protocol.ts","webpack://vscode-markdown-languageserver/./src/server.ts","webpack://vscode-markdown-languageserver/./src/util/dispose.ts","webpack://vscode-markdown-languageserver/./src/util/file.ts","webpack://vscode-markdown-languageserver/./src/util/limiter.ts","webpack://vscode-markdown-languageserver/./src/util/resourceMap.ts","webpack://vscode-markdown-languageserver/./src/util/schemes.ts","webpack://vscode-markdown-languageserver/./src/workspace.ts","webpack://vscode-markdown-languageserver/external \"child_process\"","webpack://vscode-markdown-languageserver/external \"crypto\"","webpack://vscode-markdown-languageserver/external \"fs\"","webpack://vscode-markdown-languageserver/external \"net\"","webpack://vscode-markdown-languageserver/external \"os\"","webpack://vscode-markdown-languageserver/external \"path\"","webpack://vscode-markdown-languageserver/external \"url\"","webpack://vscode-markdown-languageserver/external \"util\"","webpack://vscode-markdown-languageserver/webpack/bootstrap","webpack://vscode-markdown-languageserver/webpack/runtime/define property getters","webpack://vscode-markdown-languageserver/webpack/runtime/hasOwnProperty shorthand","webpack://vscode-markdown-languageserver/webpack/runtime/make namespace object","webpack://vscode-markdown-languageserver/./src/node/main.ts"],"names":["o","f","r","contents","JSON","parse","n","Error","m","fsPath","uri","URL","async","protocol","fetch","text","g","then","t","p","e","s","splice","message","comment","length","Array","isArray","join","args","a","i","u","replace","module","exports","path","DOTS_SLASH","POSIX_CHARS","DOT_LITERAL","PLUS_LITERAL","QMARK_LITERAL","SLASH_LITERAL","ONE_CHAR","QMARK","END_ANCHOR","NO_DOT","NO_DOTS","NO_DOT_SLASH","NO_DOTS_SLASH","QMARK_NO_DOT","STAR","START_ANCHOR","WINDOWS_CHARS","MAX_LENGTH","POSIX_REGEX_SOURCE","alnum","alpha","ascii","blank","cntrl","digit","graph","lower","print","punct","space","upper","word","xdigit","REGEX_BACKSLASH","REGEX_NON_SPECIAL_CHARS","REGEX_SPECIAL_CHARS","REGEX_SPECIAL_CHARS_BACKREF","REGEX_SPECIAL_CHARS_GLOBAL","REGEX_REMOVE_BACKSLASH","REPLACEMENTS","CHAR_0","CHAR_9","CHAR_UPPERCASE_A","CHAR_LOWERCASE_A","CHAR_UPPERCASE_Z","CHAR_LOWERCASE_Z","CHAR_LEFT_PARENTHESES","CHAR_RIGHT_PARENTHESES","CHAR_ASTERISK","CHAR_AMPERSAND","CHAR_AT","CHAR_BACKWARD_SLASH","CHAR_CARRIAGE_RETURN","CHAR_CIRCUMFLEX_ACCENT","CHAR_COLON","CHAR_COMMA","CHAR_DOT","CHAR_DOUBLE_QUOTE","CHAR_EQUAL","CHAR_EXCLAMATION_MARK","CHAR_FORM_FEED","CHAR_FORWARD_SLASH","CHAR_GRAVE_ACCENT","CHAR_HASH","CHAR_HYPHEN_MINUS","CHAR_LEFT_ANGLE_BRACKET","CHAR_LEFT_CURLY_BRACE","CHAR_LEFT_SQUARE_BRACKET","CHAR_LINE_FEED","CHAR_NO_BREAK_SPACE","CHAR_PERCENT","CHAR_PLUS","CHAR_QUESTION_MARK","CHAR_RIGHT_ANGLE_BRACKET","CHAR_RIGHT_CURLY_BRACE","CHAR_RIGHT_SQUARE_BRACKET","CHAR_SEMICOLON","CHAR_SINGLE_QUOTE","CHAR_SPACE","CHAR_TAB","CHAR_UNDERSCORE","CHAR_VERTICAL_LINE","CHAR_ZERO_WIDTH_NOBREAK_SPACE","SEP","sep","extglobChars","chars","type","open","close","globChars","win32","constants","utils","expandRange","options","sort","value","RegExp","ex","map","v","escapeRegex","syntaxError","char","input","TypeError","opts","max","maxLength","Math","min","len","SyntaxError","bos","output","prepend","tokens","capture","isWindows","PLATFORM_CHARS","EXTGLOB_CHARS","globstar","dot","nodot","qmarkNoDot","star","bash","noext","noextglob","state","index","start","consumed","prefix","backtrack","negated","brackets","braces","parens","quotes","removePrefix","extglobs","stack","prev","eos","peek","advance","remaining","slice","consume","num","append","token","negate","count","increment","push","decrement","pop","tok","isBrace","isExtglob","extglob","inner","extglobOpen","conditions","extglobClose","rest","extglobStar","includes","test","expression","fastpaths","negatedExtglob","backslashes","esc","first","repeat","unescape","contains","wrapOutput","next","match","exec","slashes","posix","idx","lastIndexOf","pre","indexOf","keepQuotes","strictBrackets","nobracket","prevValue","literalBrackets","hasRegexChars","escaped","nobrace","outputIndex","tokensIndex","brace","dots","arr","range","unshift","comma","out","toks","supportsLookbehinds","nonegate","regex","noglobstar","prior","before","isStart","afterStar","after","strictSlashes","end","escapeLast","suffix","slashDot","create","str","source","scan","picomatch","glob","returnState","fns","isMatch","isState","val","compileRe","makeRe","isIgnored","ignore","ignoreOpts","onMatch","onResult","matcher","returnObject","result","onIgnore","format","toPosixSlashes","matchBase","basename","Boolean","patterns","pattern","returnOutput","toRegex","parsed","flags","nocase","err","debug","isPathSeparator","code","depth","isPrefix","isGlobstar","Infinity","scanToEnd","parts","lastIndex","isBracket","isGlob","braceEscaped","finished","charCodeAt","noparen","base","removeBackslashes","maxDepth","prevIndex","process","platform","isObject","isRegexChar","segs","version","split","Number","windows","lastIdx","startsWith","Object","defineProperty","TraceFormat","TraceValues","Trace","ProgressType","ProgressToken","createMessageConnection","NullLogger","ConnectionOptions","ConnectionStrategy","WriteableStreamMessageWriter","AbstractMessageWriter","MessageWriter","ReadableStreamMessageReader","AbstractMessageReader","MessageReader","CancellationToken","CancellationTokenSource","Emitter","Event","Disposable","LRUCache","Touch","LinkedMap","ParameterStructures","NotificationType9","NotificationType8","NotificationType7","NotificationType6","NotificationType5","NotificationType4","NotificationType3","NotificationType2","NotificationType1","NotificationType0","NotificationType","ErrorCodes","ResponseError","RequestType9","RequestType8","RequestType7","RequestType6","RequestType5","RequestType4","RequestType3","RequestType2","RequestType1","RequestType0","RequestType","Message","RAL","CancellationStrategy","CancellationSenderStrategy","CancellationReceiverStrategy","ConnectionError","ConnectionErrors","LogTraceNotification","SetTraceNotification","messages_1","enumerable","get","linkedMap_1","disposable_1","events_1","cancellation_1","messageReader_1","messageWriter_1","connection_1","ral_1","default","Is","None","freeze","isCancellationRequested","onCancellationRequested","Cancelled","is","candidate","boolean","shortcutEvent","callback","context","handle","timer","setTimeout","bind","dispose","MutableToken","constructor","this","_isCancelled","cancel","_emitter","fire","undefined","event","_token","CancelNotification","ProgressNotification","StarRequestHandler","ConnectionState","func","error","warn","info","log","Off","Messages","Compact","Verbose","fromString","string","toLowerCase","toString","Text","super","setPrototypeOf","prototype","cancelUndispatched","createCancellationTokenSource","_","sendCancellation","conn","id","sendNotification","cleanup","receiver","sender","cancellationStrategy","connectionStrategy","messageReader","messageWriter","_logger","logger","sequenceNumber","notificationSequenceNumber","unknownResponseSequenceNumber","starRequestHandler","requestHandlers","Map","starNotificationHandler","notificationHandlers","progressHandlers","tracer","messageQueue","responsePromises","knownCanceledRequests","Set","requestTokens","trace","traceFormat","New","errorEmitter","closeEmitter","unhandledNotificationEmitter","unhandledProgressEmitter","disposeEmitter","createRequestQueueKey","_message","isListening","Listening","isClosed","Closed","isDisposed","Disposed","closeHandler","triggerMessageQueue","size","setImmediate","shift","isRequest","requestMessage","reply","resultOrError","method","startTime","jsonrpc","toJson","traceSendingResponse","write","catch","replyError","data","params","stringifyTrace","logLSPMessage","traceReceivedRequest","element","requestHandler","handler","Date","now","tokenKey","String","cancellationSource","has","set","handlerResult","numberOfParams","InvalidParams","parameterStructures","byName","byPosition","promise","delete","InternalError","replySuccess","MethodNotFound","handleRequest","isNotification","notificationHandler","cancelId","traceReceivedNotification","handleNotification","isResponse","responseMessage","stringify","key","responsePromise","timerStart","traceReceivedResponse","reject","resolve","handleResponse","number","responseHandler","handleInvalidMessage","processMessageQueue","onClose","onError","toCancel","strategy","response","cancellationToken","add","queue","addMessageToQueue","lspMessage","isLSPMessage","timestamp","throwIfClosedOrDisposed","undefinedToNull","param","nullToUndefined","isNamedParam","computeSingleParam","auto","computeMessageParams","connection","messageParams","paramStart","paramEnd","notificationMessage","traceSendingNotification","onNotification","onProgress","_type","sendProgress","onUnhandledProgress","sendRequest","throwIfNotListening","last","disposable","Promise","traceSendingRequest","MessageWriteError","onRequest","hasPendingResponse","_value","_tracer","sendNotificationOrTraceOptions","_sendNotification","_traceFormat","onUnhandledNotification","onDispose","PendingResponseRejected","values","listen","AlreadyListening","throwIfListening","inspect","console","verbose","_disposable","CallbackList","bucket","_callbacks","_contexts","remove","foundCallbackWithDifferentContext","invoke","ret","callbacks","contexts","apply","isEmpty","_options","_event","listener","thisArgs","disposables","onFirstListenerAdd","_noop","onLastListenerRemove","call","array","stringArray","every","elem","_a","First","AsOld","Last","AsNew","_map","_head","_tail","_size","_state","clear","touch","item","previous","addItemLast","addItemFirst","removeItem","forEach","callbackfn","thisArg","current","keys","iterator","Symbol","done","entries","toStringTag","trimOld","newSize","currentSize","toJSON","fromJSON","limit","ratio","_limit","_ratio","checkTrim","round","AbstractMessageBuffer","encoding","_encoding","_chunks","_totalLength","chunk","toAppend","byteLength","tryReadHeaders","chunkIndex","offset","chunkBytesRead","row","buffer","_read","headers","header","substr","trim","tryReadBody","byteCount","emptyBuffer","asNative","allocNative","resultOffset","chunkPart","ResolvedMessageReaderOptions","onPartialMessage","partialMessageEmitter","fireError","asError","fireClose","firePartialMessage","fromOptions","charset","contentDecoder","contentDecoders","contentTypeDecoder","contentTypeDecoders","name","decoder","applicationJson","readable","messageBuffer","_partialMessageTimeout","nextMessageLength","messageToken","timeout","partialMessageTimer","onData","contentLength","parseInt","isNaN","body","setPartialMessageTimer","clearPartialMessageTimer","decode","msg","waitingTime","semaphore_1","ResolvedMessageWriterOptions","contentTypeEncoder","encoder","contentEncoder","writable","errorCount","writeSemaphore","Semaphore","lock","encode","doWrite","handleError","AbstractMessageSignature","ParseError","InvalidRequest","jsonrpcReservedErrorRangeStart","serverErrorStart","MessageReadError","ConnectionInactive","ServerNotInitialized","UnknownErrorCode","jsonrpcReservedErrorRangeEnd","serverErrorEnd","kind","_parameterStructures","_ral","install","ral","capacity","_capacity","_active","_waiting","thunk","runNext","doRunNext","__createBinding","k","k2","desc","getOwnPropertyDescriptor","__esModule","configurable","__exportStar","hasOwnProperty","createServerSocketTransport","createClientSocketTransport","createServerPipeTransport","createClientPipeTransport","generateRandomPipeName","StreamMessageWriter","StreamMessageReader","SocketMessageWriter","SocketMessageReader","IPCMessageWriter","IPCMessageReader","ril_1","api_1","os","crypto_1","net_1","eventEmitter","on","off","send","socket","stream","asReadableStream","asWritableStream","destroy","readble","XDG_RUNTIME_DIR","env","safeIpcPathLengths","randomSuffix","randomBytes","tmpdir","pipeName","connectResolve","connected","_reject","server","createServer","removeListener","onConnected","createConnection","port","reader","read","addListener","isReadableStream","writer","isWritableStream","util_1","messageBuffer_1","MessageBuffer","Buffer","from","TextDecoder","allocUnsafe","ReadableStreamWrapper","onEnd","WritableStreamWrapper","_ril","ms","clearTimeout","clearImmediate","setInterval","clearInterval","RIL","LSPErrorCodes","createProtocolConnection","lspReservedErrorRangeStart","RequestFailed","ServerCancelled","ContentModified","RequestCancelled","lspReservedErrorRangeEnd","vscode_jsonrpc_1","ProtocolNotificationType","ProtocolNotificationType0","ProtocolRequestType","ProtocolRequestType0","RegistrationType","MessageDirection","CallHierarchyOutgoingCallsRequest","CallHierarchyIncomingCallsRequest","CallHierarchyPrepareRequest","messageDirection","clientToServer","ColorPresentationRequest","DocumentColorRequest","ConfigurationRequest","serverToClient","DeclarationRequest","DiagnosticRefreshRequest","WorkspaceDiagnosticRequest","DocumentDiagnosticRequest","DocumentDiagnosticReportKind","DiagnosticServerCancellationData","retriggerRequest","Full","Unchanged","partialResult","WillDeleteFilesRequest","DidDeleteFilesNotification","DidRenameFilesNotification","WillRenameFilesRequest","DidCreateFilesNotification","WillCreateFilesRequest","FileOperationPatternKind","file","folder","FoldingRangeRequest","ImplementationRequest","InlayHintRefreshRequest","InlayHintResolveRequest","InlayHintRequest","InlineValueRefreshRequest","InlineValueRequest","WorkspaceSymbolRequest","CodeActionResolveRequest","CodeActionRequest","DocumentSymbolRequest","DocumentHighlightRequest","ReferencesRequest","DefinitionRequest","SignatureHelpRequest","SignatureHelpTriggerKind","HoverRequest","CompletionResolveRequest","CompletionRequest","CompletionTriggerKind","PublishDiagnosticsNotification","WatchKind","RelativePattern","FileChangeType","DidChangeWatchedFilesNotification","WillSaveTextDocumentWaitUntilRequest","WillSaveTextDocumentNotification","TextDocumentSaveReason","DidSaveTextDocumentNotification","DidCloseTextDocumentNotification","DidChangeTextDocumentNotification","TextDocumentContentChangeEvent","DidOpenTextDocumentNotification","TextDocumentSyncKind","TelemetryEventNotification","LogMessageNotification","ShowMessageRequest","ShowMessageNotification","MessageType","DidChangeConfigurationNotification","ExitNotification","ShutdownRequest","InitializedNotification","InitializeErrorCodes","InitializeRequest","WorkDoneProgressOptions","TextDocumentRegistrationOptions","StaticRegistrationOptions","PositionEncodingKind","FailureHandlingKind","ResourceOperationKind","UnregistrationRequest","RegistrationRequest","DocumentSelector","NotebookCellTextDocumentFilter","NotebookDocumentFilter","TextDocumentFilter","TypeHierarchySubtypesRequest","TypeHierarchyPrepareRequest","MonikerRequest","MonikerKind","UniquenessLevel","LinkedEditingRangeRequest","ShowDocumentRequest","SemanticTokensRegistrationType","SemanticTokensRefreshRequest","SemanticTokensRangeRequest","SemanticTokensDeltaRequest","SemanticTokensRequest","TokenFormat","WorkDoneProgressCancelNotification","WorkDoneProgressCreateRequest","WorkDoneProgress","SelectionRangeRequest","DidChangeWorkspaceFoldersNotification","WorkspaceFoldersRequest","TypeDefinitionRequest","ApplyWorkspaceEditRequest","ExecuteCommandRequest","PrepareRenameRequest","RenameRequest","PrepareSupportDefaultBehavior","DocumentOnTypeFormattingRequest","DocumentRangeFormattingRequest","DocumentFormattingRequest","DocumentLinkResolveRequest","DocumentLinkRequest","CodeLensRefreshRequest","CodeLensResolveRequest","CodeLensRequest","WorkspaceSymbolResolveRequest","DidCloseNotebookDocumentNotification","DidSaveNotebookDocumentNotification","DidChangeNotebookDocumentNotification","NotebookCellArrayChange","DidOpenNotebookDocumentNotification","NotebookDocumentSyncRegistrationType","NotebookDocument","NotebookCell","ExecutionSummary","NotebookCellKind","TypeHierarchySupertypesRequest","vscode_languageserver_types_1","protocol_implementation_1","protocol_typeDefinition_1","protocol_workspaceFolder_1","protocol_configuration_1","protocol_colorProvider_1","protocol_foldingRange_1","protocol_declaration_1","protocol_selectionRange_1","protocol_progress_1","protocol_callHierarchy_1","protocol_semanticTokens_1","protocol_showDocument_1","protocol_linkedEditingRange_1","protocol_fileOperations_1","protocol_moniker_1","protocol_typeHierarchy_1","protocol_inlineValue_1","protocol_inlayHint_1","protocol_diagnostic_1","protocol_notebook_1","language","scheme","objectLiteral","notebookType","notebook","Create","Rename","Delete","Abort","Transactional","TextOnlyTransactional","Undo","UTF8","UTF16","UTF32","hasId","documentSelector","workDoneProgress","hasWorkDoneProgress","unknownProtocolVersion","Warning","Info","Log","Incremental","isIncremental","rangeLength","isFull","Manual","AfterDelay","FocusOut","Created","Changed","Deleted","URI","baseUri","WorkspaceFolder","Change","Invoked","TriggerCharacter","TriggerForIncompleteCompletions","ContentChange","Identifier","document","project","group","global","$import","$export","local","Markup","Code","executionOrder","success","uinteger","equals","one","other","equalsMetadata","oneArray","otherArray","oneKeys","otherKeys","prop","DocumentUri","metadata","diff","two","executionSummary","cells","integer","typedArray","registrationMethod","deleteCount","Relative","check","node_1","FullTextDocument","languageId","content","_uri","_languageId","_version","_content","_lineOffsets","getText","offsetAt","substring","update","changes","change","getWellformedRange","startOffset","endOffset","startLine","line","endLine","lineOffsets","addedLineOffsets","computeLineOffsets","concat","getLineOffsets","positionAt","low","high","character","mid","floor","position","lineOffset","nextLineOffset","TextDocument","mergeSort","compare","left","right","leftIdx","rightIdx","isAtLineStart","textOffset","ch","getWellformedEdit","textEdit","newText","applyEdits","edits","sortedEdits","b","lastModifiedOffset","spans","Position","Range","Location","LocationLink","Color","ColorInformation","ColorPresentation","FoldingRangeKind","FoldingRange","DiagnosticRelatedInformation","DiagnosticSeverity","DiagnosticTag","CodeDescription","Diagnostic","Command","TextEdit","ChangeAnnotation","ChangeAnnotationIdentifier","AnnotatedTextEdit","TextDocumentEdit","CreateFile","RenameFile","DeleteFile","WorkspaceEdit","MIN_VALUE","MAX_VALUE","three","four","targetUri","targetRange","targetSelectionRange","originSelectionRange","red","green","blue","numberRange","color","label","additionalTextEdits","Comment","Imports","Region","startCharacter","endCharacter","collapsedText","defined","location","Information","Hint","Unnecessary","Deprecated","href","severity","relatedInformation","codeDescription","title","command","_i","arguments","insert","del","needsConfirmation","description","annotation","annotationId","textDocument","OptionalVersionedTextDocumentIdentifier","overwrite","ignoreIfExists","oldUri","newUri","recursive","ignoreIfNotExists","documentChanges","TextDocumentIdentifier","VersionedTextDocumentIdentifier","TextDocumentItem","MarkupKind","MarkupContent","CompletionItemKind","InsertTextFormat","CompletionItemTag","InsertReplaceEdit","InsertTextMode","CompletionItemLabelDetails","CompletionItem","CompletionList","MarkedString","Hover","ParameterInformation","SignatureInformation","DocumentHighlightKind","DocumentHighlight","SymbolKind","SymbolTag","SymbolInformation","WorkspaceSymbol","DocumentSymbol","CodeActionKind","CodeActionTriggerKind","CodeActionContext","CodeAction","CodeLens","FormattingOptions","DocumentLink","SelectionRange","SemanticTokenTypes","SemanticTokenModifiers","SemanticTokens","InlineValueText","InlineValueVariableLookup","InlineValueEvaluatableExpression","InlineValueContext","InlayHintKind","InlayHintLabelPart","InlayHint","TextEditChangeImpl","changeAnnotations","edit","assertChangeAnnotations","manage","all","ChangeAnnotations","annotations","_annotations","_counter","idOrAnnotation","nextId","WorkspaceChange","workspaceEdit","_this","_textEditChanges","_workspaceEdit","_changeAnnotations","textEditChange","initDocumentChanges","getTextEditChange","textDocumentEdit","initChanges","createFile","optionsOrAnnotation","operation","renameFile","deleteFile","PlainText","Markdown","Method","Function","Constructor","Field","Variable","Class","Interface","Module","Property","Unit","Value","Enum","Keyword","Snippet","File","Reference","Folder","EnumMember","Constant","Struct","Operator","TypeParameter","asIs","adjustIndentation","detail","items","isIncomplete","fromPlainText","plainText","documentation","parameters","Read","Write","Namespace","Package","Key","Null","containerName","selectionRange","children","deprecated","tags","Empty","QuickFix","Refactor","RefactorExtract","RefactorInline","RefactorRewrite","Source","SourceOrganizeImports","SourceFixAll","Automatic","diagnostics","only","triggerKind","kindOrCommandOrEdit","checkKind","isPreferred","tabSize","insertSpaces","target","parent","resultId","variableName","caseSensitiveLookup","frameId","stoppedLocation","Type","Parameter","tooltip","textEdits","paddingLeft","paddingRight","EOL","lineCount","isLineStart","charAt","ProposedFeatures","NotebookDocuments","TextDocuments","SemanticTokensBuilder","semanticTokens_1","textDocuments_1","notebook_1","__brand","CallHierarchyFeature","vscode_languageserver_protocol_1","Base","onPrepare","attachWorkDoneProgress","onIncomingCalls","attachPartialResultProgress","onOutgoingCalls","ConfigurationFeature","getConfiguration","arg","_getConfiguration","section","DiagnosticFeature","refresh","onWorkspace","FileOperationsFeature","onDidCreateFiles","onDidRenameFiles","onDidDeleteFiles","onWillCreateFiles","onWillRenameFiles","onWillDeleteFiles","InlayHintFeature","InlineValueFeature","LinkedEditingRangeFeature","onLinkedEditingRange","MonikerFeature","NotebookSyncFeature","onDidOpenNotebookDocument","onDidChangeNotebookDocument","onDidSaveNotebookDocument","onDidCloseNotebookDocument","CellTextDocumentConnection","onDidOpenTextDocument","openHandler","openTextDocument","onDidChangeTextDocument","changeHandler","changeTextDocument","onDidCloseTextDocument","closeTextDocument","onWillSaveTextDocument","NULL_DISPOSE","onWillSaveTextDocumentWaitUntil","onDidSaveTextDocument","configurationOrTextDocuments","_cellTextDocuments","notebookDocuments","notebookCellMap","_onDidOpen","_onDidChange","_onDidSave","_onDidClose","getCellTextDocument","cell","getNotebookDocument","getNotebookCell","findNotebookDocumentForCell","cellTextDocumentConnection","cellTextDocuments","notebooks","synchronization","notebookDocument","cellTextDocument","updateCellMap","oldMetadata","metadataChanged","opened","closed","changedCells","structure","didOpen","didClose","cellUpdates","old","new","textContent","contentChanges","changeEvent","added","removed","changed","attachPartialResult","ProgressFeature","attachWorkDone","uuid_1","WorkDoneProgressReporterImpl","_connection","Instances","begin","percentage","cancellable","report","arg0","arg1","WorkDoneProgressServerReporterImpl","_source","NullProgressReporter","NullProgressServerReporter","ResultProgress","workDoneToken","_progressSupported","initialize","capabilities","window","progress","createWorkDoneProgress","generateUuid","ResultProgressReporterImpl","partialResultToken","SemanticTokensDiff","SemanticTokensFeature","onDelta","onRange","originalSequence","modifiedSequence","computeDiff","originalLength","modifiedLength","startIndex","originalEndIndex","modifiedEndIndex","newData","_prevData","_id","_prevLine","_prevChar","_data","_dataLen","tokenType","tokenModifiers","pushLine","pushChar","previousResult","build","canBuildEdits","buildEdits","combineFeatures","combineNotebooksFeatures","combineLanguagesFeatures","combineWorkspaceFeatures","combineWindowFeatures","combineClientFeatures","combineTracerFeatures","combineTelemetryFeatures","combineConsoleFeatures","_NotebooksImpl","_LanguagesImpl","BulkUnregistration","BulkRegistration","ErrorMessageTracker","UUID","progress_1","configuration_1","workspaceFolder_1","callHierarchy_1","showDocument_1","fileOperations_1","linkedEditingRange_1","typeHierarchy_1","inlineValue_1","inlayHint_1","diagnostic_1","moniker_1","null2Undefined","_messages","sendErrors","showErrorMessage","RemoteConsoleImpl","rawAttach","_rawConnection","attach","fillServerCapabilities","_capabilities","RemoteWindowImpl","ShowDocumentFeature","actions","showWarningMessage","showInformationMessage","BulkRegistrationImpl","_registrations","_registered","registerOptions","asRegistrationParams","registrations","BulkUnregistrationImpl","unregistrations","_unregistrations","unregistration","unregisterations","disposeSingle","_error","RemoteClientImpl","register","typeOrRegistrations","registerOptionsOrType","registerMany","registerSingle1","registerSingle2","isAttached","_result","unregisterSingle","registration","RemoteWorkspaceImpl","WorkspaceFoldersFeature","applyEdit","paramOrEdit","TracerImpl","_trace","TelemetryImpl","logEvent","LanguagesImpl","TypeHierarchyFeature","NotebooksImpl","combine","telemetry","client","workspace","languages","connectionFactory","watchDog","factories","remoteWindow","allRemotes","asPromise","thenable","resolved","shutdownHandler","initializeHandler","exitHandler","protocolConnection","onInitialize","onInitialized","onShutdown","onExit","onDidChangeConfiguration","onDidChangeWatchedFiles","__textDocumentSync","sendDiagnostics","onHover","onCompletion","onCompletionResolve","onSignatureHelp","onDeclaration","onDefinition","onTypeDefinition","onImplementation","onReferences","onDocumentHighlight","onDocumentSymbol","onWorkspaceSymbol","onWorkspaceSymbolResolve","onCodeAction","onCodeActionResolve","onCodeLens","onCodeLensResolve","onDocumentFormatting","onDocumentRangeFormatting","onDocumentOnTypeFormatting","onRenameRequest","onPrepareRename","onDocumentLinks","onDocumentLinkResolve","onDocumentColor","onColorPresentation","onFoldingRanges","onSelectionRanges","onExecuteCommand","remote","textDocumentSync","shutdownReceived","exit","showDocument","configuration","_configuration","_syncedDocuments","_onDidChangeContent","_onWillSave","onWillSaveWaitUntil","_willSaveWaitUntil","td","toFire","syncedDocument","reason","onSupertypes","onSubtypes","isUUID","v4","empty","ValueUUID","asHex","V4UUID","_randomHex","_oneOf","_timeHighBits","random","_chars","_UUIDPattern","_notificationIsAutoRegistered","workspaceCapabilities","workspaceFolders","_onDidChangeWorkspaceFolders","changeNotifications","getWorkspaceFolders","_unregistration","resolveModulePath","FileSystem","resolveGlobalYarnPath","resolveGlobalNodePath","uriToFilePath","url","fs","child_process_1","moduleName","nodePath","cwd","app","newEnv","existsSync","delimiter","cp","fork","execArgv","pid","c","npmCommand","shell","stdout","spawnSync","segments","decodeURIComponent","second","normalize","yarnCommand","results","stderr","lines","yarn","_isCaseSensitive","isCaseSensitive","__filename","toUpperCase","isParent","child","workspaceRoot","isAbsolute","Files","server_1","fm","exitTimer","_shutdownReceived","argName","runTimer","processId","kill","argv","setupExitTimer","arg2","arg3","arg4","stdin","transport","commandLineMessage","inputStream","_createConnection","isExcludedPath","getLsConfiguration","defaultMarkdownFileExtension","defaultConfig","markdownFileExtensions","knownLinkedToFileExtensions","excludePaths","overrides","some","excludePath","createLanguageService","githubSlugifier","LogLevel","RenameNotSupportedAtLocationError","DiagnosticLevel","DiagnosticCode","config_1","extractLinkDef_1","removeLinkDefinition_1","definitions_1","diagnostics_1","documentHighlights_1","documentLinks_1","documentSymbols_1","fileRename_1","folding_1","organizeLinkDefs_1","pathCompletions_1","references_1","rename_1","smartSelect_1","workspaceSymbols_1","tableOfContents_1","workspace_1","diagnostics_2","rename_2","logging_1","slugify_1","init","config","tocProvider","MdTableOfContentsProvider","parser","smartSelectProvider","MdSelectionRangeProvider","foldingProvider","MdFoldingProvider","linkProvider","MdLinkProvider","pathCompletionProvider","MdPathCompletionProvider","linkCache","createWorkspaceLinkCache","referencesProvider","MdReferencesProvider","definitionsProvider","MdDefinitionProvider","renameProvider","MdRenameProvider","slugifier","fileRenameProvider","MdFileRenameProvider","diagnosticsComputer","DiagnosticComputer","docSymbolProvider","MdDocumentSymbolProvider","workspaceSymbolProvider","MdWorkspaceSymbolProvider","organizeLinkDefinitions","MdOrganizeLinkDefinitionProvider","documentHighlightProvider","MdDocumentHighlightProvider","extractCodeActionProvider","MdExtractLinkDefinitionCodeActionProvider","removeLinkDefinitionActionProvider","MdRemoveLinkDefinitionCodeActionProvider","getDocumentLinks","provideDocumentLinks","resolveDocumentLink","resolveLinkTarget","getDocumentSymbols","provideDocumentSymbols","getFoldingRanges","provideFoldingRanges","getSelectionRanges","provideSelectionRanges","getWorkspaceSymbols","provideWorkspaceSymbols","getCompletionItems","provideCompletionItems","getReferences","provideReferences","getFileReferences","resource","getReferencesToFileInWorkspace","x","getDefinition","provideDefinition","getOrganizeLinkDefinitionEdits","prepareRename","getRenameEdit","provideRenameEdits","getRenameFilesInWorkspaceEdit","getCodeActions","doc","getActions","flat","getDocumentHighlights","computeDiagnostics","compute","createPullDiagnosticsManager","isWorkspaceWithFileWatching","DiagnosticsManager","l10n","lsp","position_1","range_1","textDocument_1","editBuilder_1","genericTitle","disabled","linkInfo","getLinks","linksInRange","links","filter","link","MdLinkKind","Definition","rangeIntersects","notOnLinkAction","comparePosition","targetLink","find","HrefKind","External","Internal","alreadyRefLinkAction","codeActionKindContains","builder","WorkspaceEditBuilder","getDocUri","placeholder","definitions","Link","definitionText","defBlock","getExistingDefinitionBlock","getLine","renamePosition","translatePosition","characterDelta","renameFragment","afterHrefRange","makeRange","lookup","fragment","unusedDiagnosticLines","diag","link_unusedDefinition","link_duplicateDefinition","definition","kindA","kindB","toc","getForDocument","entry","headerLocation","docLinks","getForDocs","rangeContains","ref","hrefRange","sourceLink","allLinksInFile","resolvedResource","statLinkToMarkdownFile","def","LinkDefinitionSet","vscode_languageserver_1","dispose_1","file_1","limiter_1","resourceMap_1","toSeverity","level","warning","hint","FileLinkMap","ResourceMap","existingFileEntry","linkData","outgoingLinks","statCache","exists","validateFragmentLinks","hrefText","parseLocationInfoFromFragment","link_noSuchHeaderInOwnFile","validateReferences","link_noSuchReferences","errorSeverity","validateUnusedLinkDefinitions","usedRefs","ReferenceLinkMap","validateDuplicateLinkDefinitions","definitionMultiMap","existing","defs","duplicateDef","pathErrorSeverity","validateFileLinks","fragmentErrorSeverity","validateMarkdownFileLinkFragments","linkSet","limiter","Limiter","resolvedHrefPath","fragmentLinks","pathText","fragmentRange","modifyRange","link_noSuchHeaderInFile","link_noSuchFile","hasMarkdownDocument","looksLikeMarkdownPath","ignoreLinks","FileLinkState","_register","onDidChangeLinkedToFile","watcher","updateLinksForDocument","linkedToResource","documents","deleteDocument","tryStatFileLink","watchFile","ignoreChange","deleteReg","onDidDelete","createReg","onDidCreate","changedResource","linkingFiles","onLinkedToFileChanged","linkWatcher","linkingResources","stateCachedWorkspace","Proxy","Reflect","stat","isDirectory","onDidDeleteMarkdownDocument","disposeDocumentResources","docUri","targetDoc","tryAppendMarkdownFileExtension","looksLikeLinkToResource","getFilePathRange","MdLinkComputer","resolveInternalDocumentLink","vscode_uri_1","arrays_1","string_1","uri_1","workspaceCache_1","sourceDocUri","linkText","tempUri","getContainingDocument","resourceUri","root","getWorkspaceFolder","Utils","joinPath","dirname","linkFragment","createHref","tryDecodeUri","createMdLink","targetText","preHrefText","rawLink","matchIndex","fullMatch","isAngleBracketLink","stripAngleBrackets","linkTarget","linkStart","linkEnd","hrefStart","hrefEnd","getLinkSourceFragmentInfo","getFragmentRange","angleBracketLinkRe","linkPattern","referenceLinkPattern","autoLinkPattern","definitionPattern","inlineCodePattern","NoLinkRanges","multiline","inline","tokenizer","tokenize","inlineRanges","matchAll","interval","inlineRange","concatInline","newInline","noLinkRanges","inlineLinks","linkTextIncludingBrackets","matchLinkData","innerMatch","innerData","linkOffset","startingOffset","linkStartOffset","reference","checkboxMatch","rawLinkText","refStart","refRange","MdDocumentInfoCache","Debug","getAllLinks","coalesce","sourceDoc","linkPath","containingContext","found","dotMdResource","locationLinkPosition","openMarkdownDocument","getForContainingDoc","mdLink","definitionSet","encodeURIComponent","pos","selection","with","column","linkComputer","MdWorkspaceInfoCache","targetResource","ext","linkSymbols","includeLinkDefinitions","additionalSymbols","isBefore","sectionLocation","symbol","path_1","participatingRenames","allEdits","didParticipate","allLinksInWorkspace","isParentDir","relative","oldDocUri","oldLink","newPathText","rootDir","encodeURI","refs","MdReferenceKind","newFilePath","extname","editExt","newLinkText","getLinkRenameText","regionMarkers","isRegionMarker","isStartRegion","nestingStack","marker","region","isEmptyOrWhitespace","isFoldableToken","listItem","orderedDefinitions","lastDef","textAfter","prevDef","existingDefBlockRange","sortedDefs","localeCompare","newDefs","removeUnused","hasLeadingWhiteSpace","startDef","endDef","nextDef","schemes_1","CompletionContextKind","tryDecodeUriComponent","_context","ReferenceLink","LinkDefinition","isAnchorInCurrentDoc","anchorInfo","beforeAnchor","linkPrefix","insertRange","linkTextStartPosition","rawUri","otherDoc","openLinkToMarkdownFile","anchorStartPosition","anchorPrefix","linePrefixText","lineSuffixText","linkPrefixMatch","linkSuffix","skipEncoding","definitionLinkPrefixMatch","referenceLinkPrefixMatch","anchorMatch","insertionRange","replacementRange","TableOfContents","createForContainingDoc","slug","valueBeforeLastSlash","parentDir","pathSegmentStart","pathSegmentEnd","dirInfo","readDirectory","isDir","workspaceFolder","Schemes","getReferencesAtPosition","includeDeclaration","isDefinition","references","Header","isTriggerLocation","headerText","headerTextLocation","fromHeading","triggerPosition","areRangesEqual","pathRange","allLinks","refToFind","allRefsInfo","triggerRef","declaration","newName","triggerDocument","triggerHref","rawNewFilePath","resolvedNewFilePath","arePositionsEqual","newPath","preferDotSlash","untitled","newLink","createHeaderRange","isClosestHeaderToPosition","onHeaderLine","startOfChildRange","contentRange","lineDelta","makeSelectionRange","createBlockRange","block","cursorLine","onFenceLine","fenceRange","createFencedRange","createBoldRange","lineText","cursorChar","matches","bold","cursorOnStars","contentAndStars","createOtherInlineRange","isItalic","italicRegexes","cursorOnType","contentAndType","getFirstChildHeader","childRange","t1","t2","positions","headerRange","blockRange","cursorPosition","boldSelection","italicSelection","comboSelection","linkSelection","linkRange","nearestType","indexOfType","contentAndNearestType","createLinkRange","createInlineRange","blockTokens","enclosingTokens","isBlockElement","token1","token2","getBlockTokensForPosition","currentRange","headerInfo","header1","header2","headerOnThisLine","getHeadersForPosition","symbolProvider","provideDocumentSymbolInformation","query","allSymbols","normalizedQueryStr","symbolInformation","docSymbols","Slug","heading","slugifiedHeading","existingSlugEntries","currentHeader","lineNumber","bodyText","existingSlugEntry","markup","headerTitleParts","isBeforeOrEqual","isAfter","isPosition","isRange","thing","startOrStartLine","endOrStartCharacter","$uri","DisposableStore","disposeAll","MultiDisposeError","errors","_disposables","resourceKey","lazy","LazyValue","getValue","maxDegreeOfParalellism","factory","iLimitedTask","maybeChild","authority","defaultResourceToKey","toKey","raw","decodeURI","linkUri","possibleWorkspaces","out_statCache","lazy_1","onDidChangeMarkdownDocument","finally","cts","onDidCreateMarkdownDocument","docs","markdownDocuments","getAllMarkdownDocuments","LIB","h","l","_makeLong","dir","d","navigator","userAgent","__proto__","isUri","C","revive","_formatted","external","_fsPath","_sep","$mid","y","fromCharCode","A","w","O","P","j","U","resolvePath","ConfigurationManager","settings","getSettings","defaultDiagnosticOptions","md","convertDiagnosticLevel","enabled","ls","diagnosticOptions","updateDiagnosticsSetting","markdown","validate","fileLinks","referenceLinks","markdownFragmentLinks","unusedLinkDefinitions","duplicateLinkDefinitions","ignoredLinks","getDiagnosticsOptions","subs","manager","emptyDiagnosticsResponse","onDidClose","LogFunctionLogger","getUTCHours","padStart","getMinutes","getUTCSeconds","getMilliseconds","consoleLogger","fs_readFile","fs_readDirectory","fs_stat","fs_watcher_create","fs_watcher_delete","findMarkdownFilesInWorkspace","getEditForFileRenames","fs_watcher_onChange","organizeLinkDefKind","startServer","serverConfig","mdLs","initOptions","initializationOptions","configurationManager","workspaceFactory","suggest","paths","registerDynamicClientFeature","triggerCharacters","registerCompletionsSupport","occurrencesHighlight","registerDocumentHighlightSupport","registerValidateSupport","diagnosticProvider","identifier","interFileDependencies","workspaceDiagnostics","codeActionProvider","resolveProvider","definitionProvider","documentLinkProvider","documentSymbolProvider","foldingRangeProvider","prepareProvider","selectionRangeProvider","supported","codeAction","rename","isEnabled","VsCodeClientWorkspace","AggregateError","notebookCell","VsCodeDocument","inMemoryDoc","onDiskDoc","hasInMemoryDoc","isDetached","setInMemoryDoc","setOnDiskDoc","onDidOpen","q","onDidChangeContent","onDidChange","onDidChangeWorkspaceFolders","openTextDocumentResults","allDocs","resources","strResource","matchingDocument","bytes","Uint8Array","nb","watchParentDirs","isMarkdownFile","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","obj","startVsCodeServer"],"mappings":"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","file":"main.js","sourcesContent":["async function g(r){if(r.protocol===\"http\"||r.protocol===\"https\")return await(await fetch(r)).text();throw new Error(\"Unsupported protocol\")}function m(r){throw new Error(\"Unsupported in browser\")}var o;function f(r){if(\"contents\"in r){typeof r.contents==\"string\"?o=JSON.parse(r.contents):o=r.contents;return}if(\"fsPath\"in r){let n=m(r.fsPath);o=JSON.parse(n);return}if(r.uri){let n=r.uri;return typeof r.uri==\"string\"&&(n=new URL(r.uri)),g(n).then(t=>{o=JSON.parse(t)})}}function p(...r){let n=r[0],t,e,s;if(typeof n==\"string\"?(t=n,e=n,r.splice(0,1),s=!r||typeof r[0]!=\"object\"?r:r[0]):(e=n.message,t=e,n.comment&&n.comment.length>0&&(t+=`/${Array.isArray(n.comment)?n.comment.join():n.comment}`),s=n.args??{}),!o)return a(e,s);let i=o[t];return i?typeof i==\"string\"?a(i,s):i.comment?a(i.message,s):a(e,s):a(e,s)}var u=/{([^}]+)}/g;function a(r,n){return r.replace(u,(t,e)=>n[e]??t)}export{f as config,p as t};\n","'use strict';\n\nmodule.exports = require('./lib/picomatch');\n","'use strict';\n\nconst path = require('path');\nconst WIN_SLASH = '\\\\\\\\/';\nconst WIN_NO_SLASH = `[^${WIN_SLASH}]`;\n\n/**\n * Posix glob regex\n */\n\nconst DOT_LITERAL = '\\\\.';\nconst PLUS_LITERAL = '\\\\+';\nconst QMARK_LITERAL = '\\\\?';\nconst SLASH_LITERAL = '\\\\/';\nconst ONE_CHAR = '(?=.)';\nconst QMARK = '[^/]';\nconst END_ANCHOR = `(?:${SLASH_LITERAL}|$)`;\nconst START_ANCHOR = `(?:^|${SLASH_LITERAL})`;\nconst DOTS_SLASH = `${DOT_LITERAL}{1,2}${END_ANCHOR}`;\nconst NO_DOT = `(?!${DOT_LITERAL})`;\nconst NO_DOTS = `(?!${START_ANCHOR}${DOTS_SLASH})`;\nconst NO_DOT_SLASH = `(?!${DOT_LITERAL}{0,1}${END_ANCHOR})`;\nconst NO_DOTS_SLASH = `(?!${DOTS_SLASH})`;\nconst QMARK_NO_DOT = `[^.${SLASH_LITERAL}]`;\nconst STAR = `${QMARK}*?`;\n\nconst POSIX_CHARS = {\n  DOT_LITERAL,\n  PLUS_LITERAL,\n  QMARK_LITERAL,\n  SLASH_LITERAL,\n  ONE_CHAR,\n  QMARK,\n  END_ANCHOR,\n  DOTS_SLASH,\n  NO_DOT,\n  NO_DOTS,\n  NO_DOT_SLASH,\n  NO_DOTS_SLASH,\n  QMARK_NO_DOT,\n  STAR,\n  START_ANCHOR\n};\n\n/**\n * Windows glob regex\n */\n\nconst WINDOWS_CHARS = {\n  ...POSIX_CHARS,\n\n  SLASH_LITERAL: `[${WIN_SLASH}]`,\n  QMARK: WIN_NO_SLASH,\n  STAR: `${WIN_NO_SLASH}*?`,\n  DOTS_SLASH: `${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$)`,\n  NO_DOT: `(?!${DOT_LITERAL})`,\n  NO_DOTS: `(?!(?:^|[${WIN_SLASH}])${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$))`,\n  NO_DOT_SLASH: `(?!${DOT_LITERAL}{0,1}(?:[${WIN_SLASH}]|$))`,\n  NO_DOTS_SLASH: `(?!${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$))`,\n  QMARK_NO_DOT: `[^.${WIN_SLASH}]`,\n  START_ANCHOR: `(?:^|[${WIN_SLASH}])`,\n  END_ANCHOR: `(?:[${WIN_SLASH}]|$)`\n};\n\n/**\n * POSIX Bracket Regex\n */\n\nconst POSIX_REGEX_SOURCE = {\n  alnum: 'a-zA-Z0-9',\n  alpha: 'a-zA-Z',\n  ascii: '\\\\x00-\\\\x7F',\n  blank: ' \\\\t',\n  cntrl: '\\\\x00-\\\\x1F\\\\x7F',\n  digit: '0-9',\n  graph: '\\\\x21-\\\\x7E',\n  lower: 'a-z',\n  print: '\\\\x20-\\\\x7E ',\n  punct: '\\\\-!\"#$%&\\'()\\\\*+,./:;<=>?@[\\\\]^_`{|}~',\n  space: ' \\\\t\\\\r\\\\n\\\\v\\\\f',\n  upper: 'A-Z',\n  word: 'A-Za-z0-9_',\n  xdigit: 'A-Fa-f0-9'\n};\n\nmodule.exports = {\n  MAX_LENGTH: 1024 * 64,\n  POSIX_REGEX_SOURCE,\n\n  // regular expressions\n  REGEX_BACKSLASH: /\\\\(?![*+?^${}(|)[\\]])/g,\n  REGEX_NON_SPECIAL_CHARS: /^[^@![\\].,$*+?^{}()|\\\\/]+/,\n  REGEX_SPECIAL_CHARS: /[-*+?.^${}(|)[\\]]/,\n  REGEX_SPECIAL_CHARS_BACKREF: /(\\\\?)((\\W)(\\3*))/g,\n  REGEX_SPECIAL_CHARS_GLOBAL: /([-*+?.^${}(|)[\\]])/g,\n  REGEX_REMOVE_BACKSLASH: /(?:\\[.*?[^\\\\]\\]|\\\\(?=.))/g,\n\n  // Replace globs with equivalent patterns to reduce parsing time.\n  REPLACEMENTS: {\n    '***': '*',\n    '**/**': '**',\n    '**/**/**': '**'\n  },\n\n  // Digits\n  CHAR_0: 48, /* 0 */\n  CHAR_9: 57, /* 9 */\n\n  // Alphabet chars.\n  CHAR_UPPERCASE_A: 65, /* A */\n  CHAR_LOWERCASE_A: 97, /* a */\n  CHAR_UPPERCASE_Z: 90, /* Z */\n  CHAR_LOWERCASE_Z: 122, /* z */\n\n  CHAR_LEFT_PARENTHESES: 40, /* ( */\n  CHAR_RIGHT_PARENTHESES: 41, /* ) */\n\n  CHAR_ASTERISK: 42, /* * */\n\n  // Non-alphabetic chars.\n  CHAR_AMPERSAND: 38, /* & */\n  CHAR_AT: 64, /* @ */\n  CHAR_BACKWARD_SLASH: 92, /* \\ */\n  CHAR_CARRIAGE_RETURN: 13, /* \\r */\n  CHAR_CIRCUMFLEX_ACCENT: 94, /* ^ */\n  CHAR_COLON: 58, /* : */\n  CHAR_COMMA: 44, /* , */\n  CHAR_DOT: 46, /* . */\n  CHAR_DOUBLE_QUOTE: 34, /* \" */\n  CHAR_EQUAL: 61, /* = */\n  CHAR_EXCLAMATION_MARK: 33, /* ! */\n  CHAR_FORM_FEED: 12, /* \\f */\n  CHAR_FORWARD_SLASH: 47, /* / */\n  CHAR_GRAVE_ACCENT: 96, /* ` */\n  CHAR_HASH: 35, /* # */\n  CHAR_HYPHEN_MINUS: 45, /* - */\n  CHAR_LEFT_ANGLE_BRACKET: 60, /* < */\n  CHAR_LEFT_CURLY_BRACE: 123, /* { */\n  CHAR_LEFT_SQUARE_BRACKET: 91, /* [ */\n  CHAR_LINE_FEED: 10, /* \\n */\n  CHAR_NO_BREAK_SPACE: 160, /* \\u00A0 */\n  CHAR_PERCENT: 37, /* % */\n  CHAR_PLUS: 43, /* + */\n  CHAR_QUESTION_MARK: 63, /* ? */\n  CHAR_RIGHT_ANGLE_BRACKET: 62, /* > */\n  CHAR_RIGHT_CURLY_BRACE: 125, /* } */\n  CHAR_RIGHT_SQUARE_BRACKET: 93, /* ] */\n  CHAR_SEMICOLON: 59, /* ; */\n  CHAR_SINGLE_QUOTE: 39, /* ' */\n  CHAR_SPACE: 32, /*   */\n  CHAR_TAB: 9, /* \\t */\n  CHAR_UNDERSCORE: 95, /* _ */\n  CHAR_VERTICAL_LINE: 124, /* | */\n  CHAR_ZERO_WIDTH_NOBREAK_SPACE: 65279, /* \\uFEFF */\n\n  SEP: path.sep,\n\n  /**\n   * Create EXTGLOB_CHARS\n   */\n\n  extglobChars(chars) {\n    return {\n      '!': { type: 'negate', open: '(?:(?!(?:', close: `))${chars.STAR})` },\n      '?': { type: 'qmark', open: '(?:', close: ')?' },\n      '+': { type: 'plus', open: '(?:', close: ')+' },\n      '*': { type: 'star', open: '(?:', close: ')*' },\n      '@': { type: 'at', open: '(?:', close: ')' }\n    };\n  },\n\n  /**\n   * Create GLOB_CHARS\n   */\n\n  globChars(win32) {\n    return win32 === true ? WINDOWS_CHARS : POSIX_CHARS;\n  }\n};\n","'use strict';\n\nconst constants = require('./constants');\nconst utils = require('./utils');\n\n/**\n * Constants\n */\n\nconst {\n  MAX_LENGTH,\n  POSIX_REGEX_SOURCE,\n  REGEX_NON_SPECIAL_CHARS,\n  REGEX_SPECIAL_CHARS_BACKREF,\n  REPLACEMENTS\n} = constants;\n\n/**\n * Helpers\n */\n\nconst expandRange = (args, options) => {\n  if (typeof options.expandRange === 'function') {\n    return options.expandRange(...args, options);\n  }\n\n  args.sort();\n  const value = `[${args.join('-')}]`;\n\n  try {\n    /* eslint-disable-next-line no-new */\n    new RegExp(value);\n  } catch (ex) {\n    return args.map(v => utils.escapeRegex(v)).join('..');\n  }\n\n  return value;\n};\n\n/**\n * Create the message for a syntax error\n */\n\nconst syntaxError = (type, char) => {\n  return `Missing ${type}: \"${char}\" - use \"\\\\\\\\${char}\" to match literal characters`;\n};\n\n/**\n * Parse the given input string.\n * @param {String} input\n * @param {Object} options\n * @return {Object}\n */\n\nconst parse = (input, options) => {\n  if (typeof input !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n\n  input = REPLACEMENTS[input] || input;\n\n  const opts = { ...options };\n  const max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH, opts.maxLength) : MAX_LENGTH;\n\n  let len = input.length;\n  if (len > max) {\n    throw new SyntaxError(`Input length: ${len}, exceeds maximum allowed length: ${max}`);\n  }\n\n  const bos = { type: 'bos', value: '', output: opts.prepend || '' };\n  const tokens = [bos];\n\n  const capture = opts.capture ? '' : '?:';\n  const win32 = utils.isWindows(options);\n\n  // create constants based on platform, for windows or posix\n  const PLATFORM_CHARS = constants.globChars(win32);\n  const EXTGLOB_CHARS = constants.extglobChars(PLATFORM_CHARS);\n\n  const {\n    DOT_LITERAL,\n    PLUS_LITERAL,\n    SLASH_LITERAL,\n    ONE_CHAR,\n    DOTS_SLASH,\n    NO_DOT,\n    NO_DOT_SLASH,\n    NO_DOTS_SLASH,\n    QMARK,\n    QMARK_NO_DOT,\n    STAR,\n    START_ANCHOR\n  } = PLATFORM_CHARS;\n\n  const globstar = opts => {\n    return `(${capture}(?:(?!${START_ANCHOR}${opts.dot ? DOTS_SLASH : DOT_LITERAL}).)*?)`;\n  };\n\n  const nodot = opts.dot ? '' : NO_DOT;\n  const qmarkNoDot = opts.dot ? QMARK : QMARK_NO_DOT;\n  let star = opts.bash === true ? globstar(opts) : STAR;\n\n  if (opts.capture) {\n    star = `(${star})`;\n  }\n\n  // minimatch options support\n  if (typeof opts.noext === 'boolean') {\n    opts.noextglob = opts.noext;\n  }\n\n  const state = {\n    input,\n    index: -1,\n    start: 0,\n    dot: opts.dot === true,\n    consumed: '',\n    output: '',\n    prefix: '',\n    backtrack: false,\n    negated: false,\n    brackets: 0,\n    braces: 0,\n    parens: 0,\n    quotes: 0,\n    globstar: false,\n    tokens\n  };\n\n  input = utils.removePrefix(input, state);\n  len = input.length;\n\n  const extglobs = [];\n  const braces = [];\n  const stack = [];\n  let prev = bos;\n  let value;\n\n  /**\n   * Tokenizing helpers\n   */\n\n  const eos = () => state.index === len - 1;\n  const peek = state.peek = (n = 1) => input[state.index + n];\n  const advance = state.advance = () => input[++state.index] || '';\n  const remaining = () => input.slice(state.index + 1);\n  const consume = (value = '', num = 0) => {\n    state.consumed += value;\n    state.index += num;\n  };\n\n  const append = token => {\n    state.output += token.output != null ? token.output : token.value;\n    consume(token.value);\n  };\n\n  const negate = () => {\n    let count = 1;\n\n    while (peek() === '!' && (peek(2) !== '(' || peek(3) === '?')) {\n      advance();\n      state.start++;\n      count++;\n    }\n\n    if (count % 2 === 0) {\n      return false;\n    }\n\n    state.negated = true;\n    state.start++;\n    return true;\n  };\n\n  const increment = type => {\n    state[type]++;\n    stack.push(type);\n  };\n\n  const decrement = type => {\n    state[type]--;\n    stack.pop();\n  };\n\n  /**\n   * Push tokens onto the tokens array. This helper speeds up\n   * tokenizing by 1) helping us avoid backtracking as much as possible,\n   * and 2) helping us avoid creating extra tokens when consecutive\n   * characters are plain text. This improves performance and simplifies\n   * lookbehinds.\n   */\n\n  const push = tok => {\n    if (prev.type === 'globstar') {\n      const isBrace = state.braces > 0 && (tok.type === 'comma' || tok.type === 'brace');\n      const isExtglob = tok.extglob === true || (extglobs.length && (tok.type === 'pipe' || tok.type === 'paren'));\n\n      if (tok.type !== 'slash' && tok.type !== 'paren' && !isBrace && !isExtglob) {\n        state.output = state.output.slice(0, -prev.output.length);\n        prev.type = 'star';\n        prev.value = '*';\n        prev.output = star;\n        state.output += prev.output;\n      }\n    }\n\n    if (extglobs.length && tok.type !== 'paren') {\n      extglobs[extglobs.length - 1].inner += tok.value;\n    }\n\n    if (tok.value || tok.output) append(tok);\n    if (prev && prev.type === 'text' && tok.type === 'text') {\n      prev.value += tok.value;\n      prev.output = (prev.output || '') + tok.value;\n      return;\n    }\n\n    tok.prev = prev;\n    tokens.push(tok);\n    prev = tok;\n  };\n\n  const extglobOpen = (type, value) => {\n    const token = { ...EXTGLOB_CHARS[value], conditions: 1, inner: '' };\n\n    token.prev = prev;\n    token.parens = state.parens;\n    token.output = state.output;\n    const output = (opts.capture ? '(' : '') + token.open;\n\n    increment('parens');\n    push({ type, value, output: state.output ? '' : ONE_CHAR });\n    push({ type: 'paren', extglob: true, value: advance(), output });\n    extglobs.push(token);\n  };\n\n  const extglobClose = token => {\n    let output = token.close + (opts.capture ? ')' : '');\n    let rest;\n\n    if (token.type === 'negate') {\n      let extglobStar = star;\n\n      if (token.inner && token.inner.length > 1 && token.inner.includes('/')) {\n        extglobStar = globstar(opts);\n      }\n\n      if (extglobStar !== star || eos() || /^\\)+$/.test(remaining())) {\n        output = token.close = `)$))${extglobStar}`;\n      }\n\n      if (token.inner.includes('*') && (rest = remaining()) && /^\\.[^\\\\/.]+$/.test(rest)) {\n        // Any non-magical string (`.ts`) or even nested expression (`.{ts,tsx}`) can follow after the closing parenthesis.\n        // In this case, we need to parse the string and use it in the output of the original pattern.\n        // Suitable patterns: `/!(*.d).ts`, `/!(*.d).{ts,tsx}`, `**/!(*-dbg).@(js)`.\n        //\n        // Disabling the `fastpaths` option due to a problem with parsing strings as `.ts` in the pattern like `**/!(*.d).ts`.\n        const expression = parse(rest, { ...options, fastpaths: false }).output;\n\n        output = token.close = `)${expression})${extglobStar})`;\n      }\n\n      if (token.prev.type === 'bos') {\n        state.negatedExtglob = true;\n      }\n    }\n\n    push({ type: 'paren', extglob: true, value, output });\n    decrement('parens');\n  };\n\n  /**\n   * Fast paths\n   */\n\n  if (opts.fastpaths !== false && !/(^[*!]|[/()[\\]{}\"])/.test(input)) {\n    let backslashes = false;\n\n    let output = input.replace(REGEX_SPECIAL_CHARS_BACKREF, (m, esc, chars, first, rest, index) => {\n      if (first === '\\\\') {\n        backslashes = true;\n        return m;\n      }\n\n      if (first === '?') {\n        if (esc) {\n          return esc + first + (rest ? QMARK.repeat(rest.length) : '');\n        }\n        if (index === 0) {\n          return qmarkNoDot + (rest ? QMARK.repeat(rest.length) : '');\n        }\n        return QMARK.repeat(chars.length);\n      }\n\n      if (first === '.') {\n        return DOT_LITERAL.repeat(chars.length);\n      }\n\n      if (first === '*') {\n        if (esc) {\n          return esc + first + (rest ? star : '');\n        }\n        return star;\n      }\n      return esc ? m : `\\\\${m}`;\n    });\n\n    if (backslashes === true) {\n      if (opts.unescape === true) {\n        output = output.replace(/\\\\/g, '');\n      } else {\n        output = output.replace(/\\\\+/g, m => {\n          return m.length % 2 === 0 ? '\\\\\\\\' : (m ? '\\\\' : '');\n        });\n      }\n    }\n\n    if (output === input && opts.contains === true) {\n      state.output = input;\n      return state;\n    }\n\n    state.output = utils.wrapOutput(output, state, options);\n    return state;\n  }\n\n  /**\n   * Tokenize input until we reach end-of-string\n   */\n\n  while (!eos()) {\n    value = advance();\n\n    if (value === '\\u0000') {\n      continue;\n    }\n\n    /**\n     * Escaped characters\n     */\n\n    if (value === '\\\\') {\n      const next = peek();\n\n      if (next === '/' && opts.bash !== true) {\n        continue;\n      }\n\n      if (next === '.' || next === ';') {\n        continue;\n      }\n\n      if (!next) {\n        value += '\\\\';\n        push({ type: 'text', value });\n        continue;\n      }\n\n      // collapse slashes to reduce potential for exploits\n      const match = /^\\\\+/.exec(remaining());\n      let slashes = 0;\n\n      if (match && match[0].length > 2) {\n        slashes = match[0].length;\n        state.index += slashes;\n        if (slashes % 2 !== 0) {\n          value += '\\\\';\n        }\n      }\n\n      if (opts.unescape === true) {\n        value = advance();\n      } else {\n        value += advance();\n      }\n\n      if (state.brackets === 0) {\n        push({ type: 'text', value });\n        continue;\n      }\n    }\n\n    /**\n     * If we're inside a regex character class, continue\n     * until we reach the closing bracket.\n     */\n\n    if (state.brackets > 0 && (value !== ']' || prev.value === '[' || prev.value === '[^')) {\n      if (opts.posix !== false && value === ':') {\n        const inner = prev.value.slice(1);\n        if (inner.includes('[')) {\n          prev.posix = true;\n\n          if (inner.includes(':')) {\n            const idx = prev.value.lastIndexOf('[');\n            const pre = prev.value.slice(0, idx);\n            const rest = prev.value.slice(idx + 2);\n            const posix = POSIX_REGEX_SOURCE[rest];\n            if (posix) {\n              prev.value = pre + posix;\n              state.backtrack = true;\n              advance();\n\n              if (!bos.output && tokens.indexOf(prev) === 1) {\n                bos.output = ONE_CHAR;\n              }\n              continue;\n            }\n          }\n        }\n      }\n\n      if ((value === '[' && peek() !== ':') || (value === '-' && peek() === ']')) {\n        value = `\\\\${value}`;\n      }\n\n      if (value === ']' && (prev.value === '[' || prev.value === '[^')) {\n        value = `\\\\${value}`;\n      }\n\n      if (opts.posix === true && value === '!' && prev.value === '[') {\n        value = '^';\n      }\n\n      prev.value += value;\n      append({ value });\n      continue;\n    }\n\n    /**\n     * If we're inside a quoted string, continue\n     * until we reach the closing double quote.\n     */\n\n    if (state.quotes === 1 && value !== '\"') {\n      value = utils.escapeRegex(value);\n      prev.value += value;\n      append({ value });\n      continue;\n    }\n\n    /**\n     * Double quotes\n     */\n\n    if (value === '\"') {\n      state.quotes = state.quotes === 1 ? 0 : 1;\n      if (opts.keepQuotes === true) {\n        push({ type: 'text', value });\n      }\n      continue;\n    }\n\n    /**\n     * Parentheses\n     */\n\n    if (value === '(') {\n      increment('parens');\n      push({ type: 'paren', value });\n      continue;\n    }\n\n    if (value === ')') {\n      if (state.parens === 0 && opts.strictBrackets === true) {\n        throw new SyntaxError(syntaxError('opening', '('));\n      }\n\n      const extglob = extglobs[extglobs.length - 1];\n      if (extglob && state.parens === extglob.parens + 1) {\n        extglobClose(extglobs.pop());\n        continue;\n      }\n\n      push({ type: 'paren', value, output: state.parens ? ')' : '\\\\)' });\n      decrement('parens');\n      continue;\n    }\n\n    /**\n     * Square brackets\n     */\n\n    if (value === '[') {\n      if (opts.nobracket === true || !remaining().includes(']')) {\n        if (opts.nobracket !== true && opts.strictBrackets === true) {\n          throw new SyntaxError(syntaxError('closing', ']'));\n        }\n\n        value = `\\\\${value}`;\n      } else {\n        increment('brackets');\n      }\n\n      push({ type: 'bracket', value });\n      continue;\n    }\n\n    if (value === ']') {\n      if (opts.nobracket === true || (prev && prev.type === 'bracket' && prev.value.length === 1)) {\n        push({ type: 'text', value, output: `\\\\${value}` });\n        continue;\n      }\n\n      if (state.brackets === 0) {\n        if (opts.strictBrackets === true) {\n          throw new SyntaxError(syntaxError('opening', '['));\n        }\n\n        push({ type: 'text', value, output: `\\\\${value}` });\n        continue;\n      }\n\n      decrement('brackets');\n\n      const prevValue = prev.value.slice(1);\n      if (prev.posix !== true && prevValue[0] === '^' && !prevValue.includes('/')) {\n        value = `/${value}`;\n      }\n\n      prev.value += value;\n      append({ value });\n\n      // when literal brackets are explicitly disabled\n      // assume we should match with a regex character class\n      if (opts.literalBrackets === false || utils.hasRegexChars(prevValue)) {\n        continue;\n      }\n\n      const escaped = utils.escapeRegex(prev.value);\n      state.output = state.output.slice(0, -prev.value.length);\n\n      // when literal brackets are explicitly enabled\n      // assume we should escape the brackets to match literal characters\n      if (opts.literalBrackets === true) {\n        state.output += escaped;\n        prev.value = escaped;\n        continue;\n      }\n\n      // when the user specifies nothing, try to match both\n      prev.value = `(${capture}${escaped}|${prev.value})`;\n      state.output += prev.value;\n      continue;\n    }\n\n    /**\n     * Braces\n     */\n\n    if (value === '{' && opts.nobrace !== true) {\n      increment('braces');\n\n      const open = {\n        type: 'brace',\n        value,\n        output: '(',\n        outputIndex: state.output.length,\n        tokensIndex: state.tokens.length\n      };\n\n      braces.push(open);\n      push(open);\n      continue;\n    }\n\n    if (value === '}') {\n      const brace = braces[braces.length - 1];\n\n      if (opts.nobrace === true || !brace) {\n        push({ type: 'text', value, output: value });\n        continue;\n      }\n\n      let output = ')';\n\n      if (brace.dots === true) {\n        const arr = tokens.slice();\n        const range = [];\n\n        for (let i = arr.length - 1; i >= 0; i--) {\n          tokens.pop();\n          if (arr[i].type === 'brace') {\n            break;\n          }\n          if (arr[i].type !== 'dots') {\n            range.unshift(arr[i].value);\n          }\n        }\n\n        output = expandRange(range, opts);\n        state.backtrack = true;\n      }\n\n      if (brace.comma !== true && brace.dots !== true) {\n        const out = state.output.slice(0, brace.outputIndex);\n        const toks = state.tokens.slice(brace.tokensIndex);\n        brace.value = brace.output = '\\\\{';\n        value = output = '\\\\}';\n        state.output = out;\n        for (const t of toks) {\n          state.output += (t.output || t.value);\n        }\n      }\n\n      push({ type: 'brace', value, output });\n      decrement('braces');\n      braces.pop();\n      continue;\n    }\n\n    /**\n     * Pipes\n     */\n\n    if (value === '|') {\n      if (extglobs.length > 0) {\n        extglobs[extglobs.length - 1].conditions++;\n      }\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Commas\n     */\n\n    if (value === ',') {\n      let output = value;\n\n      const brace = braces[braces.length - 1];\n      if (brace && stack[stack.length - 1] === 'braces') {\n        brace.comma = true;\n        output = '|';\n      }\n\n      push({ type: 'comma', value, output });\n      continue;\n    }\n\n    /**\n     * Slashes\n     */\n\n    if (value === '/') {\n      // if the beginning of the glob is \"./\", advance the start\n      // to the current index, and don't add the \"./\" characters\n      // to the state. This greatly simplifies lookbehinds when\n      // checking for BOS characters like \"!\" and \".\" (not \"./\")\n      if (prev.type === 'dot' && state.index === state.start + 1) {\n        state.start = state.index + 1;\n        state.consumed = '';\n        state.output = '';\n        tokens.pop();\n        prev = bos; // reset \"prev\" to the first token\n        continue;\n      }\n\n      push({ type: 'slash', value, output: SLASH_LITERAL });\n      continue;\n    }\n\n    /**\n     * Dots\n     */\n\n    if (value === '.') {\n      if (state.braces > 0 && prev.type === 'dot') {\n        if (prev.value === '.') prev.output = DOT_LITERAL;\n        const brace = braces[braces.length - 1];\n        prev.type = 'dots';\n        prev.output += value;\n        prev.value += value;\n        brace.dots = true;\n        continue;\n      }\n\n      if ((state.braces + state.parens) === 0 && prev.type !== 'bos' && prev.type !== 'slash') {\n        push({ type: 'text', value, output: DOT_LITERAL });\n        continue;\n      }\n\n      push({ type: 'dot', value, output: DOT_LITERAL });\n      continue;\n    }\n\n    /**\n     * Question marks\n     */\n\n    if (value === '?') {\n      const isGroup = prev && prev.value === '(';\n      if (!isGroup && opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        extglobOpen('qmark', value);\n        continue;\n      }\n\n      if (prev && prev.type === 'paren') {\n        const next = peek();\n        let output = value;\n\n        if (next === '<' && !utils.supportsLookbehinds()) {\n          throw new Error('Node.js v10 or higher is required for regex lookbehinds');\n        }\n\n        if ((prev.value === '(' && !/[!=<:]/.test(next)) || (next === '<' && !/<([!=]|\\w+>)/.test(remaining()))) {\n          output = `\\\\${value}`;\n        }\n\n        push({ type: 'text', value, output });\n        continue;\n      }\n\n      if (opts.dot !== true && (prev.type === 'slash' || prev.type === 'bos')) {\n        push({ type: 'qmark', value, output: QMARK_NO_DOT });\n        continue;\n      }\n\n      push({ type: 'qmark', value, output: QMARK });\n      continue;\n    }\n\n    /**\n     * Exclamation\n     */\n\n    if (value === '!') {\n      if (opts.noextglob !== true && peek() === '(') {\n        if (peek(2) !== '?' || !/[!=<:]/.test(peek(3))) {\n          extglobOpen('negate', value);\n          continue;\n        }\n      }\n\n      if (opts.nonegate !== true && state.index === 0) {\n        negate();\n        continue;\n      }\n    }\n\n    /**\n     * Plus\n     */\n\n    if (value === '+') {\n      if (opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        extglobOpen('plus', value);\n        continue;\n      }\n\n      if ((prev && prev.value === '(') || opts.regex === false) {\n        push({ type: 'plus', value, output: PLUS_LITERAL });\n        continue;\n      }\n\n      if ((prev && (prev.type === 'bracket' || prev.type === 'paren' || prev.type === 'brace')) || state.parens > 0) {\n        push({ type: 'plus', value });\n        continue;\n      }\n\n      push({ type: 'plus', value: PLUS_LITERAL });\n      continue;\n    }\n\n    /**\n     * Plain text\n     */\n\n    if (value === '@') {\n      if (opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        push({ type: 'at', extglob: true, value, output: '' });\n        continue;\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Plain text\n     */\n\n    if (value !== '*') {\n      if (value === '$' || value === '^') {\n        value = `\\\\${value}`;\n      }\n\n      const match = REGEX_NON_SPECIAL_CHARS.exec(remaining());\n      if (match) {\n        value += match[0];\n        state.index += match[0].length;\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Stars\n     */\n\n    if (prev && (prev.type === 'globstar' || prev.star === true)) {\n      prev.type = 'star';\n      prev.star = true;\n      prev.value += value;\n      prev.output = star;\n      state.backtrack = true;\n      state.globstar = true;\n      consume(value);\n      continue;\n    }\n\n    let rest = remaining();\n    if (opts.noextglob !== true && /^\\([^?]/.test(rest)) {\n      extglobOpen('star', value);\n      continue;\n    }\n\n    if (prev.type === 'star') {\n      if (opts.noglobstar === true) {\n        consume(value);\n        continue;\n      }\n\n      const prior = prev.prev;\n      const before = prior.prev;\n      const isStart = prior.type === 'slash' || prior.type === 'bos';\n      const afterStar = before && (before.type === 'star' || before.type === 'globstar');\n\n      if (opts.bash === true && (!isStart || (rest[0] && rest[0] !== '/'))) {\n        push({ type: 'star', value, output: '' });\n        continue;\n      }\n\n      const isBrace = state.braces > 0 && (prior.type === 'comma' || prior.type === 'brace');\n      const isExtglob = extglobs.length && (prior.type === 'pipe' || prior.type === 'paren');\n      if (!isStart && prior.type !== 'paren' && !isBrace && !isExtglob) {\n        push({ type: 'star', value, output: '' });\n        continue;\n      }\n\n      // strip consecutive `/**/`\n      while (rest.slice(0, 3) === '/**') {\n        const after = input[state.index + 4];\n        if (after && after !== '/') {\n          break;\n        }\n        rest = rest.slice(3);\n        consume('/**', 3);\n      }\n\n      if (prior.type === 'bos' && eos()) {\n        prev.type = 'globstar';\n        prev.value += value;\n        prev.output = globstar(opts);\n        state.output = prev.output;\n        state.globstar = true;\n        consume(value);\n        continue;\n      }\n\n      if (prior.type === 'slash' && prior.prev.type !== 'bos' && !afterStar && eos()) {\n        state.output = state.output.slice(0, -(prior.output + prev.output).length);\n        prior.output = `(?:${prior.output}`;\n\n        prev.type = 'globstar';\n        prev.output = globstar(opts) + (opts.strictSlashes ? ')' : '|$)');\n        prev.value += value;\n        state.globstar = true;\n        state.output += prior.output + prev.output;\n        consume(value);\n        continue;\n      }\n\n      if (prior.type === 'slash' && prior.prev.type !== 'bos' && rest[0] === '/') {\n        const end = rest[1] !== void 0 ? '|$' : '';\n\n        state.output = state.output.slice(0, -(prior.output + prev.output).length);\n        prior.output = `(?:${prior.output}`;\n\n        prev.type = 'globstar';\n        prev.output = `${globstar(opts)}${SLASH_LITERAL}|${SLASH_LITERAL}${end})`;\n        prev.value += value;\n\n        state.output += prior.output + prev.output;\n        state.globstar = true;\n\n        consume(value + advance());\n\n        push({ type: 'slash', value: '/', output: '' });\n        continue;\n      }\n\n      if (prior.type === 'bos' && rest[0] === '/') {\n        prev.type = 'globstar';\n        prev.value += value;\n        prev.output = `(?:^|${SLASH_LITERAL}|${globstar(opts)}${SLASH_LITERAL})`;\n        state.output = prev.output;\n        state.globstar = true;\n        consume(value + advance());\n        push({ type: 'slash', value: '/', output: '' });\n        continue;\n      }\n\n      // remove single star from output\n      state.output = state.output.slice(0, -prev.output.length);\n\n      // reset previous token to globstar\n      prev.type = 'globstar';\n      prev.output = globstar(opts);\n      prev.value += value;\n\n      // reset output with globstar\n      state.output += prev.output;\n      state.globstar = true;\n      consume(value);\n      continue;\n    }\n\n    const token = { type: 'star', value, output: star };\n\n    if (opts.bash === true) {\n      token.output = '.*?';\n      if (prev.type === 'bos' || prev.type === 'slash') {\n        token.output = nodot + token.output;\n      }\n      push(token);\n      continue;\n    }\n\n    if (prev && (prev.type === 'bracket' || prev.type === 'paren') && opts.regex === true) {\n      token.output = value;\n      push(token);\n      continue;\n    }\n\n    if (state.index === state.start || prev.type === 'slash' || prev.type === 'dot') {\n      if (prev.type === 'dot') {\n        state.output += NO_DOT_SLASH;\n        prev.output += NO_DOT_SLASH;\n\n      } else if (opts.dot === true) {\n        state.output += NO_DOTS_SLASH;\n        prev.output += NO_DOTS_SLASH;\n\n      } else {\n        state.output += nodot;\n        prev.output += nodot;\n      }\n\n      if (peek() !== '*') {\n        state.output += ONE_CHAR;\n        prev.output += ONE_CHAR;\n      }\n    }\n\n    push(token);\n  }\n\n  while (state.brackets > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', ']'));\n    state.output = utils.escapeLast(state.output, '[');\n    decrement('brackets');\n  }\n\n  while (state.parens > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', ')'));\n    state.output = utils.escapeLast(state.output, '(');\n    decrement('parens');\n  }\n\n  while (state.braces > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', '}'));\n    state.output = utils.escapeLast(state.output, '{');\n    decrement('braces');\n  }\n\n  if (opts.strictSlashes !== true && (prev.type === 'star' || prev.type === 'bracket')) {\n    push({ type: 'maybe_slash', value: '', output: `${SLASH_LITERAL}?` });\n  }\n\n  // rebuild the output if we had to backtrack at any point\n  if (state.backtrack === true) {\n    state.output = '';\n\n    for (const token of state.tokens) {\n      state.output += token.output != null ? token.output : token.value;\n\n      if (token.suffix) {\n        state.output += token.suffix;\n      }\n    }\n  }\n\n  return state;\n};\n\n/**\n * Fast paths for creating regular expressions for common glob patterns.\n * This can significantly speed up processing and has very little downside\n * impact when none of the fast paths match.\n */\n\nparse.fastpaths = (input, options) => {\n  const opts = { ...options };\n  const max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH, opts.maxLength) : MAX_LENGTH;\n  const len = input.length;\n  if (len > max) {\n    throw new SyntaxError(`Input length: ${len}, exceeds maximum allowed length: ${max}`);\n  }\n\n  input = REPLACEMENTS[input] || input;\n  const win32 = utils.isWindows(options);\n\n  // create constants based on platform, for windows or posix\n  const {\n    DOT_LITERAL,\n    SLASH_LITERAL,\n    ONE_CHAR,\n    DOTS_SLASH,\n    NO_DOT,\n    NO_DOTS,\n    NO_DOTS_SLASH,\n    STAR,\n    START_ANCHOR\n  } = constants.globChars(win32);\n\n  const nodot = opts.dot ? NO_DOTS : NO_DOT;\n  const slashDot = opts.dot ? NO_DOTS_SLASH : NO_DOT;\n  const capture = opts.capture ? '' : '?:';\n  const state = { negated: false, prefix: '' };\n  let star = opts.bash === true ? '.*?' : STAR;\n\n  if (opts.capture) {\n    star = `(${star})`;\n  }\n\n  const globstar = opts => {\n    if (opts.noglobstar === true) return star;\n    return `(${capture}(?:(?!${START_ANCHOR}${opts.dot ? DOTS_SLASH : DOT_LITERAL}).)*?)`;\n  };\n\n  const create = str => {\n    switch (str) {\n      case '*':\n        return `${nodot}${ONE_CHAR}${star}`;\n\n      case '.*':\n        return `${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '*.*':\n        return `${nodot}${star}${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '*/*':\n        return `${nodot}${star}${SLASH_LITERAL}${ONE_CHAR}${slashDot}${star}`;\n\n      case '**':\n        return nodot + globstar(opts);\n\n      case '**/*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${slashDot}${ONE_CHAR}${star}`;\n\n      case '**/*.*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${slashDot}${star}${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '**/.*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      default: {\n        const match = /^(.*?)\\.(\\w+)$/.exec(str);\n        if (!match) return;\n\n        const source = create(match[1]);\n        if (!source) return;\n\n        return source + DOT_LITERAL + match[2];\n      }\n    }\n  };\n\n  const output = utils.removePrefix(input, state);\n  let source = create(output);\n\n  if (source && opts.strictSlashes !== true) {\n    source += `${SLASH_LITERAL}?`;\n  }\n\n  return source;\n};\n\nmodule.exports = parse;\n","'use strict';\n\nconst path = require('path');\nconst scan = require('./scan');\nconst parse = require('./parse');\nconst utils = require('./utils');\nconst constants = require('./constants');\nconst isObject = val => val && typeof val === 'object' && !Array.isArray(val);\n\n/**\n * Creates a matcher function from one or more glob patterns. The\n * returned function takes a string to match as its first argument,\n * and returns true if the string is a match. The returned matcher\n * function also takes a boolean as the second argument that, when true,\n * returns an object with additional information.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch(glob[, options]);\n *\n * const isMatch = picomatch('*.!(*a)');\n * console.log(isMatch('a.a')); //=> false\n * console.log(isMatch('a.b')); //=> true\n * ```\n * @name picomatch\n * @param {String|Array} `globs` One or more glob patterns.\n * @param {Object=} `options`\n * @return {Function=} Returns a matcher function.\n * @api public\n */\n\nconst picomatch = (glob, options, returnState = false) => {\n  if (Array.isArray(glob)) {\n    const fns = glob.map(input => picomatch(input, options, returnState));\n    const arrayMatcher = str => {\n      for (const isMatch of fns) {\n        const state = isMatch(str);\n        if (state) return state;\n      }\n      return false;\n    };\n    return arrayMatcher;\n  }\n\n  const isState = isObject(glob) && glob.tokens && glob.input;\n\n  if (glob === '' || (typeof glob !== 'string' && !isState)) {\n    throw new TypeError('Expected pattern to be a non-empty string');\n  }\n\n  const opts = options || {};\n  const posix = utils.isWindows(options);\n  const regex = isState\n    ? picomatch.compileRe(glob, options)\n    : picomatch.makeRe(glob, options, false, true);\n\n  const state = regex.state;\n  delete regex.state;\n\n  let isIgnored = () => false;\n  if (opts.ignore) {\n    const ignoreOpts = { ...options, ignore: null, onMatch: null, onResult: null };\n    isIgnored = picomatch(opts.ignore, ignoreOpts, returnState);\n  }\n\n  const matcher = (input, returnObject = false) => {\n    const { isMatch, match, output } = picomatch.test(input, regex, options, { glob, posix });\n    const result = { glob, state, regex, posix, input, output, match, isMatch };\n\n    if (typeof opts.onResult === 'function') {\n      opts.onResult(result);\n    }\n\n    if (isMatch === false) {\n      result.isMatch = false;\n      return returnObject ? result : false;\n    }\n\n    if (isIgnored(input)) {\n      if (typeof opts.onIgnore === 'function') {\n        opts.onIgnore(result);\n      }\n      result.isMatch = false;\n      return returnObject ? result : false;\n    }\n\n    if (typeof opts.onMatch === 'function') {\n      opts.onMatch(result);\n    }\n    return returnObject ? result : true;\n  };\n\n  if (returnState) {\n    matcher.state = state;\n  }\n\n  return matcher;\n};\n\n/**\n * Test `input` with the given `regex`. This is used by the main\n * `picomatch()` function to test the input string.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.test(input, regex[, options]);\n *\n * console.log(picomatch.test('foo/bar', /^(?:([^/]*?)\\/([^/]*?))$/));\n * // { isMatch: true, match: [ 'foo/', 'foo', 'bar' ], output: 'foo/bar' }\n * ```\n * @param {String} `input` String to test.\n * @param {RegExp} `regex`\n * @return {Object} Returns an object with matching info.\n * @api public\n */\n\npicomatch.test = (input, regex, options, { glob, posix } = {}) => {\n  if (typeof input !== 'string') {\n    throw new TypeError('Expected input to be a string');\n  }\n\n  if (input === '') {\n    return { isMatch: false, output: '' };\n  }\n\n  const opts = options || {};\n  const format = opts.format || (posix ? utils.toPosixSlashes : null);\n  let match = input === glob;\n  let output = (match && format) ? format(input) : input;\n\n  if (match === false) {\n    output = format ? format(input) : input;\n    match = output === glob;\n  }\n\n  if (match === false || opts.capture === true) {\n    if (opts.matchBase === true || opts.basename === true) {\n      match = picomatch.matchBase(input, regex, options, posix);\n    } else {\n      match = regex.exec(output);\n    }\n  }\n\n  return { isMatch: Boolean(match), match, output };\n};\n\n/**\n * Match the basename of a filepath.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.matchBase(input, glob[, options]);\n * console.log(picomatch.matchBase('foo/bar.js', '*.js'); // true\n * ```\n * @param {String} `input` String to test.\n * @param {RegExp|String} `glob` Glob pattern or regex created by [.makeRe](#makeRe).\n * @return {Boolean}\n * @api public\n */\n\npicomatch.matchBase = (input, glob, options, posix = utils.isWindows(options)) => {\n  const regex = glob instanceof RegExp ? glob : picomatch.makeRe(glob, options);\n  return regex.test(path.basename(input));\n};\n\n/**\n * Returns true if **any** of the given glob `patterns` match the specified `string`.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.isMatch(string, patterns[, options]);\n *\n * console.log(picomatch.isMatch('a.a', ['b.*', '*.a'])); //=> true\n * console.log(picomatch.isMatch('a.a', 'b.*')); //=> false\n * ```\n * @param {String|Array} str The string to test.\n * @param {String|Array} patterns One or more glob patterns to use for matching.\n * @param {Object} [options] See available [options](#options).\n * @return {Boolean} Returns true if any patterns match `str`\n * @api public\n */\n\npicomatch.isMatch = (str, patterns, options) => picomatch(patterns, options)(str);\n\n/**\n * Parse a glob pattern to create the source string for a regular\n * expression.\n *\n * ```js\n * const picomatch = require('picomatch');\n * const result = picomatch.parse(pattern[, options]);\n * ```\n * @param {String} `pattern`\n * @param {Object} `options`\n * @return {Object} Returns an object with useful properties and output to be used as a regex source string.\n * @api public\n */\n\npicomatch.parse = (pattern, options) => {\n  if (Array.isArray(pattern)) return pattern.map(p => picomatch.parse(p, options));\n  return parse(pattern, { ...options, fastpaths: false });\n};\n\n/**\n * Scan a glob pattern to separate the pattern into segments.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.scan(input[, options]);\n *\n * const result = picomatch.scan('!./foo/*.js');\n * console.log(result);\n * { prefix: '!./',\n *   input: '!./foo/*.js',\n *   start: 3,\n *   base: 'foo',\n *   glob: '*.js',\n *   isBrace: false,\n *   isBracket: false,\n *   isGlob: true,\n *   isExtglob: false,\n *   isGlobstar: false,\n *   negated: true }\n * ```\n * @param {String} `input` Glob pattern to scan.\n * @param {Object} `options`\n * @return {Object} Returns an object with\n * @api public\n */\n\npicomatch.scan = (input, options) => scan(input, options);\n\n/**\n * Compile a regular expression from the `state` object returned by the\n * [parse()](#parse) method.\n *\n * @param {Object} `state`\n * @param {Object} `options`\n * @param {Boolean} `returnOutput` Intended for implementors, this argument allows you to return the raw output from the parser.\n * @param {Boolean} `returnState` Adds the state to a `state` property on the returned regex. Useful for implementors and debugging.\n * @return {RegExp}\n * @api public\n */\n\npicomatch.compileRe = (state, options, returnOutput = false, returnState = false) => {\n  if (returnOutput === true) {\n    return state.output;\n  }\n\n  const opts = options || {};\n  const prepend = opts.contains ? '' : '^';\n  const append = opts.contains ? '' : '$';\n\n  let source = `${prepend}(?:${state.output})${append}`;\n  if (state && state.negated === true) {\n    source = `^(?!${source}).*$`;\n  }\n\n  const regex = picomatch.toRegex(source, options);\n  if (returnState === true) {\n    regex.state = state;\n  }\n\n  return regex;\n};\n\n/**\n * Create a regular expression from a parsed glob pattern.\n *\n * ```js\n * const picomatch = require('picomatch');\n * const state = picomatch.parse('*.js');\n * // picomatch.compileRe(state[, options]);\n *\n * console.log(picomatch.compileRe(state));\n * //=> /^(?:(?!\\.)(?=.)[^/]*?\\.js)$/\n * ```\n * @param {String} `state` The object returned from the `.parse` method.\n * @param {Object} `options`\n * @param {Boolean} `returnOutput` Implementors may use this argument to return the compiled output, instead of a regular expression. This is not exposed on the options to prevent end-users from mutating the result.\n * @param {Boolean} `returnState` Implementors may use this argument to return the state from the parsed glob with the returned regular expression.\n * @return {RegExp} Returns a regex created from the given pattern.\n * @api public\n */\n\npicomatch.makeRe = (input, options = {}, returnOutput = false, returnState = false) => {\n  if (!input || typeof input !== 'string') {\n    throw new TypeError('Expected a non-empty string');\n  }\n\n  let parsed = { negated: false, fastpaths: true };\n\n  if (options.fastpaths !== false && (input[0] === '.' || input[0] === '*')) {\n    parsed.output = parse.fastpaths(input, options);\n  }\n\n  if (!parsed.output) {\n    parsed = parse(input, options);\n  }\n\n  return picomatch.compileRe(parsed, options, returnOutput, returnState);\n};\n\n/**\n * Create a regular expression from the given regex source string.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.toRegex(source[, options]);\n *\n * const { output } = picomatch.parse('*.js');\n * console.log(picomatch.toRegex(output));\n * //=> /^(?:(?!\\.)(?=.)[^/]*?\\.js)$/\n * ```\n * @param {String} `source` Regular expression source string.\n * @param {Object} `options`\n * @return {RegExp}\n * @api public\n */\n\npicomatch.toRegex = (source, options) => {\n  try {\n    const opts = options || {};\n    return new RegExp(source, opts.flags || (opts.nocase ? 'i' : ''));\n  } catch (err) {\n    if (options && options.debug === true) throw err;\n    return /$^/;\n  }\n};\n\n/**\n * Picomatch constants.\n * @return {Object}\n */\n\npicomatch.constants = constants;\n\n/**\n * Expose \"picomatch\"\n */\n\nmodule.exports = picomatch;\n","'use strict';\n\nconst utils = require('./utils');\nconst {\n  CHAR_ASTERISK,             /* * */\n  CHAR_AT,                   /* @ */\n  CHAR_BACKWARD_SLASH,       /* \\ */\n  CHAR_COMMA,                /* , */\n  CHAR_DOT,                  /* . */\n  CHAR_EXCLAMATION_MARK,     /* ! */\n  CHAR_FORWARD_SLASH,        /* / */\n  CHAR_LEFT_CURLY_BRACE,     /* { */\n  CHAR_LEFT_PARENTHESES,     /* ( */\n  CHAR_LEFT_SQUARE_BRACKET,  /* [ */\n  CHAR_PLUS,                 /* + */\n  CHAR_QUESTION_MARK,        /* ? */\n  CHAR_RIGHT_CURLY_BRACE,    /* } */\n  CHAR_RIGHT_PARENTHESES,    /* ) */\n  CHAR_RIGHT_SQUARE_BRACKET  /* ] */\n} = require('./constants');\n\nconst isPathSeparator = code => {\n  return code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH;\n};\n\nconst depth = token => {\n  if (token.isPrefix !== true) {\n    token.depth = token.isGlobstar ? Infinity : 1;\n  }\n};\n\n/**\n * Quickly scans a glob pattern and returns an object with a handful of\n * useful properties, like `isGlob`, `path` (the leading non-glob, if it exists),\n * `glob` (the actual pattern), `negated` (true if the path starts with `!` but not\n * with `!(`) and `negatedExtglob` (true if the path starts with `!(`).\n *\n * ```js\n * const pm = require('picomatch');\n * console.log(pm.scan('foo/bar/*.js'));\n * { isGlob: true, input: 'foo/bar/*.js', base: 'foo/bar', glob: '*.js' }\n * ```\n * @param {String} `str`\n * @param {Object} `options`\n * @return {Object} Returns an object with tokens and regex source string.\n * @api public\n */\n\nconst scan = (input, options) => {\n  const opts = options || {};\n\n  const length = input.length - 1;\n  const scanToEnd = opts.parts === true || opts.scanToEnd === true;\n  const slashes = [];\n  const tokens = [];\n  const parts = [];\n\n  let str = input;\n  let index = -1;\n  let start = 0;\n  let lastIndex = 0;\n  let isBrace = false;\n  let isBracket = false;\n  let isGlob = false;\n  let isExtglob = false;\n  let isGlobstar = false;\n  let braceEscaped = false;\n  let backslashes = false;\n  let negated = false;\n  let negatedExtglob = false;\n  let finished = false;\n  let braces = 0;\n  let prev;\n  let code;\n  let token = { value: '', depth: 0, isGlob: false };\n\n  const eos = () => index >= length;\n  const peek = () => str.charCodeAt(index + 1);\n  const advance = () => {\n    prev = code;\n    return str.charCodeAt(++index);\n  };\n\n  while (index < length) {\n    code = advance();\n    let next;\n\n    if (code === CHAR_BACKWARD_SLASH) {\n      backslashes = token.backslashes = true;\n      code = advance();\n\n      if (code === CHAR_LEFT_CURLY_BRACE) {\n        braceEscaped = true;\n      }\n      continue;\n    }\n\n    if (braceEscaped === true || code === CHAR_LEFT_CURLY_BRACE) {\n      braces++;\n\n      while (eos() !== true && (code = advance())) {\n        if (code === CHAR_BACKWARD_SLASH) {\n          backslashes = token.backslashes = true;\n          advance();\n          continue;\n        }\n\n        if (code === CHAR_LEFT_CURLY_BRACE) {\n          braces++;\n          continue;\n        }\n\n        if (braceEscaped !== true && code === CHAR_DOT && (code = advance()) === CHAR_DOT) {\n          isBrace = token.isBrace = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n\n          if (scanToEnd === true) {\n            continue;\n          }\n\n          break;\n        }\n\n        if (braceEscaped !== true && code === CHAR_COMMA) {\n          isBrace = token.isBrace = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n\n          if (scanToEnd === true) {\n            continue;\n          }\n\n          break;\n        }\n\n        if (code === CHAR_RIGHT_CURLY_BRACE) {\n          braces--;\n\n          if (braces === 0) {\n            braceEscaped = false;\n            isBrace = token.isBrace = true;\n            finished = true;\n            break;\n          }\n        }\n      }\n\n      if (scanToEnd === true) {\n        continue;\n      }\n\n      break;\n    }\n\n    if (code === CHAR_FORWARD_SLASH) {\n      slashes.push(index);\n      tokens.push(token);\n      token = { value: '', depth: 0, isGlob: false };\n\n      if (finished === true) continue;\n      if (prev === CHAR_DOT && index === (start + 1)) {\n        start += 2;\n        continue;\n      }\n\n      lastIndex = index + 1;\n      continue;\n    }\n\n    if (opts.noext !== true) {\n      const isExtglobChar = code === CHAR_PLUS\n        || code === CHAR_AT\n        || code === CHAR_ASTERISK\n        || code === CHAR_QUESTION_MARK\n        || code === CHAR_EXCLAMATION_MARK;\n\n      if (isExtglobChar === true && peek() === CHAR_LEFT_PARENTHESES) {\n        isGlob = token.isGlob = true;\n        isExtglob = token.isExtglob = true;\n        finished = true;\n        if (code === CHAR_EXCLAMATION_MARK && index === start) {\n          negatedExtglob = true;\n        }\n\n        if (scanToEnd === true) {\n          while (eos() !== true && (code = advance())) {\n            if (code === CHAR_BACKWARD_SLASH) {\n              backslashes = token.backslashes = true;\n              code = advance();\n              continue;\n            }\n\n            if (code === CHAR_RIGHT_PARENTHESES) {\n              isGlob = token.isGlob = true;\n              finished = true;\n              break;\n            }\n          }\n          continue;\n        }\n        break;\n      }\n    }\n\n    if (code === CHAR_ASTERISK) {\n      if (prev === CHAR_ASTERISK) isGlobstar = token.isGlobstar = true;\n      isGlob = token.isGlob = true;\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n      break;\n    }\n\n    if (code === CHAR_QUESTION_MARK) {\n      isGlob = token.isGlob = true;\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n      break;\n    }\n\n    if (code === CHAR_LEFT_SQUARE_BRACKET) {\n      while (eos() !== true && (next = advance())) {\n        if (next === CHAR_BACKWARD_SLASH) {\n          backslashes = token.backslashes = true;\n          advance();\n          continue;\n        }\n\n        if (next === CHAR_RIGHT_SQUARE_BRACKET) {\n          isBracket = token.isBracket = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n          break;\n        }\n      }\n\n      if (scanToEnd === true) {\n        continue;\n      }\n\n      break;\n    }\n\n    if (opts.nonegate !== true && code === CHAR_EXCLAMATION_MARK && index === start) {\n      negated = token.negated = true;\n      start++;\n      continue;\n    }\n\n    if (opts.noparen !== true && code === CHAR_LEFT_PARENTHESES) {\n      isGlob = token.isGlob = true;\n\n      if (scanToEnd === true) {\n        while (eos() !== true && (code = advance())) {\n          if (code === CHAR_LEFT_PARENTHESES) {\n            backslashes = token.backslashes = true;\n            code = advance();\n            continue;\n          }\n\n          if (code === CHAR_RIGHT_PARENTHESES) {\n            finished = true;\n            break;\n          }\n        }\n        continue;\n      }\n      break;\n    }\n\n    if (isGlob === true) {\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n\n      break;\n    }\n  }\n\n  if (opts.noext === true) {\n    isExtglob = false;\n    isGlob = false;\n  }\n\n  let base = str;\n  let prefix = '';\n  let glob = '';\n\n  if (start > 0) {\n    prefix = str.slice(0, start);\n    str = str.slice(start);\n    lastIndex -= start;\n  }\n\n  if (base && isGlob === true && lastIndex > 0) {\n    base = str.slice(0, lastIndex);\n    glob = str.slice(lastIndex);\n  } else if (isGlob === true) {\n    base = '';\n    glob = str;\n  } else {\n    base = str;\n  }\n\n  if (base && base !== '' && base !== '/' && base !== str) {\n    if (isPathSeparator(base.charCodeAt(base.length - 1))) {\n      base = base.slice(0, -1);\n    }\n  }\n\n  if (opts.unescape === true) {\n    if (glob) glob = utils.removeBackslashes(glob);\n\n    if (base && backslashes === true) {\n      base = utils.removeBackslashes(base);\n    }\n  }\n\n  const state = {\n    prefix,\n    input,\n    start,\n    base,\n    glob,\n    isBrace,\n    isBracket,\n    isGlob,\n    isExtglob,\n    isGlobstar,\n    negated,\n    negatedExtglob\n  };\n\n  if (opts.tokens === true) {\n    state.maxDepth = 0;\n    if (!isPathSeparator(code)) {\n      tokens.push(token);\n    }\n    state.tokens = tokens;\n  }\n\n  if (opts.parts === true || opts.tokens === true) {\n    let prevIndex;\n\n    for (let idx = 0; idx < slashes.length; idx++) {\n      const n = prevIndex ? prevIndex + 1 : start;\n      const i = slashes[idx];\n      const value = input.slice(n, i);\n      if (opts.tokens) {\n        if (idx === 0 && start !== 0) {\n          tokens[idx].isPrefix = true;\n          tokens[idx].value = prefix;\n        } else {\n          tokens[idx].value = value;\n        }\n        depth(tokens[idx]);\n        state.maxDepth += tokens[idx].depth;\n      }\n      if (idx !== 0 || value !== '') {\n        parts.push(value);\n      }\n      prevIndex = i;\n    }\n\n    if (prevIndex && prevIndex + 1 < input.length) {\n      const value = input.slice(prevIndex + 1);\n      parts.push(value);\n\n      if (opts.tokens) {\n        tokens[tokens.length - 1].value = value;\n        depth(tokens[tokens.length - 1]);\n        state.maxDepth += tokens[tokens.length - 1].depth;\n      }\n    }\n\n    state.slashes = slashes;\n    state.parts = parts;\n  }\n\n  return state;\n};\n\nmodule.exports = scan;\n","'use strict';\n\nconst path = require('path');\nconst win32 = process.platform === 'win32';\nconst {\n  REGEX_BACKSLASH,\n  REGEX_REMOVE_BACKSLASH,\n  REGEX_SPECIAL_CHARS,\n  REGEX_SPECIAL_CHARS_GLOBAL\n} = require('./constants');\n\nexports.isObject = val => val !== null && typeof val === 'object' && !Array.isArray(val);\nexports.hasRegexChars = str => REGEX_SPECIAL_CHARS.test(str);\nexports.isRegexChar = str => str.length === 1 && exports.hasRegexChars(str);\nexports.escapeRegex = str => str.replace(REGEX_SPECIAL_CHARS_GLOBAL, '\\\\$1');\nexports.toPosixSlashes = str => str.replace(REGEX_BACKSLASH, '/');\n\nexports.removeBackslashes = str => {\n  return str.replace(REGEX_REMOVE_BACKSLASH, match => {\n    return match === '\\\\' ? '' : match;\n  });\n};\n\nexports.supportsLookbehinds = () => {\n  const segs = process.version.slice(1).split('.').map(Number);\n  if (segs.length === 3 && segs[0] >= 9 || (segs[0] === 8 && segs[1] >= 10)) {\n    return true;\n  }\n  return false;\n};\n\nexports.isWindows = options => {\n  if (options && typeof options.windows === 'boolean') {\n    return options.windows;\n  }\n  return win32 === true || path.sep === '\\\\';\n};\n\nexports.escapeLast = (input, char, lastIdx) => {\n  const idx = input.lastIndexOf(char, lastIdx);\n  if (idx === -1) return input;\n  if (input[idx - 1] === '\\\\') return exports.escapeLast(input, char, idx - 1);\n  return `${input.slice(0, idx)}\\\\${input.slice(idx)}`;\n};\n\nexports.removePrefix = (input, state = {}) => {\n  let output = input;\n  if (output.startsWith('./')) {\n    output = output.slice(2);\n    state.prefix = './';\n  }\n  return output;\n};\n\nexports.wrapOutput = (input, state = {}, options = {}) => {\n  const prepend = options.contains ? '' : '^';\n  const append = options.contains ? '' : '$';\n\n  let output = `${prepend}(?:${input})${append}`;\n  if (state.negated === true) {\n    output = `(?:^(?!${output}).*$)`;\n  }\n  return output;\n};\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" />\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TraceFormat = exports.TraceValues = exports.Trace = exports.ProgressType = exports.ProgressToken = exports.createMessageConnection = exports.NullLogger = exports.ConnectionOptions = exports.ConnectionStrategy = exports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = exports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = exports.CancellationToken = exports.CancellationTokenSource = exports.Emitter = exports.Event = exports.Disposable = exports.LRUCache = exports.Touch = exports.LinkedMap = exports.ParameterStructures = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.ErrorCodes = exports.ResponseError = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType0 = exports.RequestType = exports.Message = exports.RAL = void 0;\nexports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = void 0;\nconst messages_1 = require(\"./messages\");\nObject.defineProperty(exports, \"Message\", { enumerable: true, get: function () { return messages_1.Message; } });\nObject.defineProperty(exports, \"RequestType\", { enumerable: true, get: function () { return messages_1.RequestType; } });\nObject.defineProperty(exports, \"RequestType0\", { enumerable: true, get: function () { return messages_1.RequestType0; } });\nObject.defineProperty(exports, \"RequestType1\", { enumerable: true, get: function () { return messages_1.RequestType1; } });\nObject.defineProperty(exports, \"RequestType2\", { enumerable: true, get: function () { return messages_1.RequestType2; } });\nObject.defineProperty(exports, \"RequestType3\", { enumerable: true, get: function () { return messages_1.RequestType3; } });\nObject.defineProperty(exports, \"RequestType4\", { enumerable: true, get: function () { return messages_1.RequestType4; } });\nObject.defineProperty(exports, \"RequestType5\", { enumerable: true, get: function () { return messages_1.RequestType5; } });\nObject.defineProperty(exports, \"RequestType6\", { enumerable: true, get: function () { return messages_1.RequestType6; } });\nObject.defineProperty(exports, \"RequestType7\", { enumerable: true, get: function () { return messages_1.RequestType7; } });\nObject.defineProperty(exports, \"RequestType8\", { enumerable: true, get: function () { return messages_1.RequestType8; } });\nObject.defineProperty(exports, \"RequestType9\", { enumerable: true, get: function () { return messages_1.RequestType9; } });\nObject.defineProperty(exports, \"ResponseError\", { enumerable: true, get: function () { return messages_1.ResponseError; } });\nObject.defineProperty(exports, \"ErrorCodes\", { enumerable: true, get: function () { return messages_1.ErrorCodes; } });\nObject.defineProperty(exports, \"NotificationType\", { enumerable: true, get: function () { return messages_1.NotificationType; } });\nObject.defineProperty(exports, \"NotificationType0\", { enumerable: true, get: function () { return messages_1.NotificationType0; } });\nObject.defineProperty(exports, \"NotificationType1\", { enumerable: true, get: function () { return messages_1.NotificationType1; } });\nObject.defineProperty(exports, \"NotificationType2\", { enumerable: true, get: function () { return messages_1.NotificationType2; } });\nObject.defineProperty(exports, \"NotificationType3\", { enumerable: true, get: function () { return messages_1.NotificationType3; } });\nObject.defineProperty(exports, \"NotificationType4\", { enumerable: true, get: function () { return messages_1.NotificationType4; } });\nObject.defineProperty(exports, \"NotificationType5\", { enumerable: true, get: function () { return messages_1.NotificationType5; } });\nObject.defineProperty(exports, \"NotificationType6\", { enumerable: true, get: function () { return messages_1.NotificationType6; } });\nObject.defineProperty(exports, \"NotificationType7\", { enumerable: true, get: function () { return messages_1.NotificationType7; } });\nObject.defineProperty(exports, \"NotificationType8\", { enumerable: true, get: function () { return messages_1.NotificationType8; } });\nObject.defineProperty(exports, \"NotificationType9\", { enumerable: true, get: function () { return messages_1.NotificationType9; } });\nObject.defineProperty(exports, \"ParameterStructures\", { enumerable: true, get: function () { return messages_1.ParameterStructures; } });\nconst linkedMap_1 = require(\"./linkedMap\");\nObject.defineProperty(exports, \"LinkedMap\", { enumerable: true, get: function () { return linkedMap_1.LinkedMap; } });\nObject.defineProperty(exports, \"LRUCache\", { enumerable: true, get: function () { return linkedMap_1.LRUCache; } });\nObject.defineProperty(exports, \"Touch\", { enumerable: true, get: function () { return linkedMap_1.Touch; } });\nconst disposable_1 = require(\"./disposable\");\nObject.defineProperty(exports, \"Disposable\", { enumerable: true, get: function () { return disposable_1.Disposable; } });\nconst events_1 = require(\"./events\");\nObject.defineProperty(exports, \"Event\", { enumerable: true, get: function () { return events_1.Event; } });\nObject.defineProperty(exports, \"Emitter\", { enumerable: true, get: function () { return events_1.Emitter; } });\nconst cancellation_1 = require(\"./cancellation\");\nObject.defineProperty(exports, \"CancellationTokenSource\", { enumerable: true, get: function () { return cancellation_1.CancellationTokenSource; } });\nObject.defineProperty(exports, \"CancellationToken\", { enumerable: true, get: function () { return cancellation_1.CancellationToken; } });\nconst messageReader_1 = require(\"./messageReader\");\nObject.defineProperty(exports, \"MessageReader\", { enumerable: true, get: function () { return messageReader_1.MessageReader; } });\nObject.defineProperty(exports, \"AbstractMessageReader\", { enumerable: true, get: function () { return messageReader_1.AbstractMessageReader; } });\nObject.defineProperty(exports, \"ReadableStreamMessageReader\", { enumerable: true, get: function () { return messageReader_1.ReadableStreamMessageReader; } });\nconst messageWriter_1 = require(\"./messageWriter\");\nObject.defineProperty(exports, \"MessageWriter\", { enumerable: true, get: function () { return messageWriter_1.MessageWriter; } });\nObject.defineProperty(exports, \"AbstractMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.AbstractMessageWriter; } });\nObject.defineProperty(exports, \"WriteableStreamMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.WriteableStreamMessageWriter; } });\nconst connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"ConnectionStrategy\", { enumerable: true, get: function () { return connection_1.ConnectionStrategy; } });\nObject.defineProperty(exports, \"ConnectionOptions\", { enumerable: true, get: function () { return connection_1.ConnectionOptions; } });\nObject.defineProperty(exports, \"NullLogger\", { enumerable: true, get: function () { return connection_1.NullLogger; } });\nObject.defineProperty(exports, \"createMessageConnection\", { enumerable: true, get: function () { return connection_1.createMessageConnection; } });\nObject.defineProperty(exports, \"ProgressToken\", { enumerable: true, get: function () { return connection_1.ProgressToken; } });\nObject.defineProperty(exports, \"ProgressType\", { enumerable: true, get: function () { return connection_1.ProgressType; } });\nObject.defineProperty(exports, \"Trace\", { enumerable: true, get: function () { return connection_1.Trace; } });\nObject.defineProperty(exports, \"TraceValues\", { enumerable: true, get: function () { return connection_1.TraceValues; } });\nObject.defineProperty(exports, \"TraceFormat\", { enumerable: true, get: function () { return connection_1.TraceFormat; } });\nObject.defineProperty(exports, \"SetTraceNotification\", { enumerable: true, get: function () { return connection_1.SetTraceNotification; } });\nObject.defineProperty(exports, \"LogTraceNotification\", { enumerable: true, get: function () { return connection_1.LogTraceNotification; } });\nObject.defineProperty(exports, \"ConnectionErrors\", { enumerable: true, get: function () { return connection_1.ConnectionErrors; } });\nObject.defineProperty(exports, \"ConnectionError\", { enumerable: true, get: function () { return connection_1.ConnectionError; } });\nObject.defineProperty(exports, \"CancellationReceiverStrategy\", { enumerable: true, get: function () { return connection_1.CancellationReceiverStrategy; } });\nObject.defineProperty(exports, \"CancellationSenderStrategy\", { enumerable: true, get: function () { return connection_1.CancellationSenderStrategy; } });\nObject.defineProperty(exports, \"CancellationStrategy\", { enumerable: true, get: function () { return connection_1.CancellationStrategy; } });\nconst ral_1 = require(\"./ral\");\nexports.RAL = ral_1.default;\n//# sourceMappingURL=api.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancellationTokenSource = exports.CancellationToken = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nvar CancellationToken;\n(function (CancellationToken) {\n    CancellationToken.None = Object.freeze({\n        isCancellationRequested: false,\n        onCancellationRequested: events_1.Event.None\n    });\n    CancellationToken.Cancelled = Object.freeze({\n        isCancellationRequested: true,\n        onCancellationRequested: events_1.Event.None\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate === CancellationToken.None\n            || candidate === CancellationToken.Cancelled\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\n    }\n    CancellationToken.is = is;\n})(CancellationToken = exports.CancellationToken || (exports.CancellationToken = {}));\nconst shortcutEvent = Object.freeze(function (callback, context) {\n    const handle = (0, ral_1.default)().timer.setTimeout(callback.bind(context), 0);\n    return { dispose() { handle.dispose(); } };\n});\nclass MutableToken {\n    constructor() {\n        this._isCancelled = false;\n    }\n    cancel() {\n        if (!this._isCancelled) {\n            this._isCancelled = true;\n            if (this._emitter) {\n                this._emitter.fire(undefined);\n                this.dispose();\n            }\n        }\n    }\n    get isCancellationRequested() {\n        return this._isCancelled;\n    }\n    get onCancellationRequested() {\n        if (this._isCancelled) {\n            return shortcutEvent;\n        }\n        if (!this._emitter) {\n            this._emitter = new events_1.Emitter();\n        }\n        return this._emitter.event;\n    }\n    dispose() {\n        if (this._emitter) {\n            this._emitter.dispose();\n            this._emitter = undefined;\n        }\n    }\n}\nclass CancellationTokenSource {\n    get token() {\n        if (!this._token) {\n            // be lazy and create the token only when\n            // actually needed\n            this._token = new MutableToken();\n        }\n        return this._token;\n    }\n    cancel() {\n        if (!this._token) {\n            // save an object by returning the default\n            // cancelled token when cancellation happens\n            // before someone asks for the token\n            this._token = CancellationToken.Cancelled;\n        }\n        else {\n            this._token.cancel();\n        }\n    }\n    dispose() {\n        if (!this._token) {\n            // ensure to initialize with an empty token if we had none\n            this._token = CancellationToken.None;\n        }\n        else if (this._token instanceof MutableToken) {\n            // actually dispose\n            this._token.dispose();\n        }\n    }\n}\nexports.CancellationTokenSource = CancellationTokenSource;\n//# sourceMappingURL=cancellation.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.ConnectionOptions = exports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.TraceValues = exports.Trace = exports.NullLogger = exports.ProgressType = exports.ProgressToken = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst messages_1 = require(\"./messages\");\nconst linkedMap_1 = require(\"./linkedMap\");\nconst events_1 = require(\"./events\");\nconst cancellation_1 = require(\"./cancellation\");\nvar CancelNotification;\n(function (CancelNotification) {\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\n})(CancelNotification || (CancelNotification = {}));\nvar ProgressToken;\n(function (ProgressToken) {\n    function is(value) {\n        return typeof value === 'string' || typeof value === 'number';\n    }\n    ProgressToken.is = is;\n})(ProgressToken = exports.ProgressToken || (exports.ProgressToken = {}));\nvar ProgressNotification;\n(function (ProgressNotification) {\n    ProgressNotification.type = new messages_1.NotificationType('$/progress');\n})(ProgressNotification || (ProgressNotification = {}));\nclass ProgressType {\n    constructor() {\n    }\n}\nexports.ProgressType = ProgressType;\nvar StarRequestHandler;\n(function (StarRequestHandler) {\n    function is(value) {\n        return Is.func(value);\n    }\n    StarRequestHandler.is = is;\n})(StarRequestHandler || (StarRequestHandler = {}));\nexports.NullLogger = Object.freeze({\n    error: () => { },\n    warn: () => { },\n    info: () => { },\n    log: () => { }\n});\nvar Trace;\n(function (Trace) {\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\n    Trace[Trace[\"Compact\"] = 2] = \"Compact\";\n    Trace[Trace[\"Verbose\"] = 3] = \"Verbose\";\n})(Trace = exports.Trace || (exports.Trace = {}));\nvar TraceValues;\n(function (TraceValues) {\n    /**\n     * Turn tracing off.\n     */\n    TraceValues.Off = 'off';\n    /**\n     * Trace messages only.\n     */\n    TraceValues.Messages = 'messages';\n    /**\n     * Compact message tracing.\n     */\n    TraceValues.Compact = 'compact';\n    /**\n     * Verbose message tracing.\n     */\n    TraceValues.Verbose = 'verbose';\n})(TraceValues = exports.TraceValues || (exports.TraceValues = {}));\n(function (Trace) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return Trace.Off;\n        }\n        value = value.toLowerCase();\n        switch (value) {\n            case 'off':\n                return Trace.Off;\n            case 'messages':\n                return Trace.Messages;\n            case 'compact':\n                return Trace.Compact;\n            case 'verbose':\n                return Trace.Verbose;\n            default:\n                return Trace.Off;\n        }\n    }\n    Trace.fromString = fromString;\n    function toString(value) {\n        switch (value) {\n            case Trace.Off:\n                return 'off';\n            case Trace.Messages:\n                return 'messages';\n            case Trace.Compact:\n                return 'compact';\n            case Trace.Verbose:\n                return 'verbose';\n            default:\n                return 'off';\n        }\n    }\n    Trace.toString = toString;\n})(Trace = exports.Trace || (exports.Trace = {}));\nvar TraceFormat;\n(function (TraceFormat) {\n    TraceFormat[\"Text\"] = \"text\";\n    TraceFormat[\"JSON\"] = \"json\";\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\n(function (TraceFormat) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return TraceFormat.Text;\n        }\n        value = value.toLowerCase();\n        if (value === 'json') {\n            return TraceFormat.JSON;\n        }\n        else {\n            return TraceFormat.Text;\n        }\n    }\n    TraceFormat.fromString = fromString;\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\nvar SetTraceNotification;\n(function (SetTraceNotification) {\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTrace');\n})(SetTraceNotification = exports.SetTraceNotification || (exports.SetTraceNotification = {}));\nvar LogTraceNotification;\n(function (LogTraceNotification) {\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTrace');\n})(LogTraceNotification = exports.LogTraceNotification || (exports.LogTraceNotification = {}));\nvar ConnectionErrors;\n(function (ConnectionErrors) {\n    /**\n     * The connection is closed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\n    /**\n     * The connection got disposed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\n    /**\n     * The connection is already in listening mode.\n     */\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\n})(ConnectionErrors = exports.ConnectionErrors || (exports.ConnectionErrors = {}));\nclass ConnectionError extends Error {\n    constructor(code, message) {\n        super(message);\n        this.code = code;\n        Object.setPrototypeOf(this, ConnectionError.prototype);\n    }\n}\nexports.ConnectionError = ConnectionError;\nvar ConnectionStrategy;\n(function (ConnectionStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.cancelUndispatched);\n    }\n    ConnectionStrategy.is = is;\n})(ConnectionStrategy = exports.ConnectionStrategy || (exports.ConnectionStrategy = {}));\nvar CancellationReceiverStrategy;\n(function (CancellationReceiverStrategy) {\n    CancellationReceiverStrategy.Message = Object.freeze({\n        createCancellationTokenSource(_) {\n            return new cancellation_1.CancellationTokenSource();\n        }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.createCancellationTokenSource);\n    }\n    CancellationReceiverStrategy.is = is;\n})(CancellationReceiverStrategy = exports.CancellationReceiverStrategy || (exports.CancellationReceiverStrategy = {}));\nvar CancellationSenderStrategy;\n(function (CancellationSenderStrategy) {\n    CancellationSenderStrategy.Message = Object.freeze({\n        sendCancellation(conn, id) {\n            return conn.sendNotification(CancelNotification.type, { id });\n        },\n        cleanup(_) { }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.sendCancellation) && Is.func(candidate.cleanup);\n    }\n    CancellationSenderStrategy.is = is;\n})(CancellationSenderStrategy = exports.CancellationSenderStrategy || (exports.CancellationSenderStrategy = {}));\nvar CancellationStrategy;\n(function (CancellationStrategy) {\n    CancellationStrategy.Message = Object.freeze({\n        receiver: CancellationReceiverStrategy.Message,\n        sender: CancellationSenderStrategy.Message\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && CancellationReceiverStrategy.is(candidate.receiver) && CancellationSenderStrategy.is(candidate.sender);\n    }\n    CancellationStrategy.is = is;\n})(CancellationStrategy = exports.CancellationStrategy || (exports.CancellationStrategy = {}));\nvar ConnectionOptions;\n(function (ConnectionOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (CancellationStrategy.is(candidate.cancellationStrategy) || ConnectionStrategy.is(candidate.connectionStrategy));\n    }\n    ConnectionOptions.is = is;\n})(ConnectionOptions = exports.ConnectionOptions || (exports.ConnectionOptions = {}));\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\n})(ConnectionState || (ConnectionState = {}));\nfunction createMessageConnection(messageReader, messageWriter, _logger, options) {\n    const logger = _logger !== undefined ? _logger : exports.NullLogger;\n    let sequenceNumber = 0;\n    let notificationSequenceNumber = 0;\n    let unknownResponseSequenceNumber = 0;\n    const version = '2.0';\n    let starRequestHandler = undefined;\n    const requestHandlers = new Map();\n    let starNotificationHandler = undefined;\n    const notificationHandlers = new Map();\n    const progressHandlers = new Map();\n    let timer;\n    let messageQueue = new linkedMap_1.LinkedMap();\n    let responsePromises = new Map();\n    let knownCanceledRequests = new Set();\n    let requestTokens = new Map();\n    let trace = Trace.Off;\n    let traceFormat = TraceFormat.Text;\n    let tracer;\n    let state = ConnectionState.New;\n    const errorEmitter = new events_1.Emitter();\n    const closeEmitter = new events_1.Emitter();\n    const unhandledNotificationEmitter = new events_1.Emitter();\n    const unhandledProgressEmitter = new events_1.Emitter();\n    const disposeEmitter = new events_1.Emitter();\n    const cancellationStrategy = (options && options.cancellationStrategy) ? options.cancellationStrategy : CancellationStrategy.Message;\n    function createRequestQueueKey(id) {\n        if (id === null) {\n            throw new Error(`Can't send requests with id null since the response can't be correlated.`);\n        }\n        return 'req-' + id.toString();\n    }\n    function createResponseQueueKey(id) {\n        if (id === null) {\n            return 'res-unknown-' + (++unknownResponseSequenceNumber).toString();\n        }\n        else {\n            return 'res-' + id.toString();\n        }\n    }\n    function createNotificationQueueKey() {\n        return 'not-' + (++notificationSequenceNumber).toString();\n    }\n    function addMessageToQueue(queue, message) {\n        if (messages_1.Message.isRequest(message)) {\n            queue.set(createRequestQueueKey(message.id), message);\n        }\n        else if (messages_1.Message.isResponse(message)) {\n            queue.set(createResponseQueueKey(message.id), message);\n        }\n        else {\n            queue.set(createNotificationQueueKey(), message);\n        }\n    }\n    function cancelUndispatched(_message) {\n        return undefined;\n    }\n    function isListening() {\n        return state === ConnectionState.Listening;\n    }\n    function isClosed() {\n        return state === ConnectionState.Closed;\n    }\n    function isDisposed() {\n        return state === ConnectionState.Disposed;\n    }\n    function closeHandler() {\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\n            state = ConnectionState.Closed;\n            closeEmitter.fire(undefined);\n        }\n        // If the connection is disposed don't sent close events.\n    }\n    function readErrorHandler(error) {\n        errorEmitter.fire([error, undefined, undefined]);\n    }\n    function writeErrorHandler(data) {\n        errorEmitter.fire(data);\n    }\n    messageReader.onClose(closeHandler);\n    messageReader.onError(readErrorHandler);\n    messageWriter.onClose(closeHandler);\n    messageWriter.onError(writeErrorHandler);\n    function triggerMessageQueue() {\n        if (timer || messageQueue.size === 0) {\n            return;\n        }\n        timer = (0, ral_1.default)().timer.setImmediate(() => {\n            timer = undefined;\n            processMessageQueue();\n        });\n    }\n    function processMessageQueue() {\n        if (messageQueue.size === 0) {\n            return;\n        }\n        const message = messageQueue.shift();\n        try {\n            if (messages_1.Message.isRequest(message)) {\n                handleRequest(message);\n            }\n            else if (messages_1.Message.isNotification(message)) {\n                handleNotification(message);\n            }\n            else if (messages_1.Message.isResponse(message)) {\n                handleResponse(message);\n            }\n            else {\n                handleInvalidMessage(message);\n            }\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    }\n    const callback = (message) => {\n        try {\n            // We have received a cancellation message. Check if the message is still in the queue\n            // and cancel it if allowed to do so.\n            if (messages_1.Message.isNotification(message) && message.method === CancelNotification.type.method) {\n                const cancelId = message.params.id;\n                const key = createRequestQueueKey(cancelId);\n                const toCancel = messageQueue.get(key);\n                if (messages_1.Message.isRequest(toCancel)) {\n                    const strategy = options?.connectionStrategy;\n                    const response = (strategy && strategy.cancelUndispatched) ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\n                    if (response && (response.error !== undefined || response.result !== undefined)) {\n                        messageQueue.delete(key);\n                        requestTokens.delete(cancelId);\n                        response.id = toCancel.id;\n                        traceSendingResponse(response, message.method, Date.now());\n                        messageWriter.write(response).catch(() => logger.error(`Sending response for canceled message failed.`));\n                        return;\n                    }\n                }\n                const cancellationToken = requestTokens.get(cancelId);\n                // The request is already running. Cancel the token\n                if (cancellationToken !== undefined) {\n                    cancellationToken.cancel();\n                    traceReceivedNotification(message);\n                    return;\n                }\n                else {\n                    // Remember the cancel but still queue the message to\n                    // clean up state in process message.\n                    knownCanceledRequests.add(cancelId);\n                }\n            }\n            addMessageToQueue(messageQueue, message);\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    };\n    function handleRequest(requestMessage) {\n        if (isDisposed()) {\n            // we return here silently since we fired an event when the\n            // connection got disposed.\n            return;\n        }\n        function reply(resultOrError, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id\n            };\n            if (resultOrError instanceof messages_1.ResponseError) {\n                message.error = resultOrError.toJson();\n            }\n            else {\n                message.result = resultOrError === undefined ? null : resultOrError;\n            }\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        function replyError(error, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                error: error.toJson()\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        function replySuccess(result, method, startTime) {\n            // The JSON RPC defines that a response must either have a result or an error\n            // So we can't treat undefined as a valid response result.\n            if (result === undefined) {\n                result = null;\n            }\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                result: result\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        traceReceivedRequest(requestMessage);\n        const element = requestHandlers.get(requestMessage.method);\n        let type;\n        let requestHandler;\n        if (element) {\n            type = element.type;\n            requestHandler = element.handler;\n        }\n        const startTime = Date.now();\n        if (requestHandler || starRequestHandler) {\n            const tokenKey = requestMessage.id ?? String(Date.now()); //\n            const cancellationSource = cancellationStrategy.receiver.createCancellationTokenSource(tokenKey);\n            if (requestMessage.id !== null && knownCanceledRequests.has(requestMessage.id)) {\n                cancellationSource.cancel();\n            }\n            if (requestMessage.id !== null) {\n                requestTokens.set(tokenKey, cancellationSource);\n            }\n            try {\n                let handlerResult;\n                if (requestHandler) {\n                    if (requestMessage.params === undefined) {\n                        if (type !== undefined && type.numberOfParams !== 0) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines ${type.numberOfParams} params but received none.`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(cancellationSource.token);\n                    }\n                    else if (Array.isArray(requestMessage.params)) {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byName) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by name but received parameters by position`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(...requestMessage.params, cancellationSource.token);\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by position but received parameters by name`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(requestMessage.params, cancellationSource.token);\n                    }\n                }\n                else if (starRequestHandler) {\n                    handlerResult = starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\n                }\n                const promise = handlerResult;\n                if (!handlerResult) {\n                    requestTokens.delete(tokenKey);\n                    replySuccess(handlerResult, requestMessage.method, startTime);\n                }\n                else if (promise.then) {\n                    promise.then((resultOrError) => {\n                        requestTokens.delete(tokenKey);\n                        reply(resultOrError, requestMessage.method, startTime);\n                    }, error => {\n                        requestTokens.delete(tokenKey);\n                        if (error instanceof messages_1.ResponseError) {\n                            replyError(error, requestMessage.method, startTime);\n                        }\n                        else if (error && Is.string(error.message)) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                        }\n                        else {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                        }\n                    });\n                }\n                else {\n                    requestTokens.delete(tokenKey);\n                    reply(handlerResult, requestMessage.method, startTime);\n                }\n            }\n            catch (error) {\n                requestTokens.delete(tokenKey);\n                if (error instanceof messages_1.ResponseError) {\n                    reply(error, requestMessage.method, startTime);\n                }\n                else if (error && Is.string(error.message)) {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                }\n                else {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                }\n            }\n        }\n        else {\n            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\n        }\n    }\n    function handleResponse(responseMessage) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        if (responseMessage.id === null) {\n            if (responseMessage.error) {\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\n            }\n            else {\n                logger.error(`Received response message without id. No further error information provided.`);\n            }\n        }\n        else {\n            const key = responseMessage.id;\n            const responsePromise = responsePromises.get(key);\n            traceReceivedResponse(responseMessage, responsePromise);\n            if (responsePromise !== undefined) {\n                responsePromises.delete(key);\n                try {\n                    if (responseMessage.error) {\n                        const error = responseMessage.error;\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\n                    }\n                    else if (responseMessage.result !== undefined) {\n                        responsePromise.resolve(responseMessage.result);\n                    }\n                    else {\n                        throw new Error('Should never happen.');\n                    }\n                }\n                catch (error) {\n                    if (error.message) {\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\n                    }\n                    else {\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\n                    }\n                }\n            }\n        }\n    }\n    function handleNotification(message) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        let type = undefined;\n        let notificationHandler;\n        if (message.method === CancelNotification.type.method) {\n            const cancelId = message.params.id;\n            knownCanceledRequests.delete(cancelId);\n            traceReceivedNotification(message);\n            return;\n        }\n        else {\n            const element = notificationHandlers.get(message.method);\n            if (element) {\n                notificationHandler = element.handler;\n                type = element.type;\n            }\n        }\n        if (notificationHandler || starNotificationHandler) {\n            try {\n                traceReceivedNotification(message);\n                if (notificationHandler) {\n                    if (message.params === undefined) {\n                        if (type !== undefined) {\n                            if (type.numberOfParams !== 0 && type.parameterStructures !== messages_1.ParameterStructures.byName) {\n                                logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received none.`);\n                            }\n                        }\n                        notificationHandler();\n                    }\n                    else if (Array.isArray(message.params)) {\n                        // There are JSON-RPC libraries that send progress message as positional params although\n                        // specified as named. So convert them if this is the case.\n                        const params = message.params;\n                        if (message.method === ProgressNotification.type.method && params.length === 2 && ProgressToken.is(params[0])) {\n                            notificationHandler({ token: params[0], value: params[1] });\n                        }\n                        else {\n                            if (type !== undefined) {\n                                if (type.parameterStructures === messages_1.ParameterStructures.byName) {\n                                    logger.error(`Notification ${message.method} defines parameters by name but received parameters by position`);\n                                }\n                                if (type.numberOfParams !== message.params.length) {\n                                    logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received ${params.length} arguments`);\n                                }\n                            }\n                            notificationHandler(...params);\n                        }\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            logger.error(`Notification ${message.method} defines parameters by position but received parameters by name`);\n                        }\n                        notificationHandler(message.params);\n                    }\n                }\n                else if (starNotificationHandler) {\n                    starNotificationHandler(message.method, message.params);\n                }\n            }\n            catch (error) {\n                if (error.message) {\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\n                }\n                else {\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\n                }\n            }\n        }\n        else {\n            unhandledNotificationEmitter.fire(message);\n        }\n    }\n    function handleInvalidMessage(message) {\n        if (!message) {\n            logger.error('Received empty message.');\n            return;\n        }\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\n        // Test whether we find an id to reject the promise\n        const responseMessage = message;\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\n            const key = responseMessage.id;\n            const responseHandler = responsePromises.get(key);\n            if (responseHandler) {\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\n            }\n        }\n    }\n    function stringifyTrace(params) {\n        if (params === undefined || params === null) {\n            return undefined;\n        }\n        switch (trace) {\n            case Trace.Verbose:\n                return JSON.stringify(params, null, 4);\n            case Trace.Compact:\n                return JSON.stringify(params);\n            default:\n                return undefined;\n        }\n    }\n    function traceSendingRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if ((trace === Trace.Verbose || trace === Trace.Compact) && message.params) {\n                data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n            }\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('send-request', message);\n        }\n    }\n    function traceSendingNotification(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.params) {\n                    data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Sending notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('send-notification', message);\n        }\n    }\n    function traceSendingResponse(message, method, startTime) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${stringifyTrace(message.error.data)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${stringifyTrace(message.result)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\n        }\n        else {\n            logLSPMessage('send-response', message);\n        }\n    }\n    function traceReceivedRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if ((trace === Trace.Verbose || trace === Trace.Compact) && message.params) {\n                data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n            }\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('receive-request', message);\n        }\n    }\n    function traceReceivedNotification(message) {\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.params) {\n                    data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Received notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('receive-notification', message);\n        }\n    }\n    function traceReceivedResponse(message, responsePromise) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${stringifyTrace(message.error.data)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${stringifyTrace(message.result)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            if (responsePromise) {\n                const error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\n            }\n            else {\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\n            }\n        }\n        else {\n            logLSPMessage('receive-response', message);\n        }\n    }\n    function logLSPMessage(type, message) {\n        if (!tracer || trace === Trace.Off) {\n            return;\n        }\n        const lspMessage = {\n            isLSPMessage: true,\n            type,\n            message,\n            timestamp: Date.now()\n        };\n        tracer.log(lspMessage);\n    }\n    function throwIfClosedOrDisposed() {\n        if (isClosed()) {\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\n        }\n        if (isDisposed()) {\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\n        }\n    }\n    function throwIfListening() {\n        if (isListening()) {\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\n        }\n    }\n    function throwIfNotListening() {\n        if (!isListening()) {\n            throw new Error('Call listen() first.');\n        }\n    }\n    function undefinedToNull(param) {\n        if (param === undefined) {\n            return null;\n        }\n        else {\n            return param;\n        }\n    }\n    function nullToUndefined(param) {\n        if (param === null) {\n            return undefined;\n        }\n        else {\n            return param;\n        }\n    }\n    function isNamedParam(param) {\n        return param !== undefined && param !== null && !Array.isArray(param) && typeof param === 'object';\n    }\n    function computeSingleParam(parameterStructures, param) {\n        switch (parameterStructures) {\n            case messages_1.ParameterStructures.auto:\n                if (isNamedParam(param)) {\n                    return nullToUndefined(param);\n                }\n                else {\n                    return [undefinedToNull(param)];\n                }\n            case messages_1.ParameterStructures.byName:\n                if (!isNamedParam(param)) {\n                    throw new Error(`Received parameters by name but param is not an object literal.`);\n                }\n                return nullToUndefined(param);\n            case messages_1.ParameterStructures.byPosition:\n                return [undefinedToNull(param)];\n            default:\n                throw new Error(`Unknown parameter structure ${parameterStructures.toString()}`);\n        }\n    }\n    function computeMessageParams(type, params) {\n        let result;\n        const numberOfParams = type.numberOfParams;\n        switch (numberOfParams) {\n            case 0:\n                result = undefined;\n                break;\n            case 1:\n                result = computeSingleParam(type.parameterStructures, params[0]);\n                break;\n            default:\n                result = [];\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\n                    result.push(undefinedToNull(params[i]));\n                }\n                if (params.length < numberOfParams) {\n                    for (let i = params.length; i < numberOfParams; i++) {\n                        result.push(null);\n                    }\n                }\n                break;\n        }\n        return result;\n    }\n    const connection = {\n        sendNotification: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            let method;\n            let messageParams;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Received ${numberOfParams} parameters for 'by Name' notification parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n            }\n            const notificationMessage = {\n                jsonrpc: version,\n                method: method,\n                params: messageParams\n            };\n            traceSendingNotification(notificationMessage);\n            return messageWriter.write(notificationMessage).catch(() => logger.error(`Sending notification failed.`));\n        },\n        onNotification: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method;\n            if (Is.func(type)) {\n                starNotificationHandler = type;\n            }\n            else if (handler) {\n                if (Is.string(type)) {\n                    method = type;\n                    notificationHandlers.set(type, { type: undefined, handler });\n                }\n                else {\n                    method = type.method;\n                    notificationHandlers.set(type.method, { type, handler });\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method !== undefined) {\n                        notificationHandlers.delete(method);\n                    }\n                    else {\n                        starNotificationHandler = undefined;\n                    }\n                }\n            };\n        },\n        onProgress: (_type, token, handler) => {\n            if (progressHandlers.has(token)) {\n                throw new Error(`Progress handler for token ${token} already registered`);\n            }\n            progressHandlers.set(token, handler);\n            return {\n                dispose: () => {\n                    progressHandlers.delete(token);\n                }\n            };\n        },\n        sendProgress: (_type, token, value) => {\n            return connection.sendNotification(ProgressNotification.type, { token, value });\n        },\n        onUnhandledProgress: unhandledProgressEmitter.event,\n        sendRequest: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            throwIfNotListening();\n            let method;\n            let messageParams;\n            let token = undefined;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                const last = args[args.length - 1];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                if (cancellation_1.CancellationToken.is(last)) {\n                    paramEnd = paramEnd - 1;\n                    token = last;\n                }\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Received ${numberOfParams} parameters for 'by Name' request parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n                const numberOfParams = type.numberOfParams;\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\n            }\n            const id = sequenceNumber++;\n            let disposable;\n            if (token) {\n                disposable = token.onCancellationRequested(() => {\n                    const p = cancellationStrategy.sender.sendCancellation(connection, id);\n                    if (p === undefined) {\n                        logger.log(`Received no promise from cancellation strategy when cancelling id ${id}`);\n                        return Promise.resolve();\n                    }\n                    else {\n                        return p.catch(() => {\n                            logger.log(`Sending cancellation messages for id ${id} failed`);\n                        });\n                    }\n                });\n            }\n            const result = new Promise((resolve, reject) => {\n                const requestMessage = {\n                    jsonrpc: version,\n                    id: id,\n                    method: method,\n                    params: messageParams\n                };\n                const resolveWithCleanup = (r) => {\n                    resolve(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable?.dispose();\n                };\n                const rejectWithCleanup = (r) => {\n                    reject(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable?.dispose();\n                };\n                let responsePromise = { method: method, timerStart: Date.now(), resolve: resolveWithCleanup, reject: rejectWithCleanup };\n                traceSendingRequest(requestMessage);\n                try {\n                    messageWriter.write(requestMessage).catch(() => logger.error(`Sending request failed.`));\n                }\n                catch (e) {\n                    // Writing the message failed. So we need to reject the promise.\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, e.message ? e.message : 'Unknown reason'));\n                    responsePromise = null;\n                }\n                if (responsePromise) {\n                    responsePromises.set(id, responsePromise);\n                }\n            });\n            return result;\n        },\n        onRequest: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method = null;\n            if (StarRequestHandler.is(type)) {\n                method = undefined;\n                starRequestHandler = type;\n            }\n            else if (Is.string(type)) {\n                method = null;\n                if (handler !== undefined) {\n                    method = type;\n                    requestHandlers.set(type, { handler: handler, type: undefined });\n                }\n            }\n            else {\n                if (handler !== undefined) {\n                    method = type.method;\n                    requestHandlers.set(type.method, { type, handler });\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method === null) {\n                        return;\n                    }\n                    if (method !== undefined) {\n                        requestHandlers.delete(method);\n                    }\n                    else {\n                        starRequestHandler = undefined;\n                    }\n                }\n            };\n        },\n        hasPendingResponse: () => {\n            return responsePromises.size > 0;\n        },\n        trace: async (_value, _tracer, sendNotificationOrTraceOptions) => {\n            let _sendNotification = false;\n            let _traceFormat = TraceFormat.Text;\n            if (sendNotificationOrTraceOptions !== undefined) {\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\n                    _sendNotification = sendNotificationOrTraceOptions;\n                }\n                else {\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\n                }\n            }\n            trace = _value;\n            traceFormat = _traceFormat;\n            if (trace === Trace.Off) {\n                tracer = undefined;\n            }\n            else {\n                tracer = _tracer;\n            }\n            if (_sendNotification && !isClosed() && !isDisposed()) {\n                await connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\n            }\n        },\n        onError: errorEmitter.event,\n        onClose: closeEmitter.event,\n        onUnhandledNotification: unhandledNotificationEmitter.event,\n        onDispose: disposeEmitter.event,\n        end: () => {\n            messageWriter.end();\n        },\n        dispose: () => {\n            if (isDisposed()) {\n                return;\n            }\n            state = ConnectionState.Disposed;\n            disposeEmitter.fire(undefined);\n            const error = new messages_1.ResponseError(messages_1.ErrorCodes.PendingResponseRejected, 'Pending response rejected since connection got disposed');\n            for (const promise of responsePromises.values()) {\n                promise.reject(error);\n            }\n            responsePromises = new Map();\n            requestTokens = new Map();\n            knownCanceledRequests = new Set();\n            messageQueue = new linkedMap_1.LinkedMap();\n            // Test for backwards compatibility\n            if (Is.func(messageWriter.dispose)) {\n                messageWriter.dispose();\n            }\n            if (Is.func(messageReader.dispose)) {\n                messageReader.dispose();\n            }\n        },\n        listen: () => {\n            throwIfClosedOrDisposed();\n            throwIfListening();\n            state = ConnectionState.Listening;\n            messageReader.listen(callback);\n        },\n        inspect: () => {\n            // eslint-disable-next-line no-console\n            (0, ral_1.default)().console.log('inspect');\n        }\n    };\n    connection.onNotification(LogTraceNotification.type, (params) => {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        const verbose = trace === Trace.Verbose || trace === Trace.Compact;\n        tracer.log(params.message, verbose ? params.verbose : undefined);\n    });\n    connection.onNotification(ProgressNotification.type, (params) => {\n        const handler = progressHandlers.get(params.token);\n        if (handler) {\n            handler(params.value);\n        }\n        else {\n            unhandledProgressEmitter.fire(params);\n        }\n    });\n    return connection;\n}\nexports.createMessageConnection = createMessageConnection;\n//# sourceMappingURL=connection.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Disposable = void 0;\nvar Disposable;\n(function (Disposable) {\n    function create(func) {\n        return {\n            dispose: func\n        };\n    }\n    Disposable.create = create;\n})(Disposable = exports.Disposable || (exports.Disposable = {}));\n//# sourceMappingURL=disposable.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Emitter = exports.Event = void 0;\nconst ral_1 = require(\"./ral\");\nvar Event;\n(function (Event) {\n    const _disposable = { dispose() { } };\n    Event.None = function () { return _disposable; };\n})(Event = exports.Event || (exports.Event = {}));\nclass CallbackList {\n    add(callback, context = null, bucket) {\n        if (!this._callbacks) {\n            this._callbacks = [];\n            this._contexts = [];\n        }\n        this._callbacks.push(callback);\n        this._contexts.push(context);\n        if (Array.isArray(bucket)) {\n            bucket.push({ dispose: () => this.remove(callback, context) });\n        }\n    }\n    remove(callback, context = null) {\n        if (!this._callbacks) {\n            return;\n        }\n        let foundCallbackWithDifferentContext = false;\n        for (let i = 0, len = this._callbacks.length; i < len; i++) {\n            if (this._callbacks[i] === callback) {\n                if (this._contexts[i] === context) {\n                    // callback & context match => remove it\n                    this._callbacks.splice(i, 1);\n                    this._contexts.splice(i, 1);\n                    return;\n                }\n                else {\n                    foundCallbackWithDifferentContext = true;\n                }\n            }\n        }\n        if (foundCallbackWithDifferentContext) {\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\n        }\n    }\n    invoke(...args) {\n        if (!this._callbacks) {\n            return [];\n        }\n        const ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\n        for (let i = 0, len = callbacks.length; i < len; i++) {\n            try {\n                ret.push(callbacks[i].apply(contexts[i], args));\n            }\n            catch (e) {\n                // eslint-disable-next-line no-console\n                (0, ral_1.default)().console.error(e);\n            }\n        }\n        return ret;\n    }\n    isEmpty() {\n        return !this._callbacks || this._callbacks.length === 0;\n    }\n    dispose() {\n        this._callbacks = undefined;\n        this._contexts = undefined;\n    }\n}\nclass Emitter {\n    constructor(_options) {\n        this._options = _options;\n    }\n    /**\n     * For the public to allow to subscribe\n     * to events from this Emitter\n     */\n    get event() {\n        if (!this._event) {\n            this._event = (listener, thisArgs, disposables) => {\n                if (!this._callbacks) {\n                    this._callbacks = new CallbackList();\n                }\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\n                    this._options.onFirstListenerAdd(this);\n                }\n                this._callbacks.add(listener, thisArgs);\n                const result = {\n                    dispose: () => {\n                        if (!this._callbacks) {\n                            // disposable is disposed after emitter is disposed.\n                            return;\n                        }\n                        this._callbacks.remove(listener, thisArgs);\n                        result.dispose = Emitter._noop;\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\n                            this._options.onLastListenerRemove(this);\n                        }\n                    }\n                };\n                if (Array.isArray(disposables)) {\n                    disposables.push(result);\n                }\n                return result;\n            };\n        }\n        return this._event;\n    }\n    /**\n     * To be kept private to fire an event to\n     * subscribers\n     */\n    fire(event) {\n        if (this._callbacks) {\n            this._callbacks.invoke.call(this._callbacks, event);\n        }\n    }\n    dispose() {\n        if (this._callbacks) {\n            this._callbacks.dispose();\n            this._callbacks = undefined;\n        }\n    }\n}\nexports.Emitter = Emitter;\nEmitter._noop = function () { };\n//# sourceMappingURL=events.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\n//# sourceMappingURL=is.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LRUCache = exports.LinkedMap = exports.Touch = void 0;\nvar Touch;\n(function (Touch) {\n    Touch.None = 0;\n    Touch.First = 1;\n    Touch.AsOld = Touch.First;\n    Touch.Last = 2;\n    Touch.AsNew = Touch.Last;\n})(Touch = exports.Touch || (exports.Touch = {}));\nclass LinkedMap {\n    constructor() {\n        this[_a] = 'LinkedMap';\n        this._map = new Map();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state = 0;\n    }\n    clear() {\n        this._map.clear();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state++;\n    }\n    isEmpty() {\n        return !this._head && !this._tail;\n    }\n    get size() {\n        return this._size;\n    }\n    get first() {\n        return this._head?.value;\n    }\n    get last() {\n        return this._tail?.value;\n    }\n    has(key) {\n        return this._map.has(key);\n    }\n    get(key, touch = Touch.None) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        if (touch !== Touch.None) {\n            this.touch(item, touch);\n        }\n        return item.value;\n    }\n    set(key, value, touch = Touch.None) {\n        let item = this._map.get(key);\n        if (item) {\n            item.value = value;\n            if (touch !== Touch.None) {\n                this.touch(item, touch);\n            }\n        }\n        else {\n            item = { key, value, next: undefined, previous: undefined };\n            switch (touch) {\n                case Touch.None:\n                    this.addItemLast(item);\n                    break;\n                case Touch.First:\n                    this.addItemFirst(item);\n                    break;\n                case Touch.Last:\n                    this.addItemLast(item);\n                    break;\n                default:\n                    this.addItemLast(item);\n                    break;\n            }\n            this._map.set(key, item);\n            this._size++;\n        }\n        return this;\n    }\n    delete(key) {\n        return !!this.remove(key);\n    }\n    remove(key) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        this._map.delete(key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    shift() {\n        if (!this._head && !this._tail) {\n            return undefined;\n        }\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        const item = this._head;\n        this._map.delete(item.key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    forEach(callbackfn, thisArg) {\n        const state = this._state;\n        let current = this._head;\n        while (current) {\n            if (thisArg) {\n                callbackfn.bind(thisArg)(current.value, current.key, this);\n            }\n            else {\n                callbackfn(current.value, current.key, this);\n            }\n            if (this._state !== state) {\n                throw new Error(`LinkedMap got modified during iteration.`);\n            }\n            current = current.next;\n        }\n    }\n    keys() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.key, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    values() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.value, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    entries() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: [current.key, current.value], done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    [(_a = Symbol.toStringTag, Symbol.iterator)]() {\n        return this.entries();\n    }\n    trimOld(newSize) {\n        if (newSize >= this.size) {\n            return;\n        }\n        if (newSize === 0) {\n            this.clear();\n            return;\n        }\n        let current = this._head;\n        let currentSize = this.size;\n        while (current && currentSize > newSize) {\n            this._map.delete(current.key);\n            current = current.next;\n            currentSize--;\n        }\n        this._head = current;\n        this._size = currentSize;\n        if (current) {\n            current.previous = undefined;\n        }\n        this._state++;\n    }\n    addItemFirst(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._tail = item;\n        }\n        else if (!this._head) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.next = this._head;\n            this._head.previous = item;\n        }\n        this._head = item;\n        this._state++;\n    }\n    addItemLast(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._head = item;\n        }\n        else if (!this._tail) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.previous = this._tail;\n            this._tail.next = item;\n        }\n        this._tail = item;\n        this._state++;\n    }\n    removeItem(item) {\n        if (item === this._head && item === this._tail) {\n            this._head = undefined;\n            this._tail = undefined;\n        }\n        else if (item === this._head) {\n            // This can only happened if size === 1 which is handle\n            // by the case above.\n            if (!item.next) {\n                throw new Error('Invalid list');\n            }\n            item.next.previous = undefined;\n            this._head = item.next;\n        }\n        else if (item === this._tail) {\n            // This can only happened if size === 1 which is handle\n            // by the case above.\n            if (!item.previous) {\n                throw new Error('Invalid list');\n            }\n            item.previous.next = undefined;\n            this._tail = item.previous;\n        }\n        else {\n            const next = item.next;\n            const previous = item.previous;\n            if (!next || !previous) {\n                throw new Error('Invalid list');\n            }\n            next.previous = previous;\n            previous.next = next;\n        }\n        item.next = undefined;\n        item.previous = undefined;\n        this._state++;\n    }\n    touch(item, touch) {\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\n            return;\n        }\n        if (touch === Touch.First) {\n            if (item === this._head) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item\n            if (item === this._tail) {\n                // previous must be defined since item was not head but is tail\n                // So there are more than on item in the map\n                previous.next = undefined;\n                this._tail = previous;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            // Insert the node at head\n            item.previous = undefined;\n            item.next = this._head;\n            this._head.previous = item;\n            this._head = item;\n            this._state++;\n        }\n        else if (touch === Touch.Last) {\n            if (item === this._tail) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item.\n            if (item === this._head) {\n                // next must be defined since item was not tail but is head\n                // So there are more than on item in the map\n                next.previous = undefined;\n                this._head = next;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            item.next = undefined;\n            item.previous = this._tail;\n            this._tail.next = item;\n            this._tail = item;\n            this._state++;\n        }\n    }\n    toJSON() {\n        const data = [];\n        this.forEach((value, key) => {\n            data.push([key, value]);\n        });\n        return data;\n    }\n    fromJSON(data) {\n        this.clear();\n        for (const [key, value] of data) {\n            this.set(key, value);\n        }\n    }\n}\nexports.LinkedMap = LinkedMap;\nclass LRUCache extends LinkedMap {\n    constructor(limit, ratio = 1) {\n        super();\n        this._limit = limit;\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n    }\n    get limit() {\n        return this._limit;\n    }\n    set limit(limit) {\n        this._limit = limit;\n        this.checkTrim();\n    }\n    get ratio() {\n        return this._ratio;\n    }\n    set ratio(ratio) {\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n        this.checkTrim();\n    }\n    get(key, touch = Touch.AsNew) {\n        return super.get(key, touch);\n    }\n    peek(key) {\n        return super.get(key, Touch.None);\n    }\n    set(key, value) {\n        super.set(key, value, Touch.Last);\n        this.checkTrim();\n        return this;\n    }\n    checkTrim() {\n        if (this.size > this._limit) {\n            this.trimOld(Math.round(this._limit * this._ratio));\n        }\n    }\n}\nexports.LRUCache = LRUCache;\n//# sourceMappingURL=linkedMap.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractMessageBuffer = void 0;\nconst CR = 13;\nconst LF = 10;\nconst CRLF = '\\r\\n';\nclass AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        this._encoding = encoding;\n        this._chunks = [];\n        this._totalLength = 0;\n    }\n    get encoding() {\n        return this._encoding;\n    }\n    append(chunk) {\n        const toAppend = typeof chunk === 'string' ? this.fromString(chunk, this._encoding) : chunk;\n        this._chunks.push(toAppend);\n        this._totalLength += toAppend.byteLength;\n    }\n    tryReadHeaders() {\n        if (this._chunks.length === 0) {\n            return undefined;\n        }\n        let state = 0;\n        let chunkIndex = 0;\n        let offset = 0;\n        let chunkBytesRead = 0;\n        row: while (chunkIndex < this._chunks.length) {\n            const chunk = this._chunks[chunkIndex];\n            offset = 0;\n            column: while (offset < chunk.length) {\n                const value = chunk[offset];\n                switch (value) {\n                    case CR:\n                        switch (state) {\n                            case 0:\n                                state = 1;\n                                break;\n                            case 2:\n                                state = 3;\n                                break;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    case LF:\n                        switch (state) {\n                            case 1:\n                                state = 2;\n                                break;\n                            case 3:\n                                state = 4;\n                                offset++;\n                                break row;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    default:\n                        state = 0;\n                }\n                offset++;\n            }\n            chunkBytesRead += chunk.byteLength;\n            chunkIndex++;\n        }\n        if (state !== 4) {\n            return undefined;\n        }\n        // The buffer contains the two CRLF at the end. So we will\n        // have two empty lines after the split at the end as well.\n        const buffer = this._read(chunkBytesRead + offset);\n        const result = new Map();\n        const headers = this.toString(buffer, 'ascii').split(CRLF);\n        if (headers.length < 2) {\n            return result;\n        }\n        for (let i = 0; i < headers.length - 2; i++) {\n            const header = headers[i];\n            const index = header.indexOf(':');\n            if (index === -1) {\n                throw new Error('Message header must separate key and value using :');\n            }\n            const key = header.substr(0, index);\n            const value = header.substr(index + 1).trim();\n            result.set(key, value);\n        }\n        return result;\n    }\n    tryReadBody(length) {\n        if (this._totalLength < length) {\n            return undefined;\n        }\n        return this._read(length);\n    }\n    get numberOfBytes() {\n        return this._totalLength;\n    }\n    _read(byteCount) {\n        if (byteCount === 0) {\n            return this.emptyBuffer();\n        }\n        if (byteCount > this._totalLength) {\n            throw new Error(`Cannot read so many bytes!`);\n        }\n        if (this._chunks[0].byteLength === byteCount) {\n            // super fast path, precisely first chunk must be returned\n            const chunk = this._chunks[0];\n            this._chunks.shift();\n            this._totalLength -= byteCount;\n            return this.asNative(chunk);\n        }\n        if (this._chunks[0].byteLength > byteCount) {\n            // fast path, the reading is entirely within the first chunk\n            const chunk = this._chunks[0];\n            const result = this.asNative(chunk, byteCount);\n            this._chunks[0] = chunk.slice(byteCount);\n            this._totalLength -= byteCount;\n            return result;\n        }\n        const result = this.allocNative(byteCount);\n        let resultOffset = 0;\n        let chunkIndex = 0;\n        while (byteCount > 0) {\n            const chunk = this._chunks[chunkIndex];\n            if (chunk.byteLength > byteCount) {\n                // this chunk will survive\n                const chunkPart = chunk.slice(0, byteCount);\n                result.set(chunkPart, resultOffset);\n                resultOffset += byteCount;\n                this._chunks[chunkIndex] = chunk.slice(byteCount);\n                this._totalLength -= byteCount;\n                byteCount -= byteCount;\n            }\n            else {\n                // this chunk will be entirely read\n                result.set(chunk, resultOffset);\n                resultOffset += chunk.byteLength;\n                this._chunks.shift();\n                this._totalLength -= chunk.byteLength;\n                byteCount -= chunk.byteLength;\n            }\n        }\n        return result;\n    }\n}\nexports.AbstractMessageBuffer = AbstractMessageBuffer;\n//# sourceMappingURL=messageBuffer.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nvar MessageReader;\n(function (MessageReader) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\n    }\n    MessageReader.is = is;\n})(MessageReader = exports.MessageReader || (exports.MessageReader = {}));\nclass AbstractMessageReader {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n        this.partialMessageEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error) {\n        this.errorEmitter.fire(this.asError(error));\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    get onPartialMessage() {\n        return this.partialMessageEmitter.event;\n    }\n    firePartialMessage(info) {\n        this.partialMessageEmitter.fire(info);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Reader received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageReader = AbstractMessageReader;\nvar ResolvedMessageReaderOptions;\n(function (ResolvedMessageReaderOptions) {\n    function fromOptions(options) {\n        let charset;\n        let result;\n        let contentDecoder;\n        const contentDecoders = new Map();\n        let contentTypeDecoder;\n        const contentTypeDecoders = new Map();\n        if (options === undefined || typeof options === 'string') {\n            charset = options ?? 'utf-8';\n        }\n        else {\n            charset = options.charset ?? 'utf-8';\n            if (options.contentDecoder !== undefined) {\n                contentDecoder = options.contentDecoder;\n                contentDecoders.set(contentDecoder.name, contentDecoder);\n            }\n            if (options.contentDecoders !== undefined) {\n                for (const decoder of options.contentDecoders) {\n                    contentDecoders.set(decoder.name, decoder);\n                }\n            }\n            if (options.contentTypeDecoder !== undefined) {\n                contentTypeDecoder = options.contentTypeDecoder;\n                contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n            }\n            if (options.contentTypeDecoders !== undefined) {\n                for (const decoder of options.contentTypeDecoders) {\n                    contentTypeDecoders.set(decoder.name, decoder);\n                }\n            }\n        }\n        if (contentTypeDecoder === undefined) {\n            contentTypeDecoder = (0, ral_1.default)().applicationJson.decoder;\n            contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n        }\n        return { charset, contentDecoder, contentDecoders, contentTypeDecoder, contentTypeDecoders };\n    }\n    ResolvedMessageReaderOptions.fromOptions = fromOptions;\n})(ResolvedMessageReaderOptions || (ResolvedMessageReaderOptions = {}));\nclass ReadableStreamMessageReader extends AbstractMessageReader {\n    constructor(readable, options) {\n        super();\n        this.readable = readable;\n        this.options = ResolvedMessageReaderOptions.fromOptions(options);\n        this.buffer = (0, ral_1.default)().messageBuffer.create(this.options.charset);\n        this._partialMessageTimeout = 10000;\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n    }\n    set partialMessageTimeout(timeout) {\n        this._partialMessageTimeout = timeout;\n    }\n    get partialMessageTimeout() {\n        return this._partialMessageTimeout;\n    }\n    listen(callback) {\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n        this.partialMessageTimer = undefined;\n        this.callback = callback;\n        const result = this.readable.onData((data) => {\n            this.onData(data);\n        });\n        this.readable.onError((error) => this.fireError(error));\n        this.readable.onClose(() => this.fireClose());\n        return result;\n    }\n    onData(data) {\n        this.buffer.append(data);\n        while (true) {\n            if (this.nextMessageLength === -1) {\n                const headers = this.buffer.tryReadHeaders();\n                if (!headers) {\n                    return;\n                }\n                const contentLength = headers.get('Content-Length');\n                if (!contentLength) {\n                    throw new Error('Header must provide a Content-Length property.');\n                }\n                const length = parseInt(contentLength);\n                if (isNaN(length)) {\n                    throw new Error('Content-Length value must be a number.');\n                }\n                this.nextMessageLength = length;\n            }\n            const body = this.buffer.tryReadBody(this.nextMessageLength);\n            if (body === undefined) {\n                /** We haven't received the full message yet. */\n                this.setPartialMessageTimer();\n                return;\n            }\n            this.clearPartialMessageTimer();\n            this.nextMessageLength = -1;\n            let p;\n            if (this.options.contentDecoder !== undefined) {\n                p = this.options.contentDecoder.decode(body);\n            }\n            else {\n                p = Promise.resolve(body);\n            }\n            p.then((value) => {\n                this.options.contentTypeDecoder.decode(value, this.options).then((msg) => {\n                    this.callback(msg);\n                }, (error) => {\n                    this.fireError(error);\n                });\n            }, (error) => {\n                this.fireError(error);\n            });\n        }\n    }\n    clearPartialMessageTimer() {\n        if (this.partialMessageTimer) {\n            this.partialMessageTimer.dispose();\n            this.partialMessageTimer = undefined;\n        }\n    }\n    setPartialMessageTimer() {\n        this.clearPartialMessageTimer();\n        if (this._partialMessageTimeout <= 0) {\n            return;\n        }\n        this.partialMessageTimer = (0, ral_1.default)().timer.setTimeout((token, timeout) => {\n            this.partialMessageTimer = undefined;\n            if (token === this.messageToken) {\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\n                this.setPartialMessageTimer();\n            }\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\n    }\n}\nexports.ReadableStreamMessageReader = ReadableStreamMessageReader;\n//# sourceMappingURL=messageReader.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst semaphore_1 = require(\"./semaphore\");\nconst events_1 = require(\"./events\");\nconst ContentLength = 'Content-Length: ';\nconst CRLF = '\\r\\n';\nvar MessageWriter;\n(function (MessageWriter) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\n            Is.func(candidate.onError) && Is.func(candidate.write);\n    }\n    MessageWriter.is = is;\n})(MessageWriter = exports.MessageWriter || (exports.MessageWriter = {}));\nclass AbstractMessageWriter {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error, message, count) {\n        this.errorEmitter.fire([this.asError(error), message, count]);\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Writer received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageWriter = AbstractMessageWriter;\nvar ResolvedMessageWriterOptions;\n(function (ResolvedMessageWriterOptions) {\n    function fromOptions(options) {\n        if (options === undefined || typeof options === 'string') {\n            return { charset: options ?? 'utf-8', contentTypeEncoder: (0, ral_1.default)().applicationJson.encoder };\n        }\n        else {\n            return { charset: options.charset ?? 'utf-8', contentEncoder: options.contentEncoder, contentTypeEncoder: options.contentTypeEncoder ?? (0, ral_1.default)().applicationJson.encoder };\n        }\n    }\n    ResolvedMessageWriterOptions.fromOptions = fromOptions;\n})(ResolvedMessageWriterOptions || (ResolvedMessageWriterOptions = {}));\nclass WriteableStreamMessageWriter extends AbstractMessageWriter {\n    constructor(writable, options) {\n        super();\n        this.writable = writable;\n        this.options = ResolvedMessageWriterOptions.fromOptions(options);\n        this.errorCount = 0;\n        this.writeSemaphore = new semaphore_1.Semaphore(1);\n        this.writable.onError((error) => this.fireError(error));\n        this.writable.onClose(() => this.fireClose());\n    }\n    async write(msg) {\n        return this.writeSemaphore.lock(async () => {\n            const payload = this.options.contentTypeEncoder.encode(msg, this.options).then((buffer) => {\n                if (this.options.contentEncoder !== undefined) {\n                    return this.options.contentEncoder.encode(buffer);\n                }\n                else {\n                    return buffer;\n                }\n            });\n            return payload.then((buffer) => {\n                const headers = [];\n                headers.push(ContentLength, buffer.byteLength.toString(), CRLF);\n                headers.push(CRLF);\n                return this.doWrite(msg, headers, buffer);\n            }, (error) => {\n                this.fireError(error);\n                throw error;\n            });\n        });\n    }\n    async doWrite(msg, headers, data) {\n        try {\n            await this.writable.write(headers.join(''), 'ascii');\n            return this.writable.write(data);\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n        this.writable.end();\n    }\n}\nexports.WriteableStreamMessageWriter = WriteableStreamMessageWriter;\n//# sourceMappingURL=messageWriter.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Message = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType = exports.RequestType0 = exports.AbstractMessageSignature = exports.ParameterStructures = exports.ResponseError = exports.ErrorCodes = void 0;\nconst is = require(\"./is\");\n/**\n * Predefined error codes.\n */\nvar ErrorCodes;\n(function (ErrorCodes) {\n    // Defined by JSON RPC\n    ErrorCodes.ParseError = -32700;\n    ErrorCodes.InvalidRequest = -32600;\n    ErrorCodes.MethodNotFound = -32601;\n    ErrorCodes.InvalidParams = -32602;\n    ErrorCodes.InternalError = -32603;\n    /**\n     * This is the start range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code. No application error codes should\n     * be defined between the start and end range. For backwards\n     * compatibility the `ServerNotInitialized` and the `UnknownErrorCode`\n     * are left in the range.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeStart = -32099;\n    /** @deprecated use  jsonrpcReservedErrorRangeStart */\n    ErrorCodes.serverErrorStart = -32099;\n    /**\n     * An error occurred when write a message to the transport layer.\n     */\n    ErrorCodes.MessageWriteError = -32099;\n    /**\n     * An error occurred when reading a message from the transport layer.\n     */\n    ErrorCodes.MessageReadError = -32098;\n    /**\n     * The connection got disposed or lost and all pending responses got\n     * rejected.\n     */\n    ErrorCodes.PendingResponseRejected = -32097;\n    /**\n     * The connection is inactive and a use of it failed.\n     */\n    ErrorCodes.ConnectionInactive = -32096;\n    /**\n     * Error code indicating that a server received a notification or\n     * request before the server has received the `initialize` request.\n     */\n    ErrorCodes.ServerNotInitialized = -32002;\n    ErrorCodes.UnknownErrorCode = -32001;\n    /**\n     * This is the end range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeEnd = -32000;\n    /** @deprecated use  jsonrpcReservedErrorRangeEnd */\n    ErrorCodes.serverErrorEnd = -32000;\n})(ErrorCodes = exports.ErrorCodes || (exports.ErrorCodes = {}));\n/**\n * An error object return in a response in case a request\n * has failed.\n */\nclass ResponseError extends Error {\n    constructor(code, message, data) {\n        super(message);\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\n        this.data = data;\n        Object.setPrototypeOf(this, ResponseError.prototype);\n    }\n    toJson() {\n        const result = {\n            code: this.code,\n            message: this.message\n        };\n        if (this.data !== undefined) {\n            result.data = this.data;\n        }\n        return result;\n    }\n}\nexports.ResponseError = ResponseError;\nclass ParameterStructures {\n    constructor(kind) {\n        this.kind = kind;\n    }\n    static is(value) {\n        return value === ParameterStructures.auto || value === ParameterStructures.byName || value === ParameterStructures.byPosition;\n    }\n    toString() {\n        return this.kind;\n    }\n}\nexports.ParameterStructures = ParameterStructures;\n/**\n * The parameter structure is automatically inferred on the number of parameters\n * and the parameter type in case of a single param.\n */\nParameterStructures.auto = new ParameterStructures('auto');\n/**\n * Forces `byPosition` parameter structure. This is useful if you have a single\n * parameter which has a literal type.\n */\nParameterStructures.byPosition = new ParameterStructures('byPosition');\n/**\n * Forces `byName` parameter structure. This is only useful when having a single\n * parameter. The library will report errors if used with a different number of\n * parameters.\n */\nParameterStructures.byName = new ParameterStructures('byName');\n/**\n * An abstract implementation of a MessageType.\n */\nclass AbstractMessageSignature {\n    constructor(method, numberOfParams) {\n        this.method = method;\n        this.numberOfParams = numberOfParams;\n    }\n    get parameterStructures() {\n        return ParameterStructures.auto;\n    }\n}\nexports.AbstractMessageSignature = AbstractMessageSignature;\n/**\n * Classes to type request response pairs\n */\nclass RequestType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.RequestType0 = RequestType0;\nclass RequestType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType = RequestType;\nclass RequestType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType1 = RequestType1;\nclass RequestType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.RequestType2 = RequestType2;\nclass RequestType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.RequestType3 = RequestType3;\nclass RequestType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.RequestType4 = RequestType4;\nclass RequestType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.RequestType5 = RequestType5;\nclass RequestType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.RequestType6 = RequestType6;\nclass RequestType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.RequestType7 = RequestType7;\nclass RequestType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.RequestType8 = RequestType8;\nclass RequestType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.RequestType9 = RequestType9;\nclass NotificationType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType = NotificationType;\nclass NotificationType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.NotificationType0 = NotificationType0;\nclass NotificationType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType1 = NotificationType1;\nclass NotificationType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.NotificationType2 = NotificationType2;\nclass NotificationType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.NotificationType3 = NotificationType3;\nclass NotificationType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.NotificationType4 = NotificationType4;\nclass NotificationType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.NotificationType5 = NotificationType5;\nclass NotificationType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.NotificationType6 = NotificationType6;\nclass NotificationType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.NotificationType7 = NotificationType7;\nclass NotificationType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.NotificationType8 = NotificationType8;\nclass NotificationType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.NotificationType9 = NotificationType9;\nvar Message;\n(function (Message) {\n    /**\n     * Tests if the given message is a request message\n     */\n    function isRequest(message) {\n        const candidate = message;\n        return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\n    }\n    Message.isRequest = isRequest;\n    /**\n     * Tests if the given message is a notification message\n     */\n    function isNotification(message) {\n        const candidate = message;\n        return candidate && is.string(candidate.method) && message.id === void 0;\n    }\n    Message.isNotification = isNotification;\n    /**\n     * Tests if the given message is a response message\n     */\n    function isResponse(message) {\n        const candidate = message;\n        return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\n    }\n    Message.isResponse = isResponse;\n})(Message = exports.Message || (exports.Message = {}));\n//# sourceMappingURL=messages.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nlet _ral;\nfunction RAL() {\n    if (_ral === undefined) {\n        throw new Error(`No runtime abstraction layer installed`);\n    }\n    return _ral;\n}\n(function (RAL) {\n    function install(ral) {\n        if (ral === undefined) {\n            throw new Error(`No runtime abstraction layer provided`);\n        }\n        _ral = ral;\n    }\n    RAL.install = install;\n})(RAL || (RAL = {}));\nexports.default = RAL;\n//# sourceMappingURL=ral.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Semaphore = void 0;\nconst ral_1 = require(\"./ral\");\nclass Semaphore {\n    constructor(capacity = 1) {\n        if (capacity <= 0) {\n            throw new Error('Capacity must be greater than 0');\n        }\n        this._capacity = capacity;\n        this._active = 0;\n        this._waiting = [];\n    }\n    lock(thunk) {\n        return new Promise((resolve, reject) => {\n            this._waiting.push({ thunk, resolve, reject });\n            this.runNext();\n        });\n    }\n    get active() {\n        return this._active;\n    }\n    runNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        (0, ral_1.default)().timer.setImmediate(() => this.doRunNext());\n    }\n    doRunNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        const next = this._waiting.shift();\n        this._active++;\n        if (this._active > this._capacity) {\n            throw new Error(`To many thunks active`);\n        }\n        try {\n            const result = next.thunk();\n            if (result instanceof Promise) {\n                result.then((value) => {\n                    this._active--;\n                    next.resolve(value);\n                    this.runNext();\n                }, (err) => {\n                    this._active--;\n                    next.reject(err);\n                    this.runNext();\n                });\n            }\n            else {\n                this._active--;\n                next.resolve(result);\n                this.runNext();\n            }\n        }\n        catch (err) {\n            this._active--;\n            next.reject(err);\n            this.runNext();\n        }\n    }\n}\nexports.Semaphore = Semaphore;\n//# sourceMappingURL=semaphore.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.createServerSocketTransport = exports.createClientSocketTransport = exports.createServerPipeTransport = exports.createClientPipeTransport = exports.generateRandomPipeName = exports.StreamMessageWriter = exports.StreamMessageReader = exports.SocketMessageWriter = exports.SocketMessageReader = exports.IPCMessageWriter = exports.IPCMessageReader = void 0;\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\nconst ril_1 = require(\"./ril\");\n// Install the node runtime abstract.\nril_1.default.install();\nconst api_1 = require(\"../common/api\");\nconst path = require(\"path\");\nconst os = require(\"os\");\nconst crypto_1 = require(\"crypto\");\nconst net_1 = require(\"net\");\n__exportStar(require(\"../common/api\"), exports);\nclass IPCMessageReader extends api_1.AbstractMessageReader {\n    constructor(process) {\n        super();\n        this.process = process;\n        let eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose());\n    }\n    listen(callback) {\n        this.process.on('message', callback);\n        return api_1.Disposable.create(() => this.process.off('message', callback));\n    }\n}\nexports.IPCMessageReader = IPCMessageReader;\nclass IPCMessageWriter extends api_1.AbstractMessageWriter {\n    constructor(process) {\n        super();\n        this.process = process;\n        this.errorCount = 0;\n        let eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose);\n    }\n    write(msg) {\n        try {\n            if (typeof this.process.send === 'function') {\n                this.process.send(msg, undefined, undefined, (error) => {\n                    if (error) {\n                        this.errorCount++;\n                        this.handleError(error, msg);\n                    }\n                    else {\n                        this.errorCount = 0;\n                    }\n                });\n            }\n            return Promise.resolve();\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n    }\n}\nexports.IPCMessageWriter = IPCMessageWriter;\nclass SocketMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(socket, encoding = 'utf-8') {\n        super((0, ril_1.default)().stream.asReadableStream(socket), encoding);\n    }\n}\nexports.SocketMessageReader = SocketMessageReader;\nclass SocketMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(socket, options) {\n        super((0, ril_1.default)().stream.asWritableStream(socket), options);\n        this.socket = socket;\n    }\n    dispose() {\n        super.dispose();\n        this.socket.destroy();\n    }\n}\nexports.SocketMessageWriter = SocketMessageWriter;\nclass StreamMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(readble, encoding) {\n        super((0, ril_1.default)().stream.asReadableStream(readble), encoding);\n    }\n}\nexports.StreamMessageReader = StreamMessageReader;\nclass StreamMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(writable, options) {\n        super((0, ril_1.default)().stream.asWritableStream(writable), options);\n    }\n}\nexports.StreamMessageWriter = StreamMessageWriter;\nconst XDG_RUNTIME_DIR = process.env['XDG_RUNTIME_DIR'];\nconst safeIpcPathLengths = new Map([\n    ['linux', 107],\n    ['darwin', 103]\n]);\nfunction generateRandomPipeName() {\n    const randomSuffix = (0, crypto_1.randomBytes)(21).toString('hex');\n    if (process.platform === 'win32') {\n        return `\\\\\\\\.\\\\pipe\\\\vscode-jsonrpc-${randomSuffix}-sock`;\n    }\n    let result;\n    if (XDG_RUNTIME_DIR) {\n        result = path.join(XDG_RUNTIME_DIR, `vscode-ipc-${randomSuffix}.sock`);\n    }\n    else {\n        result = path.join(os.tmpdir(), `vscode-${randomSuffix}.sock`);\n    }\n    const limit = safeIpcPathLengths.get(process.platform);\n    if (limit !== undefined && result.length >= limit) {\n        (0, ril_1.default)().console.warn(`WARNING: IPC handle \"${result}\" is longer than ${limit} characters.`);\n    }\n    return result;\n}\nexports.generateRandomPipeName = generateRandomPipeName;\nfunction createClientPipeTransport(pipeName, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        let server = (0, net_1.createServer)((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(pipeName, () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientPipeTransport = createClientPipeTransport;\nfunction createServerPipeTransport(pipeName, encoding = 'utf-8') {\n    const socket = (0, net_1.createConnection)(pipeName);\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerPipeTransport = createServerPipeTransport;\nfunction createClientSocketTransport(port, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        const server = (0, net_1.createServer)((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(port, '127.0.0.1', () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientSocketTransport = createClientSocketTransport;\nfunction createServerSocketTransport(port, encoding = 'utf-8') {\n    const socket = (0, net_1.createConnection)(port, '127.0.0.1');\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerSocketTransport = createServerSocketTransport;\nfunction isReadableStream(value) {\n    const candidate = value;\n    return candidate.read !== undefined && candidate.addListener !== undefined;\n}\nfunction isWritableStream(value) {\n    const candidate = value;\n    return candidate.write !== undefined && candidate.addListener !== undefined;\n}\nfunction createMessageConnection(input, output, logger, options) {\n    if (!logger) {\n        logger = api_1.NullLogger;\n    }\n    const reader = isReadableStream(input) ? new StreamMessageReader(input) : input;\n    const writer = isWritableStream(output) ? new StreamMessageWriter(output) : output;\n    if (api_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return (0, api_1.createMessageConnection)(reader, writer, logger, options);\n}\nexports.createMessageConnection = createMessageConnection;\n//# sourceMappingURL=main.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ral_1 = require(\"../common/ral\");\nconst util_1 = require(\"util\");\nconst disposable_1 = require(\"../common/disposable\");\nconst messageBuffer_1 = require(\"../common/messageBuffer\");\nclass MessageBuffer extends messageBuffer_1.AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        super(encoding);\n    }\n    emptyBuffer() {\n        return MessageBuffer.emptyBuffer;\n    }\n    fromString(value, encoding) {\n        return Buffer.from(value, encoding);\n    }\n    toString(value, encoding) {\n        if (value instanceof Buffer) {\n            return value.toString(encoding);\n        }\n        else {\n            return new util_1.TextDecoder(encoding).decode(value);\n        }\n    }\n    asNative(buffer, length) {\n        if (length === undefined) {\n            return buffer instanceof Buffer ? buffer : Buffer.from(buffer);\n        }\n        else {\n            return buffer instanceof Buffer ? buffer.slice(0, length) : Buffer.from(buffer, 0, length);\n        }\n    }\n    allocNative(length) {\n        return Buffer.allocUnsafe(length);\n    }\n}\nMessageBuffer.emptyBuffer = Buffer.allocUnsafe(0);\nclass ReadableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    onData(listener) {\n        this.stream.on('data', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('data', listener));\n    }\n}\nclass WritableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    write(data, encoding) {\n        return new Promise((resolve, reject) => {\n            const callback = (error) => {\n                if (error === undefined || error === null) {\n                    resolve();\n                }\n                else {\n                    reject(error);\n                }\n            };\n            if (typeof data === 'string') {\n                this.stream.write(data, encoding, callback);\n            }\n            else {\n                this.stream.write(data, callback);\n            }\n        });\n    }\n    end() {\n        this.stream.end();\n    }\n}\nconst _ril = Object.freeze({\n    messageBuffer: Object.freeze({\n        create: (encoding) => new MessageBuffer(encoding)\n    }),\n    applicationJson: Object.freeze({\n        encoder: Object.freeze({\n            name: 'application/json',\n            encode: (msg, options) => {\n                try {\n                    return Promise.resolve(Buffer.from(JSON.stringify(msg, undefined, 0), options.charset));\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        }),\n        decoder: Object.freeze({\n            name: 'application/json',\n            decode: (buffer, options) => {\n                try {\n                    if (buffer instanceof Buffer) {\n                        return Promise.resolve(JSON.parse(buffer.toString(options.charset)));\n                    }\n                    else {\n                        return Promise.resolve(JSON.parse(new util_1.TextDecoder(options.charset).decode(buffer)));\n                    }\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        })\n    }),\n    stream: Object.freeze({\n        asReadableStream: (stream) => new ReadableStreamWrapper(stream),\n        asWritableStream: (stream) => new WritableStreamWrapper(stream)\n    }),\n    console: console,\n    timer: Object.freeze({\n        setTimeout(callback, ms, ...args) {\n            const handle = setTimeout(callback, ms, ...args);\n            return { dispose: () => clearTimeout(handle) };\n        },\n        setImmediate(callback, ...args) {\n            const handle = setImmediate(callback, ...args);\n            return { dispose: () => clearImmediate(handle) };\n        },\n        setInterval(callback, ms, ...args) {\n            const handle = setInterval(callback, ms, ...args);\n            return { dispose: () => clearInterval(handle) };\n        }\n    })\n});\nfunction RIL() {\n    return _ril;\n}\n(function (RIL) {\n    function install() {\n        ral_1.default.install(_ril);\n    }\n    RIL.install = install;\n})(RIL || (RIL = {}));\nexports.default = RIL;\n//# sourceMappingURL=ril.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LSPErrorCodes = exports.createProtocolConnection = void 0;\n__exportStar(require(\"vscode-jsonrpc\"), exports);\n__exportStar(require(\"vscode-languageserver-types\"), exports);\n__exportStar(require(\"./messages\"), exports);\n__exportStar(require(\"./protocol\"), exports);\nvar connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"createProtocolConnection\", { enumerable: true, get: function () { return connection_1.createProtocolConnection; } });\nvar LSPErrorCodes;\n(function (LSPErrorCodes) {\n    /**\n    * This is the start range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeStart = -32899;\n    /**\n     * A request failed but it was syntactically correct, e.g the\n     * method name was known and the parameters were valid. The error\n     * message should contain human readable information about why\n     * the request failed.\n     *\n     * @since 3.17.0\n     */\n    LSPErrorCodes.RequestFailed = -32803;\n    /**\n     * The server cancelled the request. This error code should\n     * only be used for requests that explicitly support being\n     * server cancellable.\n     *\n     * @since 3.17.0\n     */\n    LSPErrorCodes.ServerCancelled = -32802;\n    /**\n     * The server detected that the content of a document got\n     * modified outside normal conditions. A server should\n     * NOT send this error code if it detects a content change\n     * in it unprocessed messages. The result even computed\n     * on an older state might still be useful for the client.\n     *\n     * If a client decides that a result is not of any use anymore\n     * the client should cancel the request.\n     */\n    LSPErrorCodes.ContentModified = -32801;\n    /**\n     * The client has canceled a request and a server as detected\n     * the cancel.\n     */\n    LSPErrorCodes.RequestCancelled = -32800;\n    /**\n    * This is the end range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeEnd = -32800;\n})(LSPErrorCodes = exports.LSPErrorCodes || (exports.LSPErrorCodes = {}));\n//# sourceMappingURL=api.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nfunction createProtocolConnection(input, output, logger, options) {\n    if (vscode_jsonrpc_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return (0, vscode_jsonrpc_1.createMessageConnection)(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n//# sourceMappingURL=connection.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProtocolNotificationType = exports.ProtocolNotificationType0 = exports.ProtocolRequestType = exports.ProtocolRequestType0 = exports.RegistrationType = exports.MessageDirection = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nvar MessageDirection;\n(function (MessageDirection) {\n    MessageDirection[\"clientToServer\"] = \"clientToServer\";\n    MessageDirection[\"serverToClient\"] = \"serverToClient\";\n    MessageDirection[\"both\"] = \"both\";\n})(MessageDirection = exports.MessageDirection || (exports.MessageDirection = {}));\nclass RegistrationType {\n    constructor(method) {\n        this.method = method;\n    }\n}\nexports.RegistrationType = RegistrationType;\nclass ProtocolRequestType0 extends vscode_jsonrpc_1.RequestType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolRequestType0 = ProtocolRequestType0;\nclass ProtocolRequestType extends vscode_jsonrpc_1.RequestType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolRequestType = ProtocolRequestType;\nclass ProtocolNotificationType0 extends vscode_jsonrpc_1.NotificationType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolNotificationType0 = ProtocolNotificationType0;\nclass ProtocolNotificationType extends vscode_jsonrpc_1.NotificationType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolNotificationType = ProtocolNotificationType;\n//# sourceMappingURL=messages.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox, Microsoft and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.CallHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `CallHierarchyItem` in a document at a given position.\n * Can be used as an input to an incoming or outgoing call hierarchy.\n *\n * @since 3.16.0\n */\nvar CallHierarchyPrepareRequest;\n(function (CallHierarchyPrepareRequest) {\n    CallHierarchyPrepareRequest.method = 'textDocument/prepareCallHierarchy';\n    CallHierarchyPrepareRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(CallHierarchyPrepareRequest.method);\n})(CallHierarchyPrepareRequest = exports.CallHierarchyPrepareRequest || (exports.CallHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the incoming calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyIncomingCallsRequest;\n(function (CallHierarchyIncomingCallsRequest) {\n    CallHierarchyIncomingCallsRequest.method = 'callHierarchy/incomingCalls';\n    CallHierarchyIncomingCallsRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyIncomingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyIncomingCallsRequest.method);\n})(CallHierarchyIncomingCallsRequest = exports.CallHierarchyIncomingCallsRequest || (exports.CallHierarchyIncomingCallsRequest = {}));\n/**\n * A request to resolve the outgoing calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyOutgoingCallsRequest;\n(function (CallHierarchyOutgoingCallsRequest) {\n    CallHierarchyOutgoingCallsRequest.method = 'callHierarchy/outgoingCalls';\n    CallHierarchyOutgoingCallsRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyOutgoingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyOutgoingCallsRequest.method);\n})(CallHierarchyOutgoingCallsRequest = exports.CallHierarchyOutgoingCallsRequest || (exports.CallHierarchyOutgoingCallsRequest = {}));\n//# sourceMappingURL=protocol.callHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColorPresentationRequest = exports.DocumentColorRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to list all color symbols found in a given text document. The request's\n * parameter is of type [DocumentColorParams](#DocumentColorParams) the\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\n * that resolves to such.\n */\nvar DocumentColorRequest;\n(function (DocumentColorRequest) {\n    DocumentColorRequest.method = 'textDocument/documentColor';\n    DocumentColorRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentColorRequest.type = new messages_1.ProtocolRequestType(DocumentColorRequest.method);\n})(DocumentColorRequest = exports.DocumentColorRequest || (exports.DocumentColorRequest = {}));\n/**\n * A request to list all presentation for a color. The request's\n * parameter is of type [ColorPresentationParams](#ColorPresentationParams) the\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\n * that resolves to such.\n */\nvar ColorPresentationRequest;\n(function (ColorPresentationRequest) {\n    ColorPresentationRequest.method = 'textDocument/colorPresentation';\n    ColorPresentationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ColorPresentationRequest.type = new messages_1.ProtocolRequestType(ColorPresentationRequest.method);\n})(ColorPresentationRequest = exports.ColorPresentationRequest || (exports.ColorPresentationRequest = {}));\n//# sourceMappingURL=protocol.colorProvider.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigurationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n//---- Get Configuration request ----\n/**\n * The 'workspace/configuration' request is sent from the server to the client to fetch a certain\n * configuration setting.\n *\n * This pull model replaces the old push model were the client signaled configuration change via an\n * event. If the server still needs to react to configuration changes (since the server caches the\n * result of `workspace/configuration` requests) the server should register for an empty configuration\n * change event and empty the cache if such an event is received.\n */\nvar ConfigurationRequest;\n(function (ConfigurationRequest) {\n    ConfigurationRequest.method = 'workspace/configuration';\n    ConfigurationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ConfigurationRequest.type = new messages_1.ProtocolRequestType(ConfigurationRequest.method);\n})(ConfigurationRequest = exports.ConfigurationRequest || (exports.ConfigurationRequest = {}));\n//# sourceMappingURL=protocol.configuration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeclarationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositionParams]\n * (#TextDocumentPositionParams) the response is of type [Declaration](#Declaration)\n * or a typed array of [DeclarationLink](#DeclarationLink) or a Thenable that resolves\n * to such.\n */\nvar DeclarationRequest;\n(function (DeclarationRequest) {\n    DeclarationRequest.method = 'textDocument/declaration';\n    DeclarationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DeclarationRequest.type = new messages_1.ProtocolRequestType(DeclarationRequest.method);\n})(DeclarationRequest = exports.DeclarationRequest || (exports.DeclarationRequest = {}));\n//# sourceMappingURL=protocol.declaration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticRefreshRequest = exports.WorkspaceDiagnosticRequest = exports.DocumentDiagnosticRequest = exports.DocumentDiagnosticReportKind = exports.DiagnosticServerCancellationData = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst Is = require(\"./utils/is\");\nconst messages_1 = require(\"./messages\");\n/**\n * @since 3.17.0\n */\nvar DiagnosticServerCancellationData;\n(function (DiagnosticServerCancellationData) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.retriggerRequest);\n    }\n    DiagnosticServerCancellationData.is = is;\n})(DiagnosticServerCancellationData = exports.DiagnosticServerCancellationData || (exports.DiagnosticServerCancellationData = {}));\n/**\n * The document diagnostic report kinds.\n *\n * @since 3.17.0\n */\nvar DocumentDiagnosticReportKind;\n(function (DocumentDiagnosticReportKind) {\n    /**\n     * A diagnostic report with a full\n     * set of problems.\n     */\n    DocumentDiagnosticReportKind.Full = 'full';\n    /**\n     * A report indicating that the last\n     * returned report is still accurate.\n     */\n    DocumentDiagnosticReportKind.Unchanged = 'unchanged';\n})(DocumentDiagnosticReportKind = exports.DocumentDiagnosticReportKind || (exports.DocumentDiagnosticReportKind = {}));\n/**\n * The document diagnostic request definition.\n *\n * @since 3.17.0\n */\nvar DocumentDiagnosticRequest;\n(function (DocumentDiagnosticRequest) {\n    DocumentDiagnosticRequest.method = 'textDocument/diagnostic';\n    DocumentDiagnosticRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentDiagnosticRequest.type = new messages_1.ProtocolRequestType(DocumentDiagnosticRequest.method);\n    DocumentDiagnosticRequest.partialResult = new vscode_jsonrpc_1.ProgressType();\n})(DocumentDiagnosticRequest = exports.DocumentDiagnosticRequest || (exports.DocumentDiagnosticRequest = {}));\n/**\n * The workspace diagnostic request definition.\n *\n * @since 3.17.0\n */\nvar WorkspaceDiagnosticRequest;\n(function (WorkspaceDiagnosticRequest) {\n    WorkspaceDiagnosticRequest.method = 'workspace/diagnostic';\n    WorkspaceDiagnosticRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceDiagnosticRequest.type = new messages_1.ProtocolRequestType(WorkspaceDiagnosticRequest.method);\n    WorkspaceDiagnosticRequest.partialResult = new vscode_jsonrpc_1.ProgressType();\n})(WorkspaceDiagnosticRequest = exports.WorkspaceDiagnosticRequest || (exports.WorkspaceDiagnosticRequest = {}));\n/**\n * The diagnostic refresh request definition.\n *\n * @since 3.17.0\n */\nvar DiagnosticRefreshRequest;\n(function (DiagnosticRefreshRequest) {\n    DiagnosticRefreshRequest.method = `workspace/diagnostic/refresh`;\n    DiagnosticRefreshRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DiagnosticRefreshRequest.type = new messages_1.ProtocolRequestType0(DiagnosticRefreshRequest.method);\n})(DiagnosticRefreshRequest = exports.DiagnosticRefreshRequest || (exports.DiagnosticRefreshRequest = {}));\n//# sourceMappingURL=protocol.diagnostic.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.DidRenameFilesNotification = exports.WillRenameFilesRequest = exports.DidCreateFilesNotification = exports.WillCreateFilesRequest = exports.FileOperationPatternKind = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A pattern kind describing if a glob pattern matches a file a folder or\n * both.\n *\n * @since 3.16.0\n */\nvar FileOperationPatternKind;\n(function (FileOperationPatternKind) {\n    /**\n     * The pattern matches a file only.\n     */\n    FileOperationPatternKind.file = 'file';\n    /**\n     * The pattern matches a folder only.\n     */\n    FileOperationPatternKind.folder = 'folder';\n})(FileOperationPatternKind = exports.FileOperationPatternKind || (exports.FileOperationPatternKind = {}));\n/**\n * The will create files request is sent from the client to the server before files are actually\n * created as long as the creation is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar WillCreateFilesRequest;\n(function (WillCreateFilesRequest) {\n    WillCreateFilesRequest.method = 'workspace/willCreateFiles';\n    WillCreateFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillCreateFilesRequest.type = new messages_1.ProtocolRequestType(WillCreateFilesRequest.method);\n})(WillCreateFilesRequest = exports.WillCreateFilesRequest || (exports.WillCreateFilesRequest = {}));\n/**\n * The did create files notification is sent from the client to the server when\n * files were created from within the client.\n *\n * @since 3.16.0\n */\nvar DidCreateFilesNotification;\n(function (DidCreateFilesNotification) {\n    DidCreateFilesNotification.method = 'workspace/didCreateFiles';\n    DidCreateFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCreateFilesNotification.type = new messages_1.ProtocolNotificationType(DidCreateFilesNotification.method);\n})(DidCreateFilesNotification = exports.DidCreateFilesNotification || (exports.DidCreateFilesNotification = {}));\n/**\n * The will rename files request is sent from the client to the server before files are actually\n * renamed as long as the rename is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar WillRenameFilesRequest;\n(function (WillRenameFilesRequest) {\n    WillRenameFilesRequest.method = 'workspace/willRenameFiles';\n    WillRenameFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillRenameFilesRequest.type = new messages_1.ProtocolRequestType(WillRenameFilesRequest.method);\n})(WillRenameFilesRequest = exports.WillRenameFilesRequest || (exports.WillRenameFilesRequest = {}));\n/**\n * The did rename files notification is sent from the client to the server when\n * files were renamed from within the client.\n *\n * @since 3.16.0\n */\nvar DidRenameFilesNotification;\n(function (DidRenameFilesNotification) {\n    DidRenameFilesNotification.method = 'workspace/didRenameFiles';\n    DidRenameFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidRenameFilesNotification.type = new messages_1.ProtocolNotificationType(DidRenameFilesNotification.method);\n})(DidRenameFilesNotification = exports.DidRenameFilesNotification || (exports.DidRenameFilesNotification = {}));\n/**\n * The will delete files request is sent from the client to the server before files are actually\n * deleted as long as the deletion is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar DidDeleteFilesNotification;\n(function (DidDeleteFilesNotification) {\n    DidDeleteFilesNotification.method = 'workspace/didDeleteFiles';\n    DidDeleteFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidDeleteFilesNotification.type = new messages_1.ProtocolNotificationType(DidDeleteFilesNotification.method);\n})(DidDeleteFilesNotification = exports.DidDeleteFilesNotification || (exports.DidDeleteFilesNotification = {}));\n/**\n * The did delete files notification is sent from the client to the server when\n * files were deleted from within the client.\n *\n * @since 3.16.0\n */\nvar WillDeleteFilesRequest;\n(function (WillDeleteFilesRequest) {\n    WillDeleteFilesRequest.method = 'workspace/willDeleteFiles';\n    WillDeleteFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillDeleteFilesRequest.type = new messages_1.ProtocolRequestType(WillDeleteFilesRequest.method);\n})(WillDeleteFilesRequest = exports.WillDeleteFilesRequest || (exports.WillDeleteFilesRequest = {}));\n//# sourceMappingURL=protocol.fileOperations.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide folding ranges in a document. The request's\n * parameter is of type [FoldingRangeParams](#FoldingRangeParams), the\n * response is of type [FoldingRangeList](#FoldingRangeList) or a Thenable\n * that resolves to such.\n */\nvar FoldingRangeRequest;\n(function (FoldingRangeRequest) {\n    FoldingRangeRequest.method = 'textDocument/foldingRange';\n    FoldingRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    FoldingRangeRequest.type = new messages_1.ProtocolRequestType(FoldingRangeRequest.method);\n})(FoldingRangeRequest = exports.FoldingRangeRequest || (exports.FoldingRangeRequest = {}));\n//# sourceMappingURL=protocol.foldingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImplementationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the implementation locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositionParams]\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\n * Thenable that resolves to such.\n */\nvar ImplementationRequest;\n(function (ImplementationRequest) {\n    ImplementationRequest.method = 'textDocument/implementation';\n    ImplementationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ImplementationRequest.type = new messages_1.ProtocolRequestType(ImplementationRequest.method);\n})(ImplementationRequest = exports.ImplementationRequest || (exports.ImplementationRequest = {}));\n//# sourceMappingURL=protocol.implementation.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlayHintRefreshRequest = exports.InlayHintResolveRequest = exports.InlayHintRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inlay hints in a document. The request's parameter is of\n * type [InlayHintsParams](#InlayHintsParams), the response is of type\n * [InlayHint[]](#InlayHint[]) or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlayHintRequest;\n(function (InlayHintRequest) {\n    InlayHintRequest.method = 'textDocument/inlayHint';\n    InlayHintRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlayHintRequest.type = new messages_1.ProtocolRequestType(InlayHintRequest.method);\n})(InlayHintRequest = exports.InlayHintRequest || (exports.InlayHintRequest = {}));\n/**\n * A request to resolve additional properties for an inlay hint.\n * The request's parameter is of type [InlayHint](#InlayHint), the response is\n * of type [InlayHint](#InlayHint) or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlayHintResolveRequest;\n(function (InlayHintResolveRequest) {\n    InlayHintResolveRequest.method = 'inlayHint/resolve';\n    InlayHintResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlayHintResolveRequest.type = new messages_1.ProtocolRequestType(InlayHintResolveRequest.method);\n})(InlayHintResolveRequest = exports.InlayHintResolveRequest || (exports.InlayHintResolveRequest = {}));\n/**\n * @since 3.17.0\n */\nvar InlayHintRefreshRequest;\n(function (InlayHintRefreshRequest) {\n    InlayHintRefreshRequest.method = `workspace/inlayHint/refresh`;\n    InlayHintRefreshRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlayHintRefreshRequest.type = new messages_1.ProtocolRequestType0(InlayHintRefreshRequest.method);\n})(InlayHintRefreshRequest = exports.InlayHintRefreshRequest || (exports.InlayHintRefreshRequest = {}));\n//# sourceMappingURL=protocol.inlayHint.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineValueRefreshRequest = exports.InlineValueRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inline values in a document. The request's parameter is of\n * type [InlineValueParams](#InlineValueParams), the response is of type\n * [InlineValue[]](#InlineValue[]) or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlineValueRequest;\n(function (InlineValueRequest) {\n    InlineValueRequest.method = 'textDocument/inlineValue';\n    InlineValueRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlineValueRequest.type = new messages_1.ProtocolRequestType(InlineValueRequest.method);\n})(InlineValueRequest = exports.InlineValueRequest || (exports.InlineValueRequest = {}));\n/**\n * @since 3.17.0\n */\nvar InlineValueRefreshRequest;\n(function (InlineValueRefreshRequest) {\n    InlineValueRefreshRequest.method = `workspace/inlineValue/refresh`;\n    InlineValueRefreshRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlineValueRefreshRequest.type = new messages_1.ProtocolRequestType0(InlineValueRefreshRequest.method);\n})(InlineValueRefreshRequest = exports.InlineValueRefreshRequest || (exports.InlineValueRefreshRequest = {}));\n//# sourceMappingURL=protocol.inlineValue.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceSymbolRequest = exports.CodeActionResolveRequest = exports.CodeActionRequest = exports.DocumentSymbolRequest = exports.DocumentHighlightRequest = exports.ReferencesRequest = exports.DefinitionRequest = exports.SignatureHelpRequest = exports.SignatureHelpTriggerKind = exports.HoverRequest = exports.CompletionResolveRequest = exports.CompletionRequest = exports.CompletionTriggerKind = exports.PublishDiagnosticsNotification = exports.WatchKind = exports.RelativePattern = exports.FileChangeType = exports.DidChangeWatchedFilesNotification = exports.WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentNotification = exports.TextDocumentSaveReason = exports.DidSaveTextDocumentNotification = exports.DidCloseTextDocumentNotification = exports.DidChangeTextDocumentNotification = exports.TextDocumentContentChangeEvent = exports.DidOpenTextDocumentNotification = exports.TextDocumentSyncKind = exports.TelemetryEventNotification = exports.LogMessageNotification = exports.ShowMessageRequest = exports.ShowMessageNotification = exports.MessageType = exports.DidChangeConfigurationNotification = exports.ExitNotification = exports.ShutdownRequest = exports.InitializedNotification = exports.InitializeErrorCodes = exports.InitializeRequest = exports.WorkDoneProgressOptions = exports.TextDocumentRegistrationOptions = exports.StaticRegistrationOptions = exports.PositionEncodingKind = exports.FailureHandlingKind = exports.ResourceOperationKind = exports.UnregistrationRequest = exports.RegistrationRequest = exports.DocumentSelector = exports.NotebookCellTextDocumentFilter = exports.NotebookDocumentFilter = exports.TextDocumentFilter = void 0;\nexports.TypeHierarchySubtypesRequest = exports.TypeHierarchyPrepareRequest = exports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = exports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.WillRenameFilesRequest = exports.DidRenameFilesNotification = exports.WillCreateFilesRequest = exports.DidCreateFilesNotification = exports.FileOperationPatternKind = exports.LinkedEditingRangeRequest = exports.ShowDocumentRequest = exports.SemanticTokensRegistrationType = exports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.TokenFormat = exports.CallHierarchyPrepareRequest = exports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = exports.SelectionRangeRequest = exports.DeclarationRequest = exports.FoldingRangeRequest = exports.ColorPresentationRequest = exports.DocumentColorRequest = exports.ConfigurationRequest = exports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = exports.TypeDefinitionRequest = exports.ImplementationRequest = exports.ApplyWorkspaceEditRequest = exports.ExecuteCommandRequest = exports.PrepareRenameRequest = exports.RenameRequest = exports.PrepareSupportDefaultBehavior = exports.DocumentOnTypeFormattingRequest = exports.DocumentRangeFormattingRequest = exports.DocumentFormattingRequest = exports.DocumentLinkResolveRequest = exports.DocumentLinkRequest = exports.CodeLensRefreshRequest = exports.CodeLensResolveRequest = exports.CodeLensRequest = exports.WorkspaceSymbolResolveRequest = void 0;\nexports.DidCloseNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification = exports.NotebookCellArrayChange = exports.DidOpenNotebookDocumentNotification = exports.NotebookDocumentSyncRegistrationType = exports.NotebookDocument = exports.NotebookCell = exports.ExecutionSummary = exports.NotebookCellKind = exports.DiagnosticRefreshRequest = exports.WorkspaceDiagnosticRequest = exports.DocumentDiagnosticRequest = exports.DocumentDiagnosticReportKind = exports.DiagnosticServerCancellationData = exports.InlayHintRefreshRequest = exports.InlayHintResolveRequest = exports.InlayHintRequest = exports.InlineValueRefreshRequest = exports.InlineValueRequest = exports.TypeHierarchySupertypesRequest = void 0;\nconst messages_1 = require(\"./messages\");\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst Is = require(\"./utils/is\");\nconst protocol_implementation_1 = require(\"./protocol.implementation\");\nObject.defineProperty(exports, \"ImplementationRequest\", { enumerable: true, get: function () { return protocol_implementation_1.ImplementationRequest; } });\nconst protocol_typeDefinition_1 = require(\"./protocol.typeDefinition\");\nObject.defineProperty(exports, \"TypeDefinitionRequest\", { enumerable: true, get: function () { return protocol_typeDefinition_1.TypeDefinitionRequest; } });\nconst protocol_workspaceFolder_1 = require(\"./protocol.workspaceFolder\");\nObject.defineProperty(exports, \"WorkspaceFoldersRequest\", { enumerable: true, get: function () { return protocol_workspaceFolder_1.WorkspaceFoldersRequest; } });\nObject.defineProperty(exports, \"DidChangeWorkspaceFoldersNotification\", { enumerable: true, get: function () { return protocol_workspaceFolder_1.DidChangeWorkspaceFoldersNotification; } });\nconst protocol_configuration_1 = require(\"./protocol.configuration\");\nObject.defineProperty(exports, \"ConfigurationRequest\", { enumerable: true, get: function () { return protocol_configuration_1.ConfigurationRequest; } });\nconst protocol_colorProvider_1 = require(\"./protocol.colorProvider\");\nObject.defineProperty(exports, \"DocumentColorRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.DocumentColorRequest; } });\nObject.defineProperty(exports, \"ColorPresentationRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.ColorPresentationRequest; } });\nconst protocol_foldingRange_1 = require(\"./protocol.foldingRange\");\nObject.defineProperty(exports, \"FoldingRangeRequest\", { enumerable: true, get: function () { return protocol_foldingRange_1.FoldingRangeRequest; } });\nconst protocol_declaration_1 = require(\"./protocol.declaration\");\nObject.defineProperty(exports, \"DeclarationRequest\", { enumerable: true, get: function () { return protocol_declaration_1.DeclarationRequest; } });\nconst protocol_selectionRange_1 = require(\"./protocol.selectionRange\");\nObject.defineProperty(exports, \"SelectionRangeRequest\", { enumerable: true, get: function () { return protocol_selectionRange_1.SelectionRangeRequest; } });\nconst protocol_progress_1 = require(\"./protocol.progress\");\nObject.defineProperty(exports, \"WorkDoneProgress\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgress; } });\nObject.defineProperty(exports, \"WorkDoneProgressCreateRequest\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCreateRequest; } });\nObject.defineProperty(exports, \"WorkDoneProgressCancelNotification\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCancelNotification; } });\nconst protocol_callHierarchy_1 = require(\"./protocol.callHierarchy\");\nObject.defineProperty(exports, \"CallHierarchyIncomingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyIncomingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyOutgoingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyOutgoingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyPrepareRequest; } });\nconst protocol_semanticTokens_1 = require(\"./protocol.semanticTokens\");\nObject.defineProperty(exports, \"TokenFormat\", { enumerable: true, get: function () { return protocol_semanticTokens_1.TokenFormat; } });\nObject.defineProperty(exports, \"SemanticTokensRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRequest; } });\nObject.defineProperty(exports, \"SemanticTokensDeltaRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensDeltaRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRangeRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRangeRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRefreshRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRefreshRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRegistrationType\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRegistrationType; } });\nconst protocol_showDocument_1 = require(\"./protocol.showDocument\");\nObject.defineProperty(exports, \"ShowDocumentRequest\", { enumerable: true, get: function () { return protocol_showDocument_1.ShowDocumentRequest; } });\nconst protocol_linkedEditingRange_1 = require(\"./protocol.linkedEditingRange\");\nObject.defineProperty(exports, \"LinkedEditingRangeRequest\", { enumerable: true, get: function () { return protocol_linkedEditingRange_1.LinkedEditingRangeRequest; } });\nconst protocol_fileOperations_1 = require(\"./protocol.fileOperations\");\nObject.defineProperty(exports, \"FileOperationPatternKind\", { enumerable: true, get: function () { return protocol_fileOperations_1.FileOperationPatternKind; } });\nObject.defineProperty(exports, \"DidCreateFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidCreateFilesNotification; } });\nObject.defineProperty(exports, \"WillCreateFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillCreateFilesRequest; } });\nObject.defineProperty(exports, \"DidRenameFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidRenameFilesNotification; } });\nObject.defineProperty(exports, \"WillRenameFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillRenameFilesRequest; } });\nObject.defineProperty(exports, \"DidDeleteFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidDeleteFilesNotification; } });\nObject.defineProperty(exports, \"WillDeleteFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillDeleteFilesRequest; } });\nconst protocol_moniker_1 = require(\"./protocol.moniker\");\nObject.defineProperty(exports, \"UniquenessLevel\", { enumerable: true, get: function () { return protocol_moniker_1.UniquenessLevel; } });\nObject.defineProperty(exports, \"MonikerKind\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerKind; } });\nObject.defineProperty(exports, \"MonikerRequest\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerRequest; } });\nconst protocol_typeHierarchy_1 = require(\"./protocol.typeHierarchy\");\nObject.defineProperty(exports, \"TypeHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchyPrepareRequest; } });\nObject.defineProperty(exports, \"TypeHierarchySubtypesRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchySubtypesRequest; } });\nObject.defineProperty(exports, \"TypeHierarchySupertypesRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchySupertypesRequest; } });\nconst protocol_inlineValue_1 = require(\"./protocol.inlineValue\");\nObject.defineProperty(exports, \"InlineValueRequest\", { enumerable: true, get: function () { return protocol_inlineValue_1.InlineValueRequest; } });\nObject.defineProperty(exports, \"InlineValueRefreshRequest\", { enumerable: true, get: function () { return protocol_inlineValue_1.InlineValueRefreshRequest; } });\nconst protocol_inlayHint_1 = require(\"./protocol.inlayHint\");\nObject.defineProperty(exports, \"InlayHintRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintRequest; } });\nObject.defineProperty(exports, \"InlayHintResolveRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintResolveRequest; } });\nObject.defineProperty(exports, \"InlayHintRefreshRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintRefreshRequest; } });\nconst protocol_diagnostic_1 = require(\"./protocol.diagnostic\");\nObject.defineProperty(exports, \"DiagnosticServerCancellationData\", { enumerable: true, get: function () { return protocol_diagnostic_1.DiagnosticServerCancellationData; } });\nObject.defineProperty(exports, \"DocumentDiagnosticReportKind\", { enumerable: true, get: function () { return protocol_diagnostic_1.DocumentDiagnosticReportKind; } });\nObject.defineProperty(exports, \"DocumentDiagnosticRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.DocumentDiagnosticRequest; } });\nObject.defineProperty(exports, \"WorkspaceDiagnosticRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.WorkspaceDiagnosticRequest; } });\nObject.defineProperty(exports, \"DiagnosticRefreshRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.DiagnosticRefreshRequest; } });\nconst protocol_notebook_1 = require(\"./protocol.notebook\");\nObject.defineProperty(exports, \"NotebookCellKind\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCellKind; } });\nObject.defineProperty(exports, \"ExecutionSummary\", { enumerable: true, get: function () { return protocol_notebook_1.ExecutionSummary; } });\nObject.defineProperty(exports, \"NotebookCell\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCell; } });\nObject.defineProperty(exports, \"NotebookDocument\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookDocument; } });\nObject.defineProperty(exports, \"NotebookDocumentSyncRegistrationType\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookDocumentSyncRegistrationType; } });\nObject.defineProperty(exports, \"DidOpenNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidOpenNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"NotebookCellArrayChange\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCellArrayChange; } });\nObject.defineProperty(exports, \"DidChangeNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidChangeNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"DidSaveNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidSaveNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"DidCloseNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidCloseNotebookDocumentNotification; } });\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * The TextDocumentFilter namespace provides helper functions to work with\n * [TextDocumentFilter](#TextDocumentFilter) literals.\n *\n * @since 3.17.0\n */\nvar TextDocumentFilter;\n(function (TextDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate.language) || Is.string(candidate.scheme) || Is.string(candidate.pattern);\n    }\n    TextDocumentFilter.is = is;\n})(TextDocumentFilter = exports.TextDocumentFilter || (exports.TextDocumentFilter = {}));\n/**\n * The NotebookDocumentFilter namespace provides helper functions to work with\n * [NotebookDocumentFilter](#NotebookDocumentFilter) literals.\n *\n * @since 3.17.0\n */\nvar NotebookDocumentFilter;\n(function (NotebookDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (Is.string(candidate.notebookType) || Is.string(candidate.scheme) || Is.string(candidate.pattern));\n    }\n    NotebookDocumentFilter.is = is;\n})(NotebookDocumentFilter = exports.NotebookDocumentFilter || (exports.NotebookDocumentFilter = {}));\n/**\n * The NotebookCellTextDocumentFilter namespace provides helper functions to work with\n * [NotebookCellTextDocumentFilter](#NotebookCellTextDocumentFilter) literals.\n *\n * @since 3.17.0\n */\nvar NotebookCellTextDocumentFilter;\n(function (NotebookCellTextDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate)\n            && (Is.string(candidate.notebook) || NotebookDocumentFilter.is(candidate.notebook))\n            && (candidate.language === undefined || Is.string(candidate.language));\n    }\n    NotebookCellTextDocumentFilter.is = is;\n})(NotebookCellTextDocumentFilter = exports.NotebookCellTextDocumentFilter || (exports.NotebookCellTextDocumentFilter = {}));\n/**\n * The DocumentSelector namespace provides helper functions to work with\n * [DocumentSelector](#DocumentSelector)s.\n */\nvar DocumentSelector;\n(function (DocumentSelector) {\n    function is(value) {\n        if (!Array.isArray(value)) {\n            return false;\n        }\n        for (let elem of value) {\n            if (!Is.string(elem) && !TextDocumentFilter.is(elem) && !NotebookCellTextDocumentFilter.is(elem)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    DocumentSelector.is = is;\n})(DocumentSelector = exports.DocumentSelector || (exports.DocumentSelector = {}));\n/**\n * The `client/registerCapability` request is sent from the server to the client to register a new capability\n * handler on the client side.\n */\nvar RegistrationRequest;\n(function (RegistrationRequest) {\n    RegistrationRequest.method = 'client/registerCapability';\n    RegistrationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    RegistrationRequest.type = new messages_1.ProtocolRequestType(RegistrationRequest.method);\n})(RegistrationRequest = exports.RegistrationRequest || (exports.RegistrationRequest = {}));\n/**\n * The `client/unregisterCapability` request is sent from the server to the client to unregister a previously registered capability\n * handler on the client side.\n */\nvar UnregistrationRequest;\n(function (UnregistrationRequest) {\n    UnregistrationRequest.method = 'client/unregisterCapability';\n    UnregistrationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    UnregistrationRequest.type = new messages_1.ProtocolRequestType(UnregistrationRequest.method);\n})(UnregistrationRequest = exports.UnregistrationRequest || (exports.UnregistrationRequest = {}));\nvar ResourceOperationKind;\n(function (ResourceOperationKind) {\n    /**\n     * Supports creating new files and folders.\n     */\n    ResourceOperationKind.Create = 'create';\n    /**\n     * Supports renaming existing files and folders.\n     */\n    ResourceOperationKind.Rename = 'rename';\n    /**\n     * Supports deleting existing files and folders.\n     */\n    ResourceOperationKind.Delete = 'delete';\n})(ResourceOperationKind = exports.ResourceOperationKind || (exports.ResourceOperationKind = {}));\nvar FailureHandlingKind;\n(function (FailureHandlingKind) {\n    /**\n     * Applying the workspace change is simply aborted if one of the changes provided\n     * fails. All operations executed before the failing operation stay executed.\n     */\n    FailureHandlingKind.Abort = 'abort';\n    /**\n     * All operations are executed transactional. That means they either all\n     * succeed or no changes at all are applied to the workspace.\n     */\n    FailureHandlingKind.Transactional = 'transactional';\n    /**\n     * If the workspace edit contains only textual file changes they are executed transactional.\n     * If resource changes (create, rename or delete file) are part of the change the failure\n     * handling strategy is abort.\n     */\n    FailureHandlingKind.TextOnlyTransactional = 'textOnlyTransactional';\n    /**\n     * The client tries to undo the operations already executed. But there is no\n     * guarantee that this is succeeding.\n     */\n    FailureHandlingKind.Undo = 'undo';\n})(FailureHandlingKind = exports.FailureHandlingKind || (exports.FailureHandlingKind = {}));\n/**\n * A set of predefined position encoding kinds.\n *\n * @since 3.17.0\n */\nvar PositionEncodingKind;\n(function (PositionEncodingKind) {\n    /**\n     * Character offsets count UTF-8 code units.\n     */\n    PositionEncodingKind.UTF8 = 'utf-8';\n    /**\n     * Character offsets count UTF-16 code units.\n     *\n     * This is the default and must always be supported\n     * by servers\n     */\n    PositionEncodingKind.UTF16 = 'utf-16';\n    /**\n     * Character offsets count UTF-32 code units.\n     *\n     * Implementation note: these are the same as Unicode code points,\n     * so this `PositionEncodingKind` may also be used for an\n     * encoding-agnostic representation of character offsets.\n     */\n    PositionEncodingKind.UTF32 = 'utf-32';\n})(PositionEncodingKind = exports.PositionEncodingKind || (exports.PositionEncodingKind = {}));\n/**\n * The StaticRegistrationOptions namespace provides helper functions to work with\n * [StaticRegistrationOptions](#StaticRegistrationOptions) literals.\n */\nvar StaticRegistrationOptions;\n(function (StaticRegistrationOptions) {\n    function hasId(value) {\n        const candidate = value;\n        return candidate && Is.string(candidate.id) && candidate.id.length > 0;\n    }\n    StaticRegistrationOptions.hasId = hasId;\n})(StaticRegistrationOptions = exports.StaticRegistrationOptions || (exports.StaticRegistrationOptions = {}));\n/**\n * The TextDocumentRegistrationOptions namespace provides helper functions to work with\n * [TextDocumentRegistrationOptions](#TextDocumentRegistrationOptions) literals.\n */\nvar TextDocumentRegistrationOptions;\n(function (TextDocumentRegistrationOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate.documentSelector === null || DocumentSelector.is(candidate.documentSelector));\n    }\n    TextDocumentRegistrationOptions.is = is;\n})(TextDocumentRegistrationOptions = exports.TextDocumentRegistrationOptions || (exports.TextDocumentRegistrationOptions = {}));\n/**\n * The WorkDoneProgressOptions namespace provides helper functions to work with\n * [WorkDoneProgressOptions](#WorkDoneProgressOptions) literals.\n */\nvar WorkDoneProgressOptions;\n(function (WorkDoneProgressOptions) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.workDoneProgress === undefined || Is.boolean(candidate.workDoneProgress));\n    }\n    WorkDoneProgressOptions.is = is;\n    function hasWorkDoneProgress(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.workDoneProgress);\n    }\n    WorkDoneProgressOptions.hasWorkDoneProgress = hasWorkDoneProgress;\n})(WorkDoneProgressOptions = exports.WorkDoneProgressOptions || (exports.WorkDoneProgressOptions = {}));\n/**\n * The initialize request is sent from the client to the server.\n * It is sent once as the request after starting up the server.\n * The requests parameter is of type [InitializeParams](#InitializeParams)\n * the response if of type [InitializeResult](#InitializeResult) of a Thenable that\n * resolves to such.\n */\nvar InitializeRequest;\n(function (InitializeRequest) {\n    InitializeRequest.method = 'initialize';\n    InitializeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InitializeRequest.type = new messages_1.ProtocolRequestType(InitializeRequest.method);\n})(InitializeRequest = exports.InitializeRequest || (exports.InitializeRequest = {}));\n/**\n * Known error codes for an `InitializeErrorCodes`;\n */\nvar InitializeErrorCodes;\n(function (InitializeErrorCodes) {\n    /**\n     * If the protocol version provided by the client can't be handled by the server.\n     *\n     * @deprecated This initialize error got replaced by client capabilities. There is\n     * no version handshake in version 3.0x\n     */\n    InitializeErrorCodes.unknownProtocolVersion = 1;\n})(InitializeErrorCodes = exports.InitializeErrorCodes || (exports.InitializeErrorCodes = {}));\n/**\n * The initialized notification is sent from the client to the\n * server after the client is fully initialized and the server\n * is allowed to send requests from the server to the client.\n */\nvar InitializedNotification;\n(function (InitializedNotification) {\n    InitializedNotification.method = 'initialized';\n    InitializedNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    InitializedNotification.type = new messages_1.ProtocolNotificationType(InitializedNotification.method);\n})(InitializedNotification = exports.InitializedNotification || (exports.InitializedNotification = {}));\n//---- Shutdown Method ----\n/**\n * A shutdown request is sent from the client to the server.\n * It is sent once when the client decides to shutdown the\n * server. The only notification that is sent after a shutdown request\n * is the exit event.\n */\nvar ShutdownRequest;\n(function (ShutdownRequest) {\n    ShutdownRequest.method = 'shutdown';\n    ShutdownRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ShutdownRequest.type = new messages_1.ProtocolRequestType0(ShutdownRequest.method);\n})(ShutdownRequest = exports.ShutdownRequest || (exports.ShutdownRequest = {}));\n//---- Exit Notification ----\n/**\n * The exit event is sent from the client to the server to\n * ask the server to exit its process.\n */\nvar ExitNotification;\n(function (ExitNotification) {\n    ExitNotification.method = 'exit';\n    ExitNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    ExitNotification.type = new messages_1.ProtocolNotificationType0(ExitNotification.method);\n})(ExitNotification = exports.ExitNotification || (exports.ExitNotification = {}));\n/**\n * The configuration change notification is sent from the client to the server\n * when the client's configuration has changed. The notification contains\n * the changed configuration as defined by the language client.\n */\nvar DidChangeConfigurationNotification;\n(function (DidChangeConfigurationNotification) {\n    DidChangeConfigurationNotification.method = 'workspace/didChangeConfiguration';\n    DidChangeConfigurationNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeConfigurationNotification.type = new messages_1.ProtocolNotificationType(DidChangeConfigurationNotification.method);\n})(DidChangeConfigurationNotification = exports.DidChangeConfigurationNotification || (exports.DidChangeConfigurationNotification = {}));\n//---- Message show and log notifications ----\n/**\n * The message type\n */\nvar MessageType;\n(function (MessageType) {\n    /**\n     * An error message.\n     */\n    MessageType.Error = 1;\n    /**\n     * A warning message.\n     */\n    MessageType.Warning = 2;\n    /**\n     * An information message.\n     */\n    MessageType.Info = 3;\n    /**\n     * A log message.\n     */\n    MessageType.Log = 4;\n})(MessageType = exports.MessageType || (exports.MessageType = {}));\n/**\n * The show message notification is sent from a server to a client to ask\n * the client to display a particular message in the user interface.\n */\nvar ShowMessageNotification;\n(function (ShowMessageNotification) {\n    ShowMessageNotification.method = 'window/showMessage';\n    ShowMessageNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowMessageNotification.type = new messages_1.ProtocolNotificationType(ShowMessageNotification.method);\n})(ShowMessageNotification = exports.ShowMessageNotification || (exports.ShowMessageNotification = {}));\n/**\n * The show message request is sent from the server to the client to show a message\n * and a set of options actions to the user.\n */\nvar ShowMessageRequest;\n(function (ShowMessageRequest) {\n    ShowMessageRequest.method = 'window/showMessageRequest';\n    ShowMessageRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowMessageRequest.type = new messages_1.ProtocolRequestType(ShowMessageRequest.method);\n})(ShowMessageRequest = exports.ShowMessageRequest || (exports.ShowMessageRequest = {}));\n/**\n * The log message notification is sent from the server to the client to ask\n * the client to log a particular message.\n */\nvar LogMessageNotification;\n(function (LogMessageNotification) {\n    LogMessageNotification.method = 'window/logMessage';\n    LogMessageNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    LogMessageNotification.type = new messages_1.ProtocolNotificationType(LogMessageNotification.method);\n})(LogMessageNotification = exports.LogMessageNotification || (exports.LogMessageNotification = {}));\n//---- Telemetry notification\n/**\n * The telemetry event notification is sent from the server to the client to ask\n * the client to log telemetry data.\n */\nvar TelemetryEventNotification;\n(function (TelemetryEventNotification) {\n    TelemetryEventNotification.method = 'telemetry/event';\n    TelemetryEventNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    TelemetryEventNotification.type = new messages_1.ProtocolNotificationType(TelemetryEventNotification.method);\n})(TelemetryEventNotification = exports.TelemetryEventNotification || (exports.TelemetryEventNotification = {}));\n/**\n * Defines how the host (editor) should sync\n * document changes to the language server.\n */\nvar TextDocumentSyncKind;\n(function (TextDocumentSyncKind) {\n    /**\n     * Documents should not be synced at all.\n     */\n    TextDocumentSyncKind.None = 0;\n    /**\n     * Documents are synced by always sending the full content\n     * of the document.\n     */\n    TextDocumentSyncKind.Full = 1;\n    /**\n     * Documents are synced by sending the full content on open.\n     * After that only incremental updates to the document are\n     * send.\n     */\n    TextDocumentSyncKind.Incremental = 2;\n})(TextDocumentSyncKind = exports.TextDocumentSyncKind || (exports.TextDocumentSyncKind = {}));\n/**\n * The document open notification is sent from the client to the server to signal\n * newly opened text documents. The document's truth is now managed by the client\n * and the server must not try to read the document's truth using the document's\n * uri. Open in this sense means it is managed by the client. It doesn't necessarily\n * mean that its content is presented in an editor. An open notification must not\n * be sent more than once without a corresponding close notification send before.\n * This means open and close notification must be balanced and the max open count\n * is one.\n */\nvar DidOpenTextDocumentNotification;\n(function (DidOpenTextDocumentNotification) {\n    DidOpenTextDocumentNotification.method = 'textDocument/didOpen';\n    DidOpenTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidOpenTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenTextDocumentNotification.method);\n})(DidOpenTextDocumentNotification = exports.DidOpenTextDocumentNotification || (exports.DidOpenTextDocumentNotification = {}));\nvar TextDocumentContentChangeEvent;\n(function (TextDocumentContentChangeEvent) {\n    /**\n     * Checks whether the information describes a delta event.\n     */\n    function isIncremental(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    }\n    TextDocumentContentChangeEvent.isIncremental = isIncremental;\n    /**\n     * Checks whether the information describes a full replacement event.\n     */\n    function isFull(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    }\n    TextDocumentContentChangeEvent.isFull = isFull;\n})(TextDocumentContentChangeEvent = exports.TextDocumentContentChangeEvent || (exports.TextDocumentContentChangeEvent = {}));\n/**\n * The document change notification is sent from the client to the server to signal\n * changes to a text document.\n */\nvar DidChangeTextDocumentNotification;\n(function (DidChangeTextDocumentNotification) {\n    DidChangeTextDocumentNotification.method = 'textDocument/didChange';\n    DidChangeTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeTextDocumentNotification.method);\n})(DidChangeTextDocumentNotification = exports.DidChangeTextDocumentNotification || (exports.DidChangeTextDocumentNotification = {}));\n/**\n * The document close notification is sent from the client to the server when\n * the document got closed in the client. The document's truth now exists where\n * the document's uri points to (e.g. if the document's uri is a file uri the\n * truth now exists on disk). As with the open notification the close notification\n * is about managing the document's content. Receiving a close notification\n * doesn't mean that the document was open in an editor before. A close\n * notification requires a previous open notification to be sent.\n */\nvar DidCloseTextDocumentNotification;\n(function (DidCloseTextDocumentNotification) {\n    DidCloseTextDocumentNotification.method = 'textDocument/didClose';\n    DidCloseTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCloseTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseTextDocumentNotification.method);\n})(DidCloseTextDocumentNotification = exports.DidCloseTextDocumentNotification || (exports.DidCloseTextDocumentNotification = {}));\n/**\n * The document save notification is sent from the client to the server when\n * the document got saved in the client.\n */\nvar DidSaveTextDocumentNotification;\n(function (DidSaveTextDocumentNotification) {\n    DidSaveTextDocumentNotification.method = 'textDocument/didSave';\n    DidSaveTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveTextDocumentNotification.method);\n})(DidSaveTextDocumentNotification = exports.DidSaveTextDocumentNotification || (exports.DidSaveTextDocumentNotification = {}));\n/**\n * Represents reasons why a text document is saved.\n */\nvar TextDocumentSaveReason;\n(function (TextDocumentSaveReason) {\n    /**\n     * Manually triggered, e.g. by the user pressing save, by starting debugging,\n     * or by an API call.\n     */\n    TextDocumentSaveReason.Manual = 1;\n    /**\n     * Automatic after a delay.\n     */\n    TextDocumentSaveReason.AfterDelay = 2;\n    /**\n     * When the editor lost focus.\n     */\n    TextDocumentSaveReason.FocusOut = 3;\n})(TextDocumentSaveReason = exports.TextDocumentSaveReason || (exports.TextDocumentSaveReason = {}));\n/**\n * A document will save notification is sent from the client to the server before\n * the document is actually saved.\n */\nvar WillSaveTextDocumentNotification;\n(function (WillSaveTextDocumentNotification) {\n    WillSaveTextDocumentNotification.method = 'textDocument/willSave';\n    WillSaveTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(WillSaveTextDocumentNotification.method);\n})(WillSaveTextDocumentNotification = exports.WillSaveTextDocumentNotification || (exports.WillSaveTextDocumentNotification = {}));\n/**\n * A document will save request is sent from the client to the server before\n * the document is actually saved. The request can return an array of TextEdits\n * which will be applied to the text document before it is saved. Please note that\n * clients might drop results if computing the text edits took too long or if a\n * server constantly fails on this request. This is done to keep the save fast and\n * reliable.\n */\nvar WillSaveTextDocumentWaitUntilRequest;\n(function (WillSaveTextDocumentWaitUntilRequest) {\n    WillSaveTextDocumentWaitUntilRequest.method = 'textDocument/willSaveWaitUntil';\n    WillSaveTextDocumentWaitUntilRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillSaveTextDocumentWaitUntilRequest.type = new messages_1.ProtocolRequestType(WillSaveTextDocumentWaitUntilRequest.method);\n})(WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentWaitUntilRequest || (exports.WillSaveTextDocumentWaitUntilRequest = {}));\n/**\n * The watched files notification is sent from the client to the server when\n * the client detects changes to file watched by the language client.\n */\nvar DidChangeWatchedFilesNotification;\n(function (DidChangeWatchedFilesNotification) {\n    DidChangeWatchedFilesNotification.method = 'workspace/didChangeWatchedFiles';\n    DidChangeWatchedFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeWatchedFilesNotification.type = new messages_1.ProtocolNotificationType(DidChangeWatchedFilesNotification.method);\n})(DidChangeWatchedFilesNotification = exports.DidChangeWatchedFilesNotification || (exports.DidChangeWatchedFilesNotification = {}));\n/**\n * The file event type\n */\nvar FileChangeType;\n(function (FileChangeType) {\n    /**\n     * The file got created.\n     */\n    FileChangeType.Created = 1;\n    /**\n     * The file got changed.\n     */\n    FileChangeType.Changed = 2;\n    /**\n     * The file got deleted.\n     */\n    FileChangeType.Deleted = 3;\n})(FileChangeType = exports.FileChangeType || (exports.FileChangeType = {}));\nvar RelativePattern;\n(function (RelativePattern) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (vscode_languageserver_types_1.URI.is(candidate.baseUri) || vscode_languageserver_types_1.WorkspaceFolder.is(candidate.baseUri)) && Is.string(candidate.pattern);\n    }\n    RelativePattern.is = is;\n})(RelativePattern = exports.RelativePattern || (exports.RelativePattern = {}));\nvar WatchKind;\n(function (WatchKind) {\n    /**\n     * Interested in create events.\n     */\n    WatchKind.Create = 1;\n    /**\n     * Interested in change events\n     */\n    WatchKind.Change = 2;\n    /**\n     * Interested in delete events\n     */\n    WatchKind.Delete = 4;\n})(WatchKind = exports.WatchKind || (exports.WatchKind = {}));\n/**\n * Diagnostics notification are sent from the server to the client to signal\n * results of validation runs.\n */\nvar PublishDiagnosticsNotification;\n(function (PublishDiagnosticsNotification) {\n    PublishDiagnosticsNotification.method = 'textDocument/publishDiagnostics';\n    PublishDiagnosticsNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    PublishDiagnosticsNotification.type = new messages_1.ProtocolNotificationType(PublishDiagnosticsNotification.method);\n})(PublishDiagnosticsNotification = exports.PublishDiagnosticsNotification || (exports.PublishDiagnosticsNotification = {}));\n/**\n * How a completion was triggered\n */\nvar CompletionTriggerKind;\n(function (CompletionTriggerKind) {\n    /**\n     * Completion was triggered by typing an identifier (24x7 code\n     * complete), manual invocation (e.g Ctrl+Space) or via API.\n     */\n    CompletionTriggerKind.Invoked = 1;\n    /**\n     * Completion was triggered by a trigger character specified by\n     * the `triggerCharacters` properties of the `CompletionRegistrationOptions`.\n     */\n    CompletionTriggerKind.TriggerCharacter = 2;\n    /**\n     * Completion was re-triggered as current completion list is incomplete\n     */\n    CompletionTriggerKind.TriggerForIncompleteCompletions = 3;\n})(CompletionTriggerKind = exports.CompletionTriggerKind || (exports.CompletionTriggerKind = {}));\n/**\n * Request to request completion at a given text document position. The request's\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response\n * is of type [CompletionItem[]](#CompletionItem) or [CompletionList](#CompletionList)\n * or a Thenable that resolves to such.\n *\n * The request can delay the computation of the [`detail`](#CompletionItem.detail)\n * and [`documentation`](#CompletionItem.documentation) properties to the `completionItem/resolve`\n * request. However, properties that are needed for the initial sorting and filtering, like `sortText`,\n * `filterText`, `insertText`, and `textEdit`, must not be changed during resolve.\n */\nvar CompletionRequest;\n(function (CompletionRequest) {\n    CompletionRequest.method = 'textDocument/completion';\n    CompletionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CompletionRequest.type = new messages_1.ProtocolRequestType(CompletionRequest.method);\n})(CompletionRequest = exports.CompletionRequest || (exports.CompletionRequest = {}));\n/**\n * Request to resolve additional information for a given completion item.The request's\n * parameter is of type [CompletionItem](#CompletionItem) the response\n * is of type [CompletionItem](#CompletionItem) or a Thenable that resolves to such.\n */\nvar CompletionResolveRequest;\n(function (CompletionResolveRequest) {\n    CompletionResolveRequest.method = 'completionItem/resolve';\n    CompletionResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CompletionResolveRequest.type = new messages_1.ProtocolRequestType(CompletionResolveRequest.method);\n})(CompletionResolveRequest = exports.CompletionResolveRequest || (exports.CompletionResolveRequest = {}));\n/**\n * Request to request hover information at a given text document position. The request's\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response is of\n * type [Hover](#Hover) or a Thenable that resolves to such.\n */\nvar HoverRequest;\n(function (HoverRequest) {\n    HoverRequest.method = 'textDocument/hover';\n    HoverRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    HoverRequest.type = new messages_1.ProtocolRequestType(HoverRequest.method);\n})(HoverRequest = exports.HoverRequest || (exports.HoverRequest = {}));\n/**\n * How a signature help was triggered.\n *\n * @since 3.15.0\n */\nvar SignatureHelpTriggerKind;\n(function (SignatureHelpTriggerKind) {\n    /**\n     * Signature help was invoked manually by the user or by a command.\n     */\n    SignatureHelpTriggerKind.Invoked = 1;\n    /**\n     * Signature help was triggered by a trigger character.\n     */\n    SignatureHelpTriggerKind.TriggerCharacter = 2;\n    /**\n     * Signature help was triggered by the cursor moving or by the document content changing.\n     */\n    SignatureHelpTriggerKind.ContentChange = 3;\n})(SignatureHelpTriggerKind = exports.SignatureHelpTriggerKind || (exports.SignatureHelpTriggerKind = {}));\nvar SignatureHelpRequest;\n(function (SignatureHelpRequest) {\n    SignatureHelpRequest.method = 'textDocument/signatureHelp';\n    SignatureHelpRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SignatureHelpRequest.type = new messages_1.ProtocolRequestType(SignatureHelpRequest.method);\n})(SignatureHelpRequest = exports.SignatureHelpRequest || (exports.SignatureHelpRequest = {}));\n/**\n * A request to resolve the definition location of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPosition]\n * (#TextDocumentPosition) the response is of either type [Definition](#Definition)\n * or a typed array of [DefinitionLink](#DefinitionLink) or a Thenable that resolves\n * to such.\n */\nvar DefinitionRequest;\n(function (DefinitionRequest) {\n    DefinitionRequest.method = 'textDocument/definition';\n    DefinitionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DefinitionRequest.type = new messages_1.ProtocolRequestType(DefinitionRequest.method);\n})(DefinitionRequest = exports.DefinitionRequest || (exports.DefinitionRequest = {}));\n/**\n * A request to resolve project-wide references for the symbol denoted\n * by the given text document position. The request's parameter is of\n * type [ReferenceParams](#ReferenceParams) the response is of type\n * [Location[]](#Location) or a Thenable that resolves to such.\n */\nvar ReferencesRequest;\n(function (ReferencesRequest) {\n    ReferencesRequest.method = 'textDocument/references';\n    ReferencesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ReferencesRequest.type = new messages_1.ProtocolRequestType(ReferencesRequest.method);\n})(ReferencesRequest = exports.ReferencesRequest || (exports.ReferencesRequest = {}));\n/**\n * Request to resolve a [DocumentHighlight](#DocumentHighlight) for a given\n * text document position. The request's parameter is of type [TextDocumentPosition]\n * (#TextDocumentPosition) the request response is of type [DocumentHighlight[]]\n * (#DocumentHighlight) or a Thenable that resolves to such.\n */\nvar DocumentHighlightRequest;\n(function (DocumentHighlightRequest) {\n    DocumentHighlightRequest.method = 'textDocument/documentHighlight';\n    DocumentHighlightRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentHighlightRequest.type = new messages_1.ProtocolRequestType(DocumentHighlightRequest.method);\n})(DocumentHighlightRequest = exports.DocumentHighlightRequest || (exports.DocumentHighlightRequest = {}));\n/**\n * A request to list all symbols found in a given text document. The request's\n * parameter is of type [TextDocumentIdentifier](#TextDocumentIdentifier) the\n * response is of type [SymbolInformation[]](#SymbolInformation) or a Thenable\n * that resolves to such.\n */\nvar DocumentSymbolRequest;\n(function (DocumentSymbolRequest) {\n    DocumentSymbolRequest.method = 'textDocument/documentSymbol';\n    DocumentSymbolRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentSymbolRequest.type = new messages_1.ProtocolRequestType(DocumentSymbolRequest.method);\n})(DocumentSymbolRequest = exports.DocumentSymbolRequest || (exports.DocumentSymbolRequest = {}));\n/**\n * A request to provide commands for the given text document and range.\n */\nvar CodeActionRequest;\n(function (CodeActionRequest) {\n    CodeActionRequest.method = 'textDocument/codeAction';\n    CodeActionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeActionRequest.type = new messages_1.ProtocolRequestType(CodeActionRequest.method);\n})(CodeActionRequest = exports.CodeActionRequest || (exports.CodeActionRequest = {}));\n/**\n * Request to resolve additional information for a given code action.The request's\n * parameter is of type [CodeAction](#CodeAction) the response\n * is of type [CodeAction](#CodeAction) or a Thenable that resolves to such.\n */\nvar CodeActionResolveRequest;\n(function (CodeActionResolveRequest) {\n    CodeActionResolveRequest.method = 'codeAction/resolve';\n    CodeActionResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeActionResolveRequest.type = new messages_1.ProtocolRequestType(CodeActionResolveRequest.method);\n})(CodeActionResolveRequest = exports.CodeActionResolveRequest || (exports.CodeActionResolveRequest = {}));\n/**\n * A request to list project-wide symbols matching the query string given\n * by the [WorkspaceSymbolParams](#WorkspaceSymbolParams). The response is\n * of type [SymbolInformation[]](#SymbolInformation) or a Thenable that\n * resolves to such.\n *\n * @since 3.17.0 - support for WorkspaceSymbol in the returned data. Clients\n *  need to advertise support for WorkspaceSymbols via the client capability\n *  `workspace.symbol.resolveSupport`.\n *\n */\nvar WorkspaceSymbolRequest;\n(function (WorkspaceSymbolRequest) {\n    WorkspaceSymbolRequest.method = 'workspace/symbol';\n    WorkspaceSymbolRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceSymbolRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolRequest.method);\n})(WorkspaceSymbolRequest = exports.WorkspaceSymbolRequest || (exports.WorkspaceSymbolRequest = {}));\n/**\n * A request to resolve the range inside the workspace\n * symbol's location.\n *\n * @since 3.17.0\n */\nvar WorkspaceSymbolResolveRequest;\n(function (WorkspaceSymbolResolveRequest) {\n    WorkspaceSymbolResolveRequest.method = 'workspaceSymbol/resolve';\n    WorkspaceSymbolResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceSymbolResolveRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolResolveRequest.method);\n})(WorkspaceSymbolResolveRequest = exports.WorkspaceSymbolResolveRequest || (exports.WorkspaceSymbolResolveRequest = {}));\n/**\n * A request to provide code lens for the given text document.\n */\nvar CodeLensRequest;\n(function (CodeLensRequest) {\n    CodeLensRequest.method = 'textDocument/codeLens';\n    CodeLensRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeLensRequest.type = new messages_1.ProtocolRequestType(CodeLensRequest.method);\n})(CodeLensRequest = exports.CodeLensRequest || (exports.CodeLensRequest = {}));\n/**\n * A request to resolve a command for a given code lens.\n */\nvar CodeLensResolveRequest;\n(function (CodeLensResolveRequest) {\n    CodeLensResolveRequest.method = 'codeLens/resolve';\n    CodeLensResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeLensResolveRequest.type = new messages_1.ProtocolRequestType(CodeLensResolveRequest.method);\n})(CodeLensResolveRequest = exports.CodeLensResolveRequest || (exports.CodeLensResolveRequest = {}));\n/**\n * A request to refresh all code actions\n *\n * @since 3.16.0\n */\nvar CodeLensRefreshRequest;\n(function (CodeLensRefreshRequest) {\n    CodeLensRefreshRequest.method = `workspace/codeLens/refresh`;\n    CodeLensRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    CodeLensRefreshRequest.type = new messages_1.ProtocolRequestType0(CodeLensRefreshRequest.method);\n})(CodeLensRefreshRequest = exports.CodeLensRefreshRequest || (exports.CodeLensRefreshRequest = {}));\n/**\n * A request to provide document links\n */\nvar DocumentLinkRequest;\n(function (DocumentLinkRequest) {\n    DocumentLinkRequest.method = 'textDocument/documentLink';\n    DocumentLinkRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentLinkRequest.type = new messages_1.ProtocolRequestType(DocumentLinkRequest.method);\n})(DocumentLinkRequest = exports.DocumentLinkRequest || (exports.DocumentLinkRequest = {}));\n/**\n * Request to resolve additional information for a given document link. The request's\n * parameter is of type [DocumentLink](#DocumentLink) the response\n * is of type [DocumentLink](#DocumentLink) or a Thenable that resolves to such.\n */\nvar DocumentLinkResolveRequest;\n(function (DocumentLinkResolveRequest) {\n    DocumentLinkResolveRequest.method = 'documentLink/resolve';\n    DocumentLinkResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentLinkResolveRequest.type = new messages_1.ProtocolRequestType(DocumentLinkResolveRequest.method);\n})(DocumentLinkResolveRequest = exports.DocumentLinkResolveRequest || (exports.DocumentLinkResolveRequest = {}));\n/**\n * A request to to format a whole document.\n */\nvar DocumentFormattingRequest;\n(function (DocumentFormattingRequest) {\n    DocumentFormattingRequest.method = 'textDocument/formatting';\n    DocumentFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentFormattingRequest.method);\n})(DocumentFormattingRequest = exports.DocumentFormattingRequest || (exports.DocumentFormattingRequest = {}));\n/**\n * A request to to format a range in a document.\n */\nvar DocumentRangeFormattingRequest;\n(function (DocumentRangeFormattingRequest) {\n    DocumentRangeFormattingRequest.method = 'textDocument/rangeFormatting';\n    DocumentRangeFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentRangeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentRangeFormattingRequest.method);\n})(DocumentRangeFormattingRequest = exports.DocumentRangeFormattingRequest || (exports.DocumentRangeFormattingRequest = {}));\n/**\n * A request to format a document on type.\n */\nvar DocumentOnTypeFormattingRequest;\n(function (DocumentOnTypeFormattingRequest) {\n    DocumentOnTypeFormattingRequest.method = 'textDocument/onTypeFormatting';\n    DocumentOnTypeFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentOnTypeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentOnTypeFormattingRequest.method);\n})(DocumentOnTypeFormattingRequest = exports.DocumentOnTypeFormattingRequest || (exports.DocumentOnTypeFormattingRequest = {}));\n//---- Rename ----------------------------------------------\nvar PrepareSupportDefaultBehavior;\n(function (PrepareSupportDefaultBehavior) {\n    /**\n     * The client's default behavior is to select the identifier\n     * according the to language's syntax rule.\n     */\n    PrepareSupportDefaultBehavior.Identifier = 1;\n})(PrepareSupportDefaultBehavior = exports.PrepareSupportDefaultBehavior || (exports.PrepareSupportDefaultBehavior = {}));\n/**\n * A request to rename a symbol.\n */\nvar RenameRequest;\n(function (RenameRequest) {\n    RenameRequest.method = 'textDocument/rename';\n    RenameRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    RenameRequest.type = new messages_1.ProtocolRequestType(RenameRequest.method);\n})(RenameRequest = exports.RenameRequest || (exports.RenameRequest = {}));\n/**\n * A request to test and perform the setup necessary for a rename.\n *\n * @since 3.16 - support for default behavior\n */\nvar PrepareRenameRequest;\n(function (PrepareRenameRequest) {\n    PrepareRenameRequest.method = 'textDocument/prepareRename';\n    PrepareRenameRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    PrepareRenameRequest.type = new messages_1.ProtocolRequestType(PrepareRenameRequest.method);\n})(PrepareRenameRequest = exports.PrepareRenameRequest || (exports.PrepareRenameRequest = {}));\n/**\n * A request send from the client to the server to execute a command. The request might return\n * a workspace edit which the client will apply to the workspace.\n */\nvar ExecuteCommandRequest;\n(function (ExecuteCommandRequest) {\n    ExecuteCommandRequest.method = 'workspace/executeCommand';\n    ExecuteCommandRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ExecuteCommandRequest.type = new messages_1.ProtocolRequestType(ExecuteCommandRequest.method);\n})(ExecuteCommandRequest = exports.ExecuteCommandRequest || (exports.ExecuteCommandRequest = {}));\n/**\n * A request sent from the server to the client to modified certain resources.\n */\nvar ApplyWorkspaceEditRequest;\n(function (ApplyWorkspaceEditRequest) {\n    ApplyWorkspaceEditRequest.method = 'workspace/applyEdit';\n    ApplyWorkspaceEditRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ApplyWorkspaceEditRequest.type = new messages_1.ProtocolRequestType('workspace/applyEdit');\n})(ApplyWorkspaceEditRequest = exports.ApplyWorkspaceEditRequest || (exports.ApplyWorkspaceEditRequest = {}));\n//# sourceMappingURL=protocol.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide ranges that can be edited together.\n *\n * @since 3.16.0\n */\nvar LinkedEditingRangeRequest;\n(function (LinkedEditingRangeRequest) {\n    LinkedEditingRangeRequest.method = 'textDocument/linkedEditingRange';\n    LinkedEditingRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    LinkedEditingRangeRequest.type = new messages_1.ProtocolRequestType(LinkedEditingRangeRequest.method);\n})(LinkedEditingRangeRequest = exports.LinkedEditingRangeRequest || (exports.LinkedEditingRangeRequest = {}));\n//# sourceMappingURL=protocol.linkedEditingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * Moniker uniqueness level to define scope of the moniker.\n *\n * @since 3.16.0\n */\nvar UniquenessLevel;\n(function (UniquenessLevel) {\n    /**\n     * The moniker is only unique inside a document\n     */\n    UniquenessLevel.document = 'document';\n    /**\n     * The moniker is unique inside a project for which a dump got created\n     */\n    UniquenessLevel.project = 'project';\n    /**\n     * The moniker is unique inside the group to which a project belongs\n     */\n    UniquenessLevel.group = 'group';\n    /**\n     * The moniker is unique inside the moniker scheme.\n     */\n    UniquenessLevel.scheme = 'scheme';\n    /**\n     * The moniker is globally unique\n     */\n    UniquenessLevel.global = 'global';\n})(UniquenessLevel = exports.UniquenessLevel || (exports.UniquenessLevel = {}));\n/**\n * The moniker kind.\n *\n * @since 3.16.0\n */\nvar MonikerKind;\n(function (MonikerKind) {\n    /**\n     * The moniker represent a symbol that is imported into a project\n     */\n    MonikerKind.$import = 'import';\n    /**\n     * The moniker represents a symbol that is exported from a project\n     */\n    MonikerKind.$export = 'export';\n    /**\n     * The moniker represents a symbol that is local to a project (e.g. a local\n     * variable of a function, a class not visible outside the project, ...)\n     */\n    MonikerKind.local = 'local';\n})(MonikerKind = exports.MonikerKind || (exports.MonikerKind = {}));\n/**\n * A request to get the moniker of a symbol at a given text document position.\n * The request parameter is of type [TextDocumentPositionParams](#TextDocumentPositionParams).\n * The response is of type [Moniker[]](#Moniker[]) or `null`.\n */\nvar MonikerRequest;\n(function (MonikerRequest) {\n    MonikerRequest.method = 'textDocument/moniker';\n    MonikerRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    MonikerRequest.type = new messages_1.ProtocolRequestType(MonikerRequest.method);\n})(MonikerRequest = exports.MonikerRequest || (exports.MonikerRequest = {}));\n//# sourceMappingURL=protocol.moniker.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidCloseNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification = exports.NotebookCellArrayChange = exports.DidOpenNotebookDocumentNotification = exports.NotebookDocumentSyncRegistrationType = exports.NotebookDocument = exports.NotebookCell = exports.ExecutionSummary = exports.NotebookCellKind = void 0;\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst Is = require(\"./utils/is\");\nconst messages_1 = require(\"./messages\");\n/**\n * A notebook cell kind.\n *\n * @since 3.17.0\n */\nvar NotebookCellKind;\n(function (NotebookCellKind) {\n    /**\n     * A markup-cell is formatted source that is used for display.\n     */\n    NotebookCellKind.Markup = 1;\n    /**\n     * A code-cell is source code.\n     */\n    NotebookCellKind.Code = 2;\n    function is(value) {\n        return value === 1 || value === 2;\n    }\n    NotebookCellKind.is = is;\n})(NotebookCellKind = exports.NotebookCellKind || (exports.NotebookCellKind = {}));\nvar ExecutionSummary;\n(function (ExecutionSummary) {\n    function create(executionOrder, success) {\n        const result = { executionOrder };\n        if (success === true || success === false) {\n            result.success = success;\n        }\n        return result;\n    }\n    ExecutionSummary.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && vscode_languageserver_types_1.uinteger.is(candidate.executionOrder) && (candidate.success === undefined || Is.boolean(candidate.success));\n    }\n    ExecutionSummary.is = is;\n    function equals(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        return one.executionOrder === other.executionOrder && one.success === other.success;\n    }\n    ExecutionSummary.equals = equals;\n})(ExecutionSummary = exports.ExecutionSummary || (exports.ExecutionSummary = {}));\nvar NotebookCell;\n(function (NotebookCell) {\n    function create(kind, document) {\n        return { kind, document };\n    }\n    NotebookCell.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && NotebookCellKind.is(candidate.kind) && vscode_languageserver_types_1.DocumentUri.is(candidate.document) &&\n            (candidate.metadata === undefined || Is.objectLiteral(candidate.metadata));\n    }\n    NotebookCell.is = is;\n    function diff(one, two) {\n        const result = new Set();\n        if (one.document !== two.document) {\n            result.add('document');\n        }\n        if (one.kind !== two.kind) {\n            result.add('kind');\n        }\n        if (one.executionSummary !== two.executionSummary) {\n            result.add('executionSummary');\n        }\n        if ((one.metadata !== undefined || two.metadata !== undefined) && !equalsMetadata(one.metadata, two.metadata)) {\n            result.add('metadata');\n        }\n        if ((one.executionSummary !== undefined || two.executionSummary !== undefined) && !ExecutionSummary.equals(one.executionSummary, two.executionSummary)) {\n            result.add('executionSummary');\n        }\n        return result;\n    }\n    NotebookCell.diff = diff;\n    function equalsMetadata(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        if (typeof one !== typeof other) {\n            return false;\n        }\n        if (typeof one !== 'object') {\n            return false;\n        }\n        const oneArray = Array.isArray(one);\n        const otherArray = Array.isArray(other);\n        if (oneArray !== otherArray) {\n            return false;\n        }\n        if (oneArray && otherArray) {\n            if (one.length !== other.length) {\n                return false;\n            }\n            for (let i = 0; i < one.length; i++) {\n                if (!equalsMetadata(one[i], other[i])) {\n                    return false;\n                }\n            }\n        }\n        if (Is.objectLiteral(one) && Is.objectLiteral(other)) {\n            const oneKeys = Object.keys(one);\n            const otherKeys = Object.keys(other);\n            if (oneKeys.length !== otherKeys.length) {\n                return false;\n            }\n            oneKeys.sort();\n            otherKeys.sort();\n            if (!equalsMetadata(oneKeys, otherKeys)) {\n                return false;\n            }\n            for (let i = 0; i < oneKeys.length; i++) {\n                const prop = oneKeys[i];\n                if (!equalsMetadata(one[prop], other[prop])) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n})(NotebookCell = exports.NotebookCell || (exports.NotebookCell = {}));\nvar NotebookDocument;\n(function (NotebookDocument) {\n    function create(uri, notebookType, version, cells) {\n        return { uri, notebookType, version, cells };\n    }\n    NotebookDocument.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.uri) && vscode_languageserver_types_1.integer.is(candidate.version) && Is.typedArray(candidate.cells, NotebookCell.is);\n    }\n    NotebookDocument.is = is;\n})(NotebookDocument = exports.NotebookDocument || (exports.NotebookDocument = {}));\nvar NotebookDocumentSyncRegistrationType;\n(function (NotebookDocumentSyncRegistrationType) {\n    NotebookDocumentSyncRegistrationType.method = 'notebookDocument/sync';\n    NotebookDocumentSyncRegistrationType.messageDirection = messages_1.MessageDirection.clientToServer;\n    NotebookDocumentSyncRegistrationType.type = new messages_1.RegistrationType(NotebookDocumentSyncRegistrationType.method);\n})(NotebookDocumentSyncRegistrationType = exports.NotebookDocumentSyncRegistrationType || (exports.NotebookDocumentSyncRegistrationType = {}));\n/**\n * A notification sent when a notebook opens.\n *\n * @since 3.17.0\n */\nvar DidOpenNotebookDocumentNotification;\n(function (DidOpenNotebookDocumentNotification) {\n    DidOpenNotebookDocumentNotification.method = 'notebookDocument/didOpen';\n    DidOpenNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidOpenNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenNotebookDocumentNotification.method);\n    DidOpenNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidOpenNotebookDocumentNotification = exports.DidOpenNotebookDocumentNotification || (exports.DidOpenNotebookDocumentNotification = {}));\nvar NotebookCellArrayChange;\n(function (NotebookCellArrayChange) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && vscode_languageserver_types_1.uinteger.is(candidate.start) && vscode_languageserver_types_1.uinteger.is(candidate.deleteCount) && (candidate.cells === undefined || Is.typedArray(candidate.cells, NotebookCell.is));\n    }\n    NotebookCellArrayChange.is = is;\n    function create(start, deleteCount, cells) {\n        const result = { start, deleteCount };\n        if (cells !== undefined) {\n            result.cells = cells;\n        }\n        return result;\n    }\n    NotebookCellArrayChange.create = create;\n})(NotebookCellArrayChange = exports.NotebookCellArrayChange || (exports.NotebookCellArrayChange = {}));\nvar DidChangeNotebookDocumentNotification;\n(function (DidChangeNotebookDocumentNotification) {\n    DidChangeNotebookDocumentNotification.method = 'notebookDocument/didChange';\n    DidChangeNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeNotebookDocumentNotification.method);\n    DidChangeNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidChangeNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification || (exports.DidChangeNotebookDocumentNotification = {}));\n/**\n * A notification sent when a notebook document is saved.\n *\n * @since 3.17.0\n */\nvar DidSaveNotebookDocumentNotification;\n(function (DidSaveNotebookDocumentNotification) {\n    DidSaveNotebookDocumentNotification.method = 'notebookDocument/didSave';\n    DidSaveNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidSaveNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveNotebookDocumentNotification.method);\n    DidSaveNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidSaveNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification || (exports.DidSaveNotebookDocumentNotification = {}));\n/**\n * A notification sent when a notebook closes.\n *\n * @since 3.17.0\n */\nvar DidCloseNotebookDocumentNotification;\n(function (DidCloseNotebookDocumentNotification) {\n    DidCloseNotebookDocumentNotification.method = 'notebookDocument/didClose';\n    DidCloseNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCloseNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseNotebookDocumentNotification.method);\n    DidCloseNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidCloseNotebookDocumentNotification = exports.DidCloseNotebookDocumentNotification || (exports.DidCloseNotebookDocumentNotification = {}));\n//# sourceMappingURL=protocol.notebook.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst messages_1 = require(\"./messages\");\nvar WorkDoneProgress;\n(function (WorkDoneProgress) {\n    WorkDoneProgress.type = new vscode_jsonrpc_1.ProgressType();\n    function is(value) {\n        return value === WorkDoneProgress.type;\n    }\n    WorkDoneProgress.is = is;\n})(WorkDoneProgress = exports.WorkDoneProgress || (exports.WorkDoneProgress = {}));\n/**\n * The `window/workDoneProgress/create` request is sent from the server to the client to initiate progress\n * reporting from the server.\n */\nvar WorkDoneProgressCreateRequest;\n(function (WorkDoneProgressCreateRequest) {\n    WorkDoneProgressCreateRequest.method = 'window/workDoneProgress/create';\n    WorkDoneProgressCreateRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    WorkDoneProgressCreateRequest.type = new messages_1.ProtocolRequestType(WorkDoneProgressCreateRequest.method);\n})(WorkDoneProgressCreateRequest = exports.WorkDoneProgressCreateRequest || (exports.WorkDoneProgressCreateRequest = {}));\n/**\n * The `window/workDoneProgress/cancel` notification is sent from  the client to the server to cancel a progress\n * initiated on the server side.\n */\nvar WorkDoneProgressCancelNotification;\n(function (WorkDoneProgressCancelNotification) {\n    WorkDoneProgressCancelNotification.method = 'window/workDoneProgress/cancel';\n    WorkDoneProgressCancelNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkDoneProgressCancelNotification.type = new messages_1.ProtocolNotificationType(WorkDoneProgressCancelNotification.method);\n})(WorkDoneProgressCancelNotification = exports.WorkDoneProgressCancelNotification || (exports.WorkDoneProgressCancelNotification = {}));\n//# sourceMappingURL=protocol.progress.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelectionRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide selection ranges in a document. The request's\n * parameter is of type [SelectionRangeParams](#SelectionRangeParams), the\n * response is of type [SelectionRange[]](#SelectionRange[]) or a Thenable\n * that resolves to such.\n */\nvar SelectionRangeRequest;\n(function (SelectionRangeRequest) {\n    SelectionRangeRequest.method = 'textDocument/selectionRange';\n    SelectionRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SelectionRangeRequest.type = new messages_1.ProtocolRequestType(SelectionRangeRequest.method);\n})(SelectionRangeRequest = exports.SelectionRangeRequest || (exports.SelectionRangeRequest = {}));\n//# sourceMappingURL=protocol.selectionRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.SemanticTokensRegistrationType = exports.TokenFormat = void 0;\nconst messages_1 = require(\"./messages\");\n//------- 'textDocument/semanticTokens' -----\nvar TokenFormat;\n(function (TokenFormat) {\n    TokenFormat.Relative = 'relative';\n})(TokenFormat = exports.TokenFormat || (exports.TokenFormat = {}));\nvar SemanticTokensRegistrationType;\n(function (SemanticTokensRegistrationType) {\n    SemanticTokensRegistrationType.method = 'textDocument/semanticTokens';\n    SemanticTokensRegistrationType.type = new messages_1.RegistrationType(SemanticTokensRegistrationType.method);\n})(SemanticTokensRegistrationType = exports.SemanticTokensRegistrationType || (exports.SemanticTokensRegistrationType = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRequest;\n(function (SemanticTokensRequest) {\n    SemanticTokensRequest.method = 'textDocument/semanticTokens/full';\n    SemanticTokensRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRequest.method);\n    SemanticTokensRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensRequest = exports.SemanticTokensRequest || (exports.SemanticTokensRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensDeltaRequest;\n(function (SemanticTokensDeltaRequest) {\n    SemanticTokensDeltaRequest.method = 'textDocument/semanticTokens/full/delta';\n    SemanticTokensDeltaRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensDeltaRequest.type = new messages_1.ProtocolRequestType(SemanticTokensDeltaRequest.method);\n    SemanticTokensDeltaRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensDeltaRequest = exports.SemanticTokensDeltaRequest || (exports.SemanticTokensDeltaRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRangeRequest;\n(function (SemanticTokensRangeRequest) {\n    SemanticTokensRangeRequest.method = 'textDocument/semanticTokens/range';\n    SemanticTokensRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensRangeRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRangeRequest.method);\n    SemanticTokensRangeRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensRangeRequest = exports.SemanticTokensRangeRequest || (exports.SemanticTokensRangeRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRefreshRequest;\n(function (SemanticTokensRefreshRequest) {\n    SemanticTokensRefreshRequest.method = `workspace/semanticTokens/refresh`;\n    SemanticTokensRefreshRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensRefreshRequest.type = new messages_1.ProtocolRequestType0(SemanticTokensRefreshRequest.method);\n})(SemanticTokensRefreshRequest = exports.SemanticTokensRefreshRequest || (exports.SemanticTokensRefreshRequest = {}));\n//# sourceMappingURL=protocol.semanticTokens.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShowDocumentRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to show a document. This request might open an\n * external program depending on the value of the URI to open.\n * For example a request to open `https://code.visualstudio.com/`\n * will very likely open the URI in a WEB browser.\n *\n * @since 3.16.0\n*/\nvar ShowDocumentRequest;\n(function (ShowDocumentRequest) {\n    ShowDocumentRequest.method = 'window/showDocument';\n    ShowDocumentRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowDocumentRequest.type = new messages_1.ProtocolRequestType(ShowDocumentRequest.method);\n})(ShowDocumentRequest = exports.ShowDocumentRequest || (exports.ShowDocumentRequest = {}));\n//# sourceMappingURL=protocol.showDocument.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeDefinitionRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositioParams]\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\n * Thenable that resolves to such.\n */\nvar TypeDefinitionRequest;\n(function (TypeDefinitionRequest) {\n    TypeDefinitionRequest.method = 'textDocument/typeDefinition';\n    TypeDefinitionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeDefinitionRequest.type = new messages_1.ProtocolRequestType(TypeDefinitionRequest.method);\n})(TypeDefinitionRequest = exports.TypeDefinitionRequest || (exports.TypeDefinitionRequest = {}));\n//# sourceMappingURL=protocol.typeDefinition.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox, Microsoft and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHierarchySubtypesRequest = exports.TypeHierarchySupertypesRequest = exports.TypeHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `TypeHierarchyItem` in a document at a given position.\n * Can be used as an input to a subtypes or supertypes type hierarchy.\n *\n * @since 3.17.0\n */\nvar TypeHierarchyPrepareRequest;\n(function (TypeHierarchyPrepareRequest) {\n    TypeHierarchyPrepareRequest.method = 'textDocument/prepareTypeHierarchy';\n    TypeHierarchyPrepareRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(TypeHierarchyPrepareRequest.method);\n})(TypeHierarchyPrepareRequest = exports.TypeHierarchyPrepareRequest || (exports.TypeHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the supertypes for a given `TypeHierarchyItem`.\n *\n * @since 3.17.0\n */\nvar TypeHierarchySupertypesRequest;\n(function (TypeHierarchySupertypesRequest) {\n    TypeHierarchySupertypesRequest.method = 'typeHierarchy/supertypes';\n    TypeHierarchySupertypesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchySupertypesRequest.type = new messages_1.ProtocolRequestType(TypeHierarchySupertypesRequest.method);\n})(TypeHierarchySupertypesRequest = exports.TypeHierarchySupertypesRequest || (exports.TypeHierarchySupertypesRequest = {}));\n/**\n * A request to resolve the subtypes for a given `TypeHierarchyItem`.\n *\n * @since 3.17.0\n */\nvar TypeHierarchySubtypesRequest;\n(function (TypeHierarchySubtypesRequest) {\n    TypeHierarchySubtypesRequest.method = 'typeHierarchy/subtypes';\n    TypeHierarchySubtypesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchySubtypesRequest.type = new messages_1.ProtocolRequestType(TypeHierarchySubtypesRequest.method);\n})(TypeHierarchySubtypesRequest = exports.TypeHierarchySubtypesRequest || (exports.TypeHierarchySubtypesRequest = {}));\n//# sourceMappingURL=protocol.typeHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * The `workspace/workspaceFolders` is sent from the server to the client to fetch the open workspace folders.\n */\nvar WorkspaceFoldersRequest;\n(function (WorkspaceFoldersRequest) {\n    WorkspaceFoldersRequest.method = 'workspace/workspaceFolders';\n    WorkspaceFoldersRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    WorkspaceFoldersRequest.type = new messages_1.ProtocolRequestType0(WorkspaceFoldersRequest.method);\n})(WorkspaceFoldersRequest = exports.WorkspaceFoldersRequest || (exports.WorkspaceFoldersRequest = {}));\n/**\n * The `workspace/didChangeWorkspaceFolders` notification is sent from the client to the server when the workspace\n * folder configuration changes.\n */\nvar DidChangeWorkspaceFoldersNotification;\n(function (DidChangeWorkspaceFoldersNotification) {\n    DidChangeWorkspaceFoldersNotification.method = 'workspace/didChangeWorkspaceFolders';\n    DidChangeWorkspaceFoldersNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeWorkspaceFoldersNotification.type = new messages_1.ProtocolNotificationType(DidChangeWorkspaceFoldersNotification.method);\n})(DidChangeWorkspaceFoldersNotification = exports.DidChangeWorkspaceFoldersNotification || (exports.DidChangeWorkspaceFoldersNotification = {}));\n//# sourceMappingURL=protocol.workspaceFolder.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.objectLiteral = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction objectLiteral(value) {\n    // Strictly speaking class instances pass this check as well. Since the LSP\n    // doesn't use classes we ignore this for now. If we do we need to add something\n    // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n    return value !== null && typeof value === 'object';\n}\nexports.objectLiteral = objectLiteral;\n//# sourceMappingURL=is.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst node_1 = require(\"vscode-jsonrpc/node\");\n__exportStar(require(\"vscode-jsonrpc/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nfunction createProtocolConnection(input, output, logger, options) {\n    return (0, node_1.createMessageConnection)(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n//# sourceMappingURL=main.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nclass FullTextDocument {\n    constructor(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    get uri() {\n        return this._uri;\n    }\n    get languageId() {\n        return this._languageId;\n    }\n    get version() {\n        return this._version;\n    }\n    getText(range) {\n        if (range) {\n            const start = this.offsetAt(range.start);\n            const end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    }\n    update(changes, version) {\n        for (let change of changes) {\n            if (FullTextDocument.isIncremental(change)) {\n                // makes sure start is before end\n                const range = getWellformedRange(change.range);\n                // update content\n                const startOffset = this.offsetAt(range.start);\n                const endOffset = this.offsetAt(range.end);\n                this._content = this._content.substring(0, startOffset) + change.text + this._content.substring(endOffset, this._content.length);\n                // update the offsets\n                const startLine = Math.max(range.start.line, 0);\n                const endLine = Math.max(range.end.line, 0);\n                let lineOffsets = this._lineOffsets;\n                const addedLineOffsets = computeLineOffsets(change.text, false, startOffset);\n                if (endLine - startLine === addedLineOffsets.length) {\n                    for (let i = 0, len = addedLineOffsets.length; i < len; i++) {\n                        lineOffsets[i + startLine + 1] = addedLineOffsets[i];\n                    }\n                }\n                else {\n                    if (addedLineOffsets.length < 10000) {\n                        lineOffsets.splice(startLine + 1, endLine - startLine, ...addedLineOffsets);\n                    }\n                    else { // avoid too many arguments for splice\n                        this._lineOffsets = lineOffsets = lineOffsets.slice(0, startLine + 1).concat(addedLineOffsets, lineOffsets.slice(endLine + 1));\n                    }\n                }\n                const diff = change.text.length - (endOffset - startOffset);\n                if (diff !== 0) {\n                    for (let i = startLine + 1 + addedLineOffsets.length, len = lineOffsets.length; i < len; i++) {\n                        lineOffsets[i] = lineOffsets[i] + diff;\n                    }\n                }\n            }\n            else if (FullTextDocument.isFull(change)) {\n                this._content = change.text;\n                this._lineOffsets = undefined;\n            }\n            else {\n                throw new Error('Unknown change event received');\n            }\n        }\n        this._version = version;\n    }\n    getLineOffsets() {\n        if (this._lineOffsets === undefined) {\n            this._lineOffsets = computeLineOffsets(this._content, true);\n        }\n        return this._lineOffsets;\n    }\n    positionAt(offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        let lineOffsets = this.getLineOffsets();\n        let low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return { line: 0, character: offset };\n        }\n        while (low < high) {\n            let mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        let line = low - 1;\n        return { line, character: offset - lineOffsets[line] };\n    }\n    offsetAt(position) {\n        let lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        let lineOffset = lineOffsets[position.line];\n        let nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    }\n    get lineCount() {\n        return this.getLineOffsets().length;\n    }\n    static isIncremental(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    }\n    static isFull(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    }\n}\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new text document.\n     *\n     * @param uri The document's uri.\n     * @param languageId  The document's language Id.\n     * @param version The document's initial version number.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Updates a TextDocument by modifying its content.\n     *\n     * @param document the document to update. Only documents created by TextDocument.create are valid inputs.\n     * @param changes the changes to apply to the document.\n     * @param version the changes version for the document.\n     * @returns The updated TextDocument. Note: That's the same document instance passed in as first parameter.\n     *\n     */\n    function update(document, changes, version) {\n        if (document instanceof FullTextDocument) {\n            document.update(changes, version);\n            return document;\n        }\n        else {\n            throw new Error('TextDocument.update: document must be created by TextDocument.create');\n        }\n    }\n    TextDocument.update = update;\n    function applyEdits(document, edits) {\n        let text = document.getText();\n        let sortedEdits = mergeSort(edits.map(getWellformedEdit), (a, b) => {\n            let diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        let lastModifiedOffset = 0;\n        const spans = [];\n        for (const e of sortedEdits) {\n            let startOffset = document.offsetAt(e.range.start);\n            if (startOffset < lastModifiedOffset) {\n                throw new Error('Overlapping edit');\n            }\n            else if (startOffset > lastModifiedOffset) {\n                spans.push(text.substring(lastModifiedOffset, startOffset));\n            }\n            if (e.newText.length) {\n                spans.push(e.newText);\n            }\n            lastModifiedOffset = document.offsetAt(e.range.end);\n        }\n        spans.push(text.substr(lastModifiedOffset));\n        return spans.join('');\n    }\n    TextDocument.applyEdits = applyEdits;\n})(TextDocument || (TextDocument = {}));\nfunction mergeSort(data, compare) {\n    if (data.length <= 1) {\n        // sorted\n        return data;\n    }\n    const p = (data.length / 2) | 0;\n    const left = data.slice(0, p);\n    const right = data.slice(p);\n    mergeSort(left, compare);\n    mergeSort(right, compare);\n    let leftIdx = 0;\n    let rightIdx = 0;\n    let i = 0;\n    while (leftIdx < left.length && rightIdx < right.length) {\n        let ret = compare(left[leftIdx], right[rightIdx]);\n        if (ret <= 0) {\n            // smaller_equal -> take left to preserve order\n            data[i++] = left[leftIdx++];\n        }\n        else {\n            // greater -> take right\n            data[i++] = right[rightIdx++];\n        }\n    }\n    while (leftIdx < left.length) {\n        data[i++] = left[leftIdx++];\n    }\n    while (rightIdx < right.length) {\n        data[i++] = right[rightIdx++];\n    }\n    return data;\n}\nfunction computeLineOffsets(text, isAtLineStart, textOffset = 0) {\n    const result = isAtLineStart ? [textOffset] : [];\n    for (let i = 0; i < text.length; i++) {\n        let ch = text.charCodeAt(i);\n        if (ch === 13 /* CharCode.CarriageReturn */ || ch === 10 /* CharCode.LineFeed */) {\n            if (ch === 13 /* CharCode.CarriageReturn */ && i + 1 < text.length && text.charCodeAt(i + 1) === 10 /* CharCode.LineFeed */) {\n                i++;\n            }\n            result.push(textOffset + i + 1);\n        }\n    }\n    return result;\n}\nfunction getWellformedRange(range) {\n    const start = range.start;\n    const end = range.end;\n    if (start.line > end.line || (start.line === end.line && start.character > end.character)) {\n        return { start: end, end: start };\n    }\n    return range;\n}\nfunction getWellformedEdit(textEdit) {\n    const range = getWellformedRange(textEdit.range);\n    if (range !== textEdit.range) {\n        return { newText: textEdit.newText, range };\n    }\n    return textEdit;\n}\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nexport var DocumentUri;\n(function (DocumentUri) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    DocumentUri.is = is;\n})(DocumentUri || (DocumentUri = {}));\nexport var URI;\n(function (URI) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    URI.is = is;\n})(URI || (URI = {}));\nexport var integer;\n(function (integer) {\n    integer.MIN_VALUE = -2147483648;\n    integer.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && integer.MIN_VALUE <= value && value <= integer.MAX_VALUE;\n    }\n    integer.is = is;\n})(integer || (integer = {}));\nexport var uinteger;\n(function (uinteger) {\n    uinteger.MIN_VALUE = 0;\n    uinteger.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && uinteger.MIN_VALUE <= value && value <= uinteger.MAX_VALUE;\n    }\n    uinteger.is = is;\n})(uinteger || (uinteger = {}));\n/**\n * The Position namespace provides helper functions to work with\n * [Position](#Position) literals.\n */\nexport var Position;\n(function (Position) {\n    /**\n     * Creates a new Position literal from the given line and character.\n     * @param line The position's line.\n     * @param character The position's character.\n     */\n    function create(line, character) {\n        if (line === Number.MAX_VALUE) {\n            line = uinteger.MAX_VALUE;\n        }\n        if (character === Number.MAX_VALUE) {\n            character = uinteger.MAX_VALUE;\n        }\n        return { line: line, character: character };\n    }\n    Position.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Position](#Position) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.line) && Is.uinteger(candidate.character);\n    }\n    Position.is = is;\n})(Position || (Position = {}));\n/**\n * The Range namespace provides helper functions to work with\n * [Range](#Range) literals.\n */\nexport var Range;\n(function (Range) {\n    function create(one, two, three, four) {\n        if (Is.uinteger(one) && Is.uinteger(two) && Is.uinteger(three) && Is.uinteger(four)) {\n            return { start: Position.create(one, two), end: Position.create(three, four) };\n        }\n        else if (Position.is(one) && Position.is(two)) {\n            return { start: one, end: two };\n        }\n        else {\n            throw new Error(\"Range#create called with invalid arguments[\".concat(one, \", \").concat(two, \", \").concat(three, \", \").concat(four, \"]\"));\n        }\n    }\n    Range.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Range](#Range) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\n    }\n    Range.is = is;\n})(Range || (Range = {}));\n/**\n * The Location namespace provides helper functions to work with\n * [Location](#Location) literals.\n */\nexport var Location;\n(function (Location) {\n    /**\n     * Creates a Location literal.\n     * @param uri The location's uri.\n     * @param range The location's range.\n     */\n    function create(uri, range) {\n        return { uri: uri, range: range };\n    }\n    Location.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Location](#Location) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\n    }\n    Location.is = is;\n})(Location || (Location = {}));\n/**\n * The LocationLink namespace provides helper functions to work with\n * [LocationLink](#LocationLink) literals.\n */\nexport var LocationLink;\n(function (LocationLink) {\n    /**\n     * Creates a LocationLink literal.\n     * @param targetUri The definition's uri.\n     * @param targetRange The full range of the definition.\n     * @param targetSelectionRange The span of the symbol definition at the target.\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\n     */\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\n        return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\n    }\n    LocationLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [LocationLink](#LocationLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\n            && Range.is(candidate.targetSelectionRange)\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\n    }\n    LocationLink.is = is;\n})(LocationLink || (LocationLink = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [Color](#Color) literals.\n */\nexport var Color;\n(function (Color) {\n    /**\n     * Creates a new Color literal.\n     */\n    function create(red, green, blue, alpha) {\n        return {\n            red: red,\n            green: green,\n            blue: blue,\n            alpha: alpha,\n        };\n    }\n    Color.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Color](#Color) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.numberRange(candidate.red, 0, 1)\n            && Is.numberRange(candidate.green, 0, 1)\n            && Is.numberRange(candidate.blue, 0, 1)\n            && Is.numberRange(candidate.alpha, 0, 1);\n    }\n    Color.is = is;\n})(Color || (Color = {}));\n/**\n * The ColorInformation namespace provides helper functions to work with\n * [ColorInformation](#ColorInformation) literals.\n */\nexport var ColorInformation;\n(function (ColorInformation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(range, color) {\n        return {\n            range: range,\n            color: color,\n        };\n    }\n    ColorInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && Color.is(candidate.color);\n    }\n    ColorInformation.is = is;\n})(ColorInformation || (ColorInformation = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [ColorPresentation](#ColorPresentation) literals.\n */\nexport var ColorPresentation;\n(function (ColorPresentation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(label, textEdit, additionalTextEdits) {\n        return {\n            label: label,\n            textEdit: textEdit,\n            additionalTextEdits: additionalTextEdits,\n        };\n    }\n    ColorPresentation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label)\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\n    }\n    ColorPresentation.is = is;\n})(ColorPresentation || (ColorPresentation = {}));\n/**\n * A set of predefined range kinds.\n */\nexport var FoldingRangeKind;\n(function (FoldingRangeKind) {\n    /**\n     * Folding range for a comment\n     */\n    FoldingRangeKind.Comment = 'comment';\n    /**\n     * Folding range for an import or include\n     */\n    FoldingRangeKind.Imports = 'imports';\n    /**\n     * Folding range for a region (e.g. `#region`)\n     */\n    FoldingRangeKind.Region = 'region';\n})(FoldingRangeKind || (FoldingRangeKind = {}));\n/**\n * The folding range namespace provides helper functions to work with\n * [FoldingRange](#FoldingRange) literals.\n */\nexport var FoldingRange;\n(function (FoldingRange) {\n    /**\n     * Creates a new FoldingRange literal.\n     */\n    function create(startLine, endLine, startCharacter, endCharacter, kind, collapsedText) {\n        var result = {\n            startLine: startLine,\n            endLine: endLine\n        };\n        if (Is.defined(startCharacter)) {\n            result.startCharacter = startCharacter;\n        }\n        if (Is.defined(endCharacter)) {\n            result.endCharacter = endCharacter;\n        }\n        if (Is.defined(kind)) {\n            result.kind = kind;\n        }\n        if (Is.defined(collapsedText)) {\n            result.collapsedText = collapsedText;\n        }\n        return result;\n    }\n    FoldingRange.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FoldingRange](#FoldingRange) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.startLine) && Is.uinteger(candidate.startLine)\n            && (Is.undefined(candidate.startCharacter) || Is.uinteger(candidate.startCharacter))\n            && (Is.undefined(candidate.endCharacter) || Is.uinteger(candidate.endCharacter))\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\n    }\n    FoldingRange.is = is;\n})(FoldingRange || (FoldingRange = {}));\n/**\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\n * [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) literals.\n */\nexport var DiagnosticRelatedInformation;\n(function (DiagnosticRelatedInformation) {\n    /**\n     * Creates a new DiagnosticRelatedInformation literal.\n     */\n    function create(location, message) {\n        return {\n            location: location,\n            message: message\n        };\n    }\n    DiagnosticRelatedInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\n    }\n    DiagnosticRelatedInformation.is = is;\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\n/**\n * The diagnostic's severity.\n */\nexport var DiagnosticSeverity;\n(function (DiagnosticSeverity) {\n    /**\n     * Reports an error.\n     */\n    DiagnosticSeverity.Error = 1;\n    /**\n     * Reports a warning.\n     */\n    DiagnosticSeverity.Warning = 2;\n    /**\n     * Reports an information.\n     */\n    DiagnosticSeverity.Information = 3;\n    /**\n     * Reports a hint.\n     */\n    DiagnosticSeverity.Hint = 4;\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\n/**\n * The diagnostic tags.\n *\n * @since 3.15.0\n */\nexport var DiagnosticTag;\n(function (DiagnosticTag) {\n    /**\n     * Unused or unnecessary code.\n     *\n     * Clients are allowed to render diagnostics with this tag faded out instead of having\n     * an error squiggle.\n     */\n    DiagnosticTag.Unnecessary = 1;\n    /**\n     * Deprecated or obsolete code.\n     *\n     * Clients are allowed to rendered diagnostics with this tag strike through.\n     */\n    DiagnosticTag.Deprecated = 2;\n})(DiagnosticTag || (DiagnosticTag = {}));\n/**\n * The CodeDescription namespace provides functions to deal with descriptions for diagnostic codes.\n *\n * @since 3.16.0\n */\nexport var CodeDescription;\n(function (CodeDescription) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.href);\n    }\n    CodeDescription.is = is;\n})(CodeDescription || (CodeDescription = {}));\n/**\n * The Diagnostic namespace provides helper functions to work with\n * [Diagnostic](#Diagnostic) literals.\n */\nexport var Diagnostic;\n(function (Diagnostic) {\n    /**\n     * Creates a new Diagnostic literal.\n     */\n    function create(range, message, severity, code, source, relatedInformation) {\n        var result = { range: range, message: message };\n        if (Is.defined(severity)) {\n            result.severity = severity;\n        }\n        if (Is.defined(code)) {\n            result.code = code;\n        }\n        if (Is.defined(source)) {\n            result.source = source;\n        }\n        if (Is.defined(relatedInformation)) {\n            result.relatedInformation = relatedInformation;\n        }\n        return result;\n    }\n    Diagnostic.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Diagnostic](#Diagnostic) interface.\n     */\n    function is(value) {\n        var _a;\n        var candidate = value;\n        return Is.defined(candidate)\n            && Range.is(candidate.range)\n            && Is.string(candidate.message)\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\n            && (Is.integer(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\n            && (Is.undefined(candidate.codeDescription) || (Is.string((_a = candidate.codeDescription) === null || _a === void 0 ? void 0 : _a.href)))\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\n    }\n    Diagnostic.is = is;\n})(Diagnostic || (Diagnostic = {}));\n/**\n * The Command namespace provides helper functions to work with\n * [Command](#Command) literals.\n */\nexport var Command;\n(function (Command) {\n    /**\n     * Creates a new Command literal.\n     */\n    function create(title, command) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var result = { title: title, command: command };\n        if (Is.defined(args) && args.length > 0) {\n            result.arguments = args;\n        }\n        return result;\n    }\n    Command.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Command](#Command) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\n    }\n    Command.is = is;\n})(Command || (Command = {}));\n/**\n * The TextEdit namespace provides helper function to create replace,\n * insert and delete edits more easily.\n */\nexport var TextEdit;\n(function (TextEdit) {\n    /**\n     * Creates a replace text edit.\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     */\n    function replace(range, newText) {\n        return { range: range, newText: newText };\n    }\n    TextEdit.replace = replace;\n    /**\n     * Creates an insert text edit.\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     */\n    function insert(position, newText) {\n        return { range: { start: position, end: position }, newText: newText };\n    }\n    TextEdit.insert = insert;\n    /**\n     * Creates a delete text edit.\n     * @param range The range of text to be deleted.\n     */\n    function del(range) {\n        return { range: range, newText: '' };\n    }\n    TextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate)\n            && Is.string(candidate.newText)\n            && Range.is(candidate.range);\n    }\n    TextEdit.is = is;\n})(TextEdit || (TextEdit = {}));\nexport var ChangeAnnotation;\n(function (ChangeAnnotation) {\n    function create(label, needsConfirmation, description) {\n        var result = { label: label };\n        if (needsConfirmation !== undefined) {\n            result.needsConfirmation = needsConfirmation;\n        }\n        if (description !== undefined) {\n            result.description = description;\n        }\n        return result;\n    }\n    ChangeAnnotation.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label) &&\n            (Is.boolean(candidate.needsConfirmation) || candidate.needsConfirmation === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    ChangeAnnotation.is = is;\n})(ChangeAnnotation || (ChangeAnnotation = {}));\nexport var ChangeAnnotationIdentifier;\n(function (ChangeAnnotationIdentifier) {\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate);\n    }\n    ChangeAnnotationIdentifier.is = is;\n})(ChangeAnnotationIdentifier || (ChangeAnnotationIdentifier = {}));\nexport var AnnotatedTextEdit;\n(function (AnnotatedTextEdit) {\n    /**\n     * Creates an annotated replace text edit.\n     *\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     * @param annotation The annotation.\n     */\n    function replace(range, newText, annotation) {\n        return { range: range, newText: newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.replace = replace;\n    /**\n     * Creates an annotated insert text edit.\n     *\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     * @param annotation The annotation.\n     */\n    function insert(position, newText, annotation) {\n        return { range: { start: position, end: position }, newText: newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.insert = insert;\n    /**\n     * Creates an annotated delete text edit.\n     *\n     * @param range The range of text to be deleted.\n     * @param annotation The annotation.\n     */\n    function del(range, annotation) {\n        return { range: range, newText: '', annotationId: annotation };\n    }\n    AnnotatedTextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return TextEdit.is(candidate) && (ChangeAnnotation.is(candidate.annotationId) || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    AnnotatedTextEdit.is = is;\n})(AnnotatedTextEdit || (AnnotatedTextEdit = {}));\n/**\n * The TextDocumentEdit namespace provides helper function to create\n * an edit that manipulates a text document.\n */\nexport var TextDocumentEdit;\n(function (TextDocumentEdit) {\n    /**\n     * Creates a new `TextDocumentEdit`\n     */\n    function create(textDocument, edits) {\n        return { textDocument: textDocument, edits: edits };\n    }\n    TextDocumentEdit.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate)\n            && OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument)\n            && Array.isArray(candidate.edits);\n    }\n    TextDocumentEdit.is = is;\n})(TextDocumentEdit || (TextDocumentEdit = {}));\nexport var CreateFile;\n(function (CreateFile) {\n    function create(uri, options, annotation) {\n        var result = {\n            kind: 'create',\n            uri: uri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    CreateFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    CreateFile.is = is;\n})(CreateFile || (CreateFile = {}));\nexport var RenameFile;\n(function (RenameFile) {\n    function create(oldUri, newUri, options, annotation) {\n        var result = {\n            kind: 'rename',\n            oldUri: oldUri,\n            newUri: newUri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    RenameFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    RenameFile.is = is;\n})(RenameFile || (RenameFile = {}));\nexport var DeleteFile;\n(function (DeleteFile) {\n    function create(uri, options, annotation) {\n        var result = {\n            kind: 'delete',\n            uri: uri\n        };\n        if (options !== undefined && (options.recursive !== undefined || options.ignoreIfNotExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    DeleteFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.recursive === undefined || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === undefined || Is.boolean(candidate.options.ignoreIfNotExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    DeleteFile.is = is;\n})(DeleteFile || (DeleteFile = {}));\nexport var WorkspaceEdit;\n(function (WorkspaceEdit) {\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            (candidate.changes !== undefined || candidate.documentChanges !== undefined) &&\n            (candidate.documentChanges === undefined || candidate.documentChanges.every(function (change) {\n                if (Is.string(change.kind)) {\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\n                }\n                else {\n                    return TextDocumentEdit.is(change);\n                }\n            }));\n    }\n    WorkspaceEdit.is = is;\n})(WorkspaceEdit || (WorkspaceEdit = {}));\nvar TextEditChangeImpl = /** @class */ (function () {\n    function TextEditChangeImpl(edits, changeAnnotations) {\n        this.edits = edits;\n        this.changeAnnotations = changeAnnotations;\n    }\n    TextEditChangeImpl.prototype.insert = function (position, newText, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.insert(position, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.insert(position, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.insert(position, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.replace = function (range, newText, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.replace(range, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.replace(range, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.replace(range, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.delete = function (range, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.del(range);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.del(range, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.del(range, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.add = function (edit) {\n        this.edits.push(edit);\n    };\n    TextEditChangeImpl.prototype.all = function () {\n        return this.edits;\n    };\n    TextEditChangeImpl.prototype.clear = function () {\n        this.edits.splice(0, this.edits.length);\n    };\n    TextEditChangeImpl.prototype.assertChangeAnnotations = function (value) {\n        if (value === undefined) {\n            throw new Error(\"Text edit change is not configured to manage change annotations.\");\n        }\n    };\n    return TextEditChangeImpl;\n}());\n/**\n * A helper class\n */\nvar ChangeAnnotations = /** @class */ (function () {\n    function ChangeAnnotations(annotations) {\n        this._annotations = annotations === undefined ? Object.create(null) : annotations;\n        this._counter = 0;\n        this._size = 0;\n    }\n    ChangeAnnotations.prototype.all = function () {\n        return this._annotations;\n    };\n    Object.defineProperty(ChangeAnnotations.prototype, \"size\", {\n        get: function () {\n            return this._size;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ChangeAnnotations.prototype.manage = function (idOrAnnotation, annotation) {\n        var id;\n        if (ChangeAnnotationIdentifier.is(idOrAnnotation)) {\n            id = idOrAnnotation;\n        }\n        else {\n            id = this.nextId();\n            annotation = idOrAnnotation;\n        }\n        if (this._annotations[id] !== undefined) {\n            throw new Error(\"Id \".concat(id, \" is already in use.\"));\n        }\n        if (annotation === undefined) {\n            throw new Error(\"No annotation provided for id \".concat(id));\n        }\n        this._annotations[id] = annotation;\n        this._size++;\n        return id;\n    };\n    ChangeAnnotations.prototype.nextId = function () {\n        this._counter++;\n        return this._counter.toString();\n    };\n    return ChangeAnnotations;\n}());\n/**\n * A workspace change helps constructing changes to a workspace.\n */\nvar WorkspaceChange = /** @class */ (function () {\n    function WorkspaceChange(workspaceEdit) {\n        var _this = this;\n        this._textEditChanges = Object.create(null);\n        if (workspaceEdit !== undefined) {\n            this._workspaceEdit = workspaceEdit;\n            if (workspaceEdit.documentChanges) {\n                this._changeAnnotations = new ChangeAnnotations(workspaceEdit.changeAnnotations);\n                workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                workspaceEdit.documentChanges.forEach(function (change) {\n                    if (TextDocumentEdit.is(change)) {\n                        var textEditChange = new TextEditChangeImpl(change.edits, _this._changeAnnotations);\n                        _this._textEditChanges[change.textDocument.uri] = textEditChange;\n                    }\n                });\n            }\n            else if (workspaceEdit.changes) {\n                Object.keys(workspaceEdit.changes).forEach(function (key) {\n                    var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\n                    _this._textEditChanges[key] = textEditChange;\n                });\n            }\n        }\n        else {\n            this._workspaceEdit = {};\n        }\n    }\n    Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\n        /**\n         * Returns the underlying [WorkspaceEdit](#WorkspaceEdit) literal\n         * use to be returned from a workspace edit operation like rename.\n         */\n        get: function () {\n            this.initDocumentChanges();\n            if (this._changeAnnotations !== undefined) {\n                if (this._changeAnnotations.size === 0) {\n                    this._workspaceEdit.changeAnnotations = undefined;\n                }\n                else {\n                    this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                }\n            }\n            return this._workspaceEdit;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WorkspaceChange.prototype.getTextEditChange = function (key) {\n        if (OptionalVersionedTextDocumentIdentifier.is(key)) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            var textDocument = { uri: key.uri, version: key.version };\n            var result = this._textEditChanges[textDocument.uri];\n            if (!result) {\n                var edits = [];\n                var textDocumentEdit = {\n                    textDocument: textDocument,\n                    edits: edits\n                };\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\n                result = new TextEditChangeImpl(edits, this._changeAnnotations);\n                this._textEditChanges[textDocument.uri] = result;\n            }\n            return result;\n        }\n        else {\n            this.initChanges();\n            if (this._workspaceEdit.changes === undefined) {\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\n            }\n            var result = this._textEditChanges[key];\n            if (!result) {\n                var edits = [];\n                this._workspaceEdit.changes[key] = edits;\n                result = new TextEditChangeImpl(edits);\n                this._textEditChanges[key] = result;\n            }\n            return result;\n        }\n    };\n    WorkspaceChange.prototype.initDocumentChanges = function () {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._changeAnnotations = new ChangeAnnotations();\n            this._workspaceEdit.documentChanges = [];\n            this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n        }\n    };\n    WorkspaceChange.prototype.initChanges = function () {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._workspaceEdit.changes = Object.create(null);\n        }\n    };\n    WorkspaceChange.prototype.createFile = function (uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = CreateFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = CreateFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    WorkspaceChange.prototype.renameFile = function (oldUri, newUri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = RenameFile.create(oldUri, newUri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = RenameFile.create(oldUri, newUri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    WorkspaceChange.prototype.deleteFile = function (uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = DeleteFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = DeleteFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    return WorkspaceChange;\n}());\nexport { WorkspaceChange };\n/**\n * The TextDocumentIdentifier namespace provides helper functions to work with\n * [TextDocumentIdentifier](#TextDocumentIdentifier) literals.\n */\nexport var TextDocumentIdentifier;\n(function (TextDocumentIdentifier) {\n    /**\n     * Creates a new TextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     */\n    function create(uri) {\n        return { uri: uri };\n    }\n    TextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentIdentifier](#TextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri);\n    }\n    TextDocumentIdentifier.is = is;\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\n/**\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\n * [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) literals.\n */\nexport var VersionedTextDocumentIdentifier;\n(function (VersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new VersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    VersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.integer(candidate.version);\n    }\n    VersionedTextDocumentIdentifier.is = is;\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\n/**\n * The OptionalVersionedTextDocumentIdentifier namespace provides helper functions to work with\n * [OptionalVersionedTextDocumentIdentifier](#OptionalVersionedTextDocumentIdentifier) literals.\n */\nexport var OptionalVersionedTextDocumentIdentifier;\n(function (OptionalVersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new OptionalVersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    OptionalVersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [OptionalVersionedTextDocumentIdentifier](#OptionalVersionedTextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.integer(candidate.version));\n    }\n    OptionalVersionedTextDocumentIdentifier.is = is;\n})(OptionalVersionedTextDocumentIdentifier || (OptionalVersionedTextDocumentIdentifier = {}));\n/**\n * The TextDocumentItem namespace provides helper functions to work with\n * [TextDocumentItem](#TextDocumentItem) literals.\n */\nexport var TextDocumentItem;\n(function (TextDocumentItem) {\n    /**\n     * Creates a new TextDocumentItem literal.\n     * @param uri The document's uri.\n     * @param languageId The document's language identifier.\n     * @param version The document's version number.\n     * @param text The document's text.\n     */\n    function create(uri, languageId, version, text) {\n        return { uri: uri, languageId: languageId, version: version, text: text };\n    }\n    TextDocumentItem.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentItem](#TextDocumentItem) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.integer(candidate.version) && Is.string(candidate.text);\n    }\n    TextDocumentItem.is = is;\n})(TextDocumentItem || (TextDocumentItem = {}));\n/**\n * Describes the content type that a client supports in various\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\n *\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\n * are reserved for internal usage.\n */\nexport var MarkupKind;\n(function (MarkupKind) {\n    /**\n     * Plain text is supported as a content format\n     */\n    MarkupKind.PlainText = 'plaintext';\n    /**\n     * Markdown is supported as a content format\n     */\n    MarkupKind.Markdown = 'markdown';\n    /**\n     * Checks whether the given value is a value of the [MarkupKind](#MarkupKind) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\n    }\n    MarkupKind.is = is;\n})(MarkupKind || (MarkupKind = {}));\nexport var MarkupContent;\n(function (MarkupContent) {\n    /**\n     * Checks whether the given value conforms to the [MarkupContent](#MarkupContent) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\n    }\n    MarkupContent.is = is;\n})(MarkupContent || (MarkupContent = {}));\n/**\n * The kind of a completion entry.\n */\nexport var CompletionItemKind;\n(function (CompletionItemKind) {\n    CompletionItemKind.Text = 1;\n    CompletionItemKind.Method = 2;\n    CompletionItemKind.Function = 3;\n    CompletionItemKind.Constructor = 4;\n    CompletionItemKind.Field = 5;\n    CompletionItemKind.Variable = 6;\n    CompletionItemKind.Class = 7;\n    CompletionItemKind.Interface = 8;\n    CompletionItemKind.Module = 9;\n    CompletionItemKind.Property = 10;\n    CompletionItemKind.Unit = 11;\n    CompletionItemKind.Value = 12;\n    CompletionItemKind.Enum = 13;\n    CompletionItemKind.Keyword = 14;\n    CompletionItemKind.Snippet = 15;\n    CompletionItemKind.Color = 16;\n    CompletionItemKind.File = 17;\n    CompletionItemKind.Reference = 18;\n    CompletionItemKind.Folder = 19;\n    CompletionItemKind.EnumMember = 20;\n    CompletionItemKind.Constant = 21;\n    CompletionItemKind.Struct = 22;\n    CompletionItemKind.Event = 23;\n    CompletionItemKind.Operator = 24;\n    CompletionItemKind.TypeParameter = 25;\n})(CompletionItemKind || (CompletionItemKind = {}));\n/**\n * Defines whether the insert text in a completion item should be interpreted as\n * plain text or a snippet.\n */\nexport var InsertTextFormat;\n(function (InsertTextFormat) {\n    /**\n     * The primary text to be inserted is treated as a plain string.\n     */\n    InsertTextFormat.PlainText = 1;\n    /**\n     * The primary text to be inserted is treated as a snippet.\n     *\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\n     * the end of the snippet. Placeholders with equal identifiers are linked,\n     * that is typing in one will update others too.\n     *\n     * See also: https://microsoft.github.io/language-server-protocol/specifications/specification-current/#snippet_syntax\n     */\n    InsertTextFormat.Snippet = 2;\n})(InsertTextFormat || (InsertTextFormat = {}));\n/**\n * Completion item tags are extra annotations that tweak the rendering of a completion\n * item.\n *\n * @since 3.15.0\n */\nexport var CompletionItemTag;\n(function (CompletionItemTag) {\n    /**\n     * Render a completion as obsolete, usually using a strike-out.\n     */\n    CompletionItemTag.Deprecated = 1;\n})(CompletionItemTag || (CompletionItemTag = {}));\n/**\n * The InsertReplaceEdit namespace provides functions to deal with insert / replace edits.\n *\n * @since 3.16.0\n */\nexport var InsertReplaceEdit;\n(function (InsertReplaceEdit) {\n    /**\n     * Creates a new insert / replace edit\n     */\n    function create(newText, insert, replace) {\n        return { newText: newText, insert: insert, replace: replace };\n    }\n    InsertReplaceEdit.create = create;\n    /**\n     * Checks whether the given literal conforms to the [InsertReplaceEdit](#InsertReplaceEdit) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);\n    }\n    InsertReplaceEdit.is = is;\n})(InsertReplaceEdit || (InsertReplaceEdit = {}));\n/**\n * How whitespace and indentation is handled during completion\n * item insertion.\n *\n * @since 3.16.0\n */\nexport var InsertTextMode;\n(function (InsertTextMode) {\n    /**\n     * The insertion or replace strings is taken as it is. If the\n     * value is multi line the lines below the cursor will be\n     * inserted using the indentation defined in the string value.\n     * The client will not apply any kind of adjustments to the\n     * string.\n     */\n    InsertTextMode.asIs = 1;\n    /**\n     * The editor adjusts leading whitespace of new lines so that\n     * they match the indentation up to the cursor of the line for\n     * which the item is accepted.\n     *\n     * Consider a line like this: <2tabs><cursor><3tabs>foo. Accepting a\n     * multi line completion item is indented using 2 tabs and all\n     * following lines inserted will be indented using 2 tabs as well.\n     */\n    InsertTextMode.adjustIndentation = 2;\n})(InsertTextMode || (InsertTextMode = {}));\nexport var CompletionItemLabelDetails;\n(function (CompletionItemLabelDetails) {\n    function is(value) {\n        var candidate = value;\n        return candidate && (Is.string(candidate.detail) || candidate.detail === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    CompletionItemLabelDetails.is = is;\n})(CompletionItemLabelDetails || (CompletionItemLabelDetails = {}));\n/**\n * The CompletionItem namespace provides functions to deal with\n * completion items.\n */\nexport var CompletionItem;\n(function (CompletionItem) {\n    /**\n     * Create a completion item and seed it with a label.\n     * @param label The completion item's label\n     */\n    function create(label) {\n        return { label: label };\n    }\n    CompletionItem.create = create;\n})(CompletionItem || (CompletionItem = {}));\n/**\n * The CompletionList namespace provides functions to deal with\n * completion lists.\n */\nexport var CompletionList;\n(function (CompletionList) {\n    /**\n     * Creates a new completion list.\n     *\n     * @param items The completion items.\n     * @param isIncomplete The list is not complete.\n     */\n    function create(items, isIncomplete) {\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\n    }\n    CompletionList.create = create;\n})(CompletionList || (CompletionList = {}));\nexport var MarkedString;\n(function (MarkedString) {\n    /**\n     * Creates a marked string from plain text.\n     *\n     * @param plainText The plain text.\n     */\n    function fromPlainText(plainText) {\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    }\n    MarkedString.fromPlainText = fromPlainText;\n    /**\n     * Checks whether the given value conforms to the [MarkedString](#MarkedString) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\n    }\n    MarkedString.is = is;\n})(MarkedString || (MarkedString = {}));\nexport var Hover;\n(function (Hover) {\n    /**\n     * Checks whether the given value conforms to the [Hover](#Hover) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\n            MarkedString.is(candidate.contents) ||\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === undefined || Range.is(value.range));\n    }\n    Hover.is = is;\n})(Hover || (Hover = {}));\n/**\n * The ParameterInformation namespace provides helper functions to work with\n * [ParameterInformation](#ParameterInformation) literals.\n */\nexport var ParameterInformation;\n(function (ParameterInformation) {\n    /**\n     * Creates a new parameter information literal.\n     *\n     * @param label A label string.\n     * @param documentation A doc string.\n     */\n    function create(label, documentation) {\n        return documentation ? { label: label, documentation: documentation } : { label: label };\n    }\n    ParameterInformation.create = create;\n})(ParameterInformation || (ParameterInformation = {}));\n/**\n * The SignatureInformation namespace provides helper functions to work with\n * [SignatureInformation](#SignatureInformation) literals.\n */\nexport var SignatureInformation;\n(function (SignatureInformation) {\n    function create(label, documentation) {\n        var parameters = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            parameters[_i - 2] = arguments[_i];\n        }\n        var result = { label: label };\n        if (Is.defined(documentation)) {\n            result.documentation = documentation;\n        }\n        if (Is.defined(parameters)) {\n            result.parameters = parameters;\n        }\n        else {\n            result.parameters = [];\n        }\n        return result;\n    }\n    SignatureInformation.create = create;\n})(SignatureInformation || (SignatureInformation = {}));\n/**\n * A document highlight kind.\n */\nexport var DocumentHighlightKind;\n(function (DocumentHighlightKind) {\n    /**\n     * A textual occurrence.\n     */\n    DocumentHighlightKind.Text = 1;\n    /**\n     * Read-access of a symbol, like reading a variable.\n     */\n    DocumentHighlightKind.Read = 2;\n    /**\n     * Write-access of a symbol, like writing to a variable.\n     */\n    DocumentHighlightKind.Write = 3;\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\n/**\n * DocumentHighlight namespace to provide helper functions to work with\n * [DocumentHighlight](#DocumentHighlight) literals.\n */\nexport var DocumentHighlight;\n(function (DocumentHighlight) {\n    /**\n     * Create a DocumentHighlight object.\n     * @param range The range the highlight applies to.\n     * @param kind The highlight kind\n     */\n    function create(range, kind) {\n        var result = { range: range };\n        if (Is.number(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    DocumentHighlight.create = create;\n})(DocumentHighlight || (DocumentHighlight = {}));\n/**\n * A symbol kind.\n */\nexport var SymbolKind;\n(function (SymbolKind) {\n    SymbolKind.File = 1;\n    SymbolKind.Module = 2;\n    SymbolKind.Namespace = 3;\n    SymbolKind.Package = 4;\n    SymbolKind.Class = 5;\n    SymbolKind.Method = 6;\n    SymbolKind.Property = 7;\n    SymbolKind.Field = 8;\n    SymbolKind.Constructor = 9;\n    SymbolKind.Enum = 10;\n    SymbolKind.Interface = 11;\n    SymbolKind.Function = 12;\n    SymbolKind.Variable = 13;\n    SymbolKind.Constant = 14;\n    SymbolKind.String = 15;\n    SymbolKind.Number = 16;\n    SymbolKind.Boolean = 17;\n    SymbolKind.Array = 18;\n    SymbolKind.Object = 19;\n    SymbolKind.Key = 20;\n    SymbolKind.Null = 21;\n    SymbolKind.EnumMember = 22;\n    SymbolKind.Struct = 23;\n    SymbolKind.Event = 24;\n    SymbolKind.Operator = 25;\n    SymbolKind.TypeParameter = 26;\n})(SymbolKind || (SymbolKind = {}));\n/**\n * Symbol tags are extra annotations that tweak the rendering of a symbol.\n *\n * @since 3.16\n */\nexport var SymbolTag;\n(function (SymbolTag) {\n    /**\n     * Render a symbol as obsolete, usually using a strike-out.\n     */\n    SymbolTag.Deprecated = 1;\n})(SymbolTag || (SymbolTag = {}));\nexport var SymbolInformation;\n(function (SymbolInformation) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the location of the symbol.\n     * @param uri The resource of the location of symbol.\n     * @param containerName The name of the symbol containing the symbol.\n     */\n    function create(name, kind, range, uri, containerName) {\n        var result = {\n            name: name,\n            kind: kind,\n            location: { uri: uri, range: range }\n        };\n        if (containerName) {\n            result.containerName = containerName;\n        }\n        return result;\n    }\n    SymbolInformation.create = create;\n})(SymbolInformation || (SymbolInformation = {}));\nexport var WorkspaceSymbol;\n(function (WorkspaceSymbol) {\n    /**\n     * Create a new workspace symbol.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param uri The resource of the location of the symbol.\n     * @param range An options range of the location.\n     * @returns A WorkspaceSymbol.\n     */\n    function create(name, kind, uri, range) {\n        return range !== undefined\n            ? { name: name, kind: kind, location: { uri: uri, range: range } }\n            : { name: name, kind: kind, location: { uri: uri } };\n    }\n    WorkspaceSymbol.create = create;\n})(WorkspaceSymbol || (WorkspaceSymbol = {}));\nexport var DocumentSymbol;\n(function (DocumentSymbol) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param detail The detail of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the symbol.\n     * @param selectionRange The selectionRange of the symbol.\n     * @param children Children of the symbol.\n     */\n    function create(name, detail, kind, range, selectionRange, children) {\n        var result = {\n            name: name,\n            detail: detail,\n            kind: kind,\n            range: range,\n            selectionRange: selectionRange\n        };\n        if (children !== undefined) {\n            result.children = children;\n        }\n        return result;\n    }\n    DocumentSymbol.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentSymbol](#DocumentSymbol) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\n            (candidate.detail === undefined || Is.string(candidate.detail)) &&\n            (candidate.deprecated === undefined || Is.boolean(candidate.deprecated)) &&\n            (candidate.children === undefined || Array.isArray(candidate.children)) &&\n            (candidate.tags === undefined || Array.isArray(candidate.tags));\n    }\n    DocumentSymbol.is = is;\n})(DocumentSymbol || (DocumentSymbol = {}));\n/**\n * A set of predefined code action kinds\n */\nexport var CodeActionKind;\n(function (CodeActionKind) {\n    /**\n     * Empty kind.\n     */\n    CodeActionKind.Empty = '';\n    /**\n     * Base kind for quickfix actions: 'quickfix'\n     */\n    CodeActionKind.QuickFix = 'quickfix';\n    /**\n     * Base kind for refactoring actions: 'refactor'\n     */\n    CodeActionKind.Refactor = 'refactor';\n    /**\n     * Base kind for refactoring extraction actions: 'refactor.extract'\n     *\n     * Example extract actions:\n     *\n     * - Extract method\n     * - Extract function\n     * - Extract variable\n     * - Extract interface from class\n     * - ...\n     */\n    CodeActionKind.RefactorExtract = 'refactor.extract';\n    /**\n     * Base kind for refactoring inline actions: 'refactor.inline'\n     *\n     * Example inline actions:\n     *\n     * - Inline function\n     * - Inline variable\n     * - Inline constant\n     * - ...\n     */\n    CodeActionKind.RefactorInline = 'refactor.inline';\n    /**\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\n     *\n     * Example rewrite actions:\n     *\n     * - Convert JavaScript function to class\n     * - Add or remove parameter\n     * - Encapsulate field\n     * - Make method static\n     * - Move method to base class\n     * - ...\n     */\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\n    /**\n     * Base kind for source actions: `source`\n     *\n     * Source code actions apply to the entire file.\n     */\n    CodeActionKind.Source = 'source';\n    /**\n     * Base kind for an organize imports source action: `source.organizeImports`\n     */\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\n    /**\n     * Base kind for auto-fix source actions: `source.fixAll`.\n     *\n     * Fix all actions automatically fix errors that have a clear fix that do not require user input.\n     * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\n     *\n     * @since 3.15.0\n     */\n    CodeActionKind.SourceFixAll = 'source.fixAll';\n})(CodeActionKind || (CodeActionKind = {}));\n/**\n * The reason why code actions were requested.\n *\n * @since 3.17.0\n */\nexport var CodeActionTriggerKind;\n(function (CodeActionTriggerKind) {\n    /**\n     * Code actions were explicitly requested by the user or by an extension.\n     */\n    CodeActionTriggerKind.Invoked = 1;\n    /**\n     * Code actions were requested automatically.\n     *\n     * This typically happens when current selection in a file changes, but can\n     * also be triggered when file content changes.\n     */\n    CodeActionTriggerKind.Automatic = 2;\n})(CodeActionTriggerKind || (CodeActionTriggerKind = {}));\n/**\n * The CodeActionContext namespace provides helper functions to work with\n * [CodeActionContext](#CodeActionContext) literals.\n */\nexport var CodeActionContext;\n(function (CodeActionContext) {\n    /**\n     * Creates a new CodeActionContext literal.\n     */\n    function create(diagnostics, only, triggerKind) {\n        var result = { diagnostics: diagnostics };\n        if (only !== undefined && only !== null) {\n            result.only = only;\n        }\n        if (triggerKind !== undefined && triggerKind !== null) {\n            result.triggerKind = triggerKind;\n        }\n        return result;\n    }\n    CodeActionContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeActionContext](#CodeActionContext) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is)\n            && (candidate.only === undefined || Is.typedArray(candidate.only, Is.string))\n            && (candidate.triggerKind === undefined || candidate.triggerKind === CodeActionTriggerKind.Invoked || candidate.triggerKind === CodeActionTriggerKind.Automatic);\n    }\n    CodeActionContext.is = is;\n})(CodeActionContext || (CodeActionContext = {}));\nexport var CodeAction;\n(function (CodeAction) {\n    function create(title, kindOrCommandOrEdit, kind) {\n        var result = { title: title };\n        var checkKind = true;\n        if (typeof kindOrCommandOrEdit === 'string') {\n            checkKind = false;\n            result.kind = kindOrCommandOrEdit;\n        }\n        else if (Command.is(kindOrCommandOrEdit)) {\n            result.command = kindOrCommandOrEdit;\n        }\n        else {\n            result.edit = kindOrCommandOrEdit;\n        }\n        if (checkKind && kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    CodeAction.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.title) &&\n            (candidate.diagnostics === undefined || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\n            (candidate.kind === undefined || Is.string(candidate.kind)) &&\n            (candidate.edit !== undefined || candidate.command !== undefined) &&\n            (candidate.command === undefined || Command.is(candidate.command)) &&\n            (candidate.isPreferred === undefined || Is.boolean(candidate.isPreferred)) &&\n            (candidate.edit === undefined || WorkspaceEdit.is(candidate.edit));\n    }\n    CodeAction.is = is;\n})(CodeAction || (CodeAction = {}));\n/**\n * The CodeLens namespace provides helper functions to work with\n * [CodeLens](#CodeLens) literals.\n */\nexport var CodeLens;\n(function (CodeLens) {\n    /**\n     * Creates a new CodeLens literal.\n     */\n    function create(range, data) {\n        var result = { range: range };\n        if (Is.defined(data)) {\n            result.data = data;\n        }\n        return result;\n    }\n    CodeLens.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeLens](#CodeLens) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\n    }\n    CodeLens.is = is;\n})(CodeLens || (CodeLens = {}));\n/**\n * The FormattingOptions namespace provides helper functions to work with\n * [FormattingOptions](#FormattingOptions) literals.\n */\nexport var FormattingOptions;\n(function (FormattingOptions) {\n    /**\n     * Creates a new FormattingOptions literal.\n     */\n    function create(tabSize, insertSpaces) {\n        return { tabSize: tabSize, insertSpaces: insertSpaces };\n    }\n    FormattingOptions.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FormattingOptions](#FormattingOptions) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.uinteger(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\n    }\n    FormattingOptions.is = is;\n})(FormattingOptions || (FormattingOptions = {}));\n/**\n * The DocumentLink namespace provides helper functions to work with\n * [DocumentLink](#DocumentLink) literals.\n */\nexport var DocumentLink;\n(function (DocumentLink) {\n    /**\n     * Creates a new DocumentLink literal.\n     */\n    function create(range, target, data) {\n        return { range: range, target: target, data: data };\n    }\n    DocumentLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentLink](#DocumentLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\n    }\n    DocumentLink.is = is;\n})(DocumentLink || (DocumentLink = {}));\n/**\n * The SelectionRange namespace provides helper function to work with\n * SelectionRange literals.\n */\nexport var SelectionRange;\n(function (SelectionRange) {\n    /**\n     * Creates a new SelectionRange\n     * @param range the range.\n     * @param parent an optional parent.\n     */\n    function create(range, parent) {\n        return { range: range, parent: parent };\n    }\n    SelectionRange.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\n    }\n    SelectionRange.is = is;\n})(SelectionRange || (SelectionRange = {}));\n/**\n * A set of predefined token types. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenTypes;\n(function (SemanticTokenTypes) {\n    SemanticTokenTypes[\"namespace\"] = \"namespace\";\n    /**\n     * Represents a generic type. Acts as a fallback for types which can't be mapped to\n     * a specific type like class or enum.\n     */\n    SemanticTokenTypes[\"type\"] = \"type\";\n    SemanticTokenTypes[\"class\"] = \"class\";\n    SemanticTokenTypes[\"enum\"] = \"enum\";\n    SemanticTokenTypes[\"interface\"] = \"interface\";\n    SemanticTokenTypes[\"struct\"] = \"struct\";\n    SemanticTokenTypes[\"typeParameter\"] = \"typeParameter\";\n    SemanticTokenTypes[\"parameter\"] = \"parameter\";\n    SemanticTokenTypes[\"variable\"] = \"variable\";\n    SemanticTokenTypes[\"property\"] = \"property\";\n    SemanticTokenTypes[\"enumMember\"] = \"enumMember\";\n    SemanticTokenTypes[\"event\"] = \"event\";\n    SemanticTokenTypes[\"function\"] = \"function\";\n    SemanticTokenTypes[\"method\"] = \"method\";\n    SemanticTokenTypes[\"macro\"] = \"macro\";\n    SemanticTokenTypes[\"keyword\"] = \"keyword\";\n    SemanticTokenTypes[\"modifier\"] = \"modifier\";\n    SemanticTokenTypes[\"comment\"] = \"comment\";\n    SemanticTokenTypes[\"string\"] = \"string\";\n    SemanticTokenTypes[\"number\"] = \"number\";\n    SemanticTokenTypes[\"regexp\"] = \"regexp\";\n    SemanticTokenTypes[\"operator\"] = \"operator\";\n    /**\n     * @since 3.17.0\n     */\n    SemanticTokenTypes[\"decorator\"] = \"decorator\";\n})(SemanticTokenTypes || (SemanticTokenTypes = {}));\n/**\n * A set of predefined token modifiers. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenModifiers;\n(function (SemanticTokenModifiers) {\n    SemanticTokenModifiers[\"declaration\"] = \"declaration\";\n    SemanticTokenModifiers[\"definition\"] = \"definition\";\n    SemanticTokenModifiers[\"readonly\"] = \"readonly\";\n    SemanticTokenModifiers[\"static\"] = \"static\";\n    SemanticTokenModifiers[\"deprecated\"] = \"deprecated\";\n    SemanticTokenModifiers[\"abstract\"] = \"abstract\";\n    SemanticTokenModifiers[\"async\"] = \"async\";\n    SemanticTokenModifiers[\"modification\"] = \"modification\";\n    SemanticTokenModifiers[\"documentation\"] = \"documentation\";\n    SemanticTokenModifiers[\"defaultLibrary\"] = \"defaultLibrary\";\n})(SemanticTokenModifiers || (SemanticTokenModifiers = {}));\n/**\n * @since 3.16.0\n */\nexport var SemanticTokens;\n(function (SemanticTokens) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.resultId === undefined || typeof candidate.resultId === 'string') &&\n            Array.isArray(candidate.data) && (candidate.data.length === 0 || typeof candidate.data[0] === 'number');\n    }\n    SemanticTokens.is = is;\n})(SemanticTokens || (SemanticTokens = {}));\n/**\n * The InlineValueText namespace provides functions to deal with InlineValueTexts.\n *\n * @since 3.17.0\n */\nexport var InlineValueText;\n(function (InlineValueText) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, text) {\n        return { range: range, text: text };\n    }\n    InlineValueText.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.string(candidate.text);\n    }\n    InlineValueText.is = is;\n})(InlineValueText || (InlineValueText = {}));\n/**\n * The InlineValueVariableLookup namespace provides functions to deal with InlineValueVariableLookups.\n *\n * @since 3.17.0\n */\nexport var InlineValueVariableLookup;\n(function (InlineValueVariableLookup) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, variableName, caseSensitiveLookup) {\n        return { range: range, variableName: variableName, caseSensitiveLookup: caseSensitiveLookup };\n    }\n    InlineValueVariableLookup.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.boolean(candidate.caseSensitiveLookup)\n            && (Is.string(candidate.variableName) || candidate.variableName === undefined);\n    }\n    InlineValueVariableLookup.is = is;\n})(InlineValueVariableLookup || (InlineValueVariableLookup = {}));\n/**\n * The InlineValueEvaluatableExpression namespace provides functions to deal with InlineValueEvaluatableExpression.\n *\n * @since 3.17.0\n */\nexport var InlineValueEvaluatableExpression;\n(function (InlineValueEvaluatableExpression) {\n    /**\n     * Creates a new InlineValueEvaluatableExpression literal.\n     */\n    function create(range, expression) {\n        return { range: range, expression: expression };\n    }\n    InlineValueEvaluatableExpression.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range)\n            && (Is.string(candidate.expression) || candidate.expression === undefined);\n    }\n    InlineValueEvaluatableExpression.is = is;\n})(InlineValueEvaluatableExpression || (InlineValueEvaluatableExpression = {}));\n/**\n * The InlineValueContext namespace provides helper functions to work with\n * [InlineValueContext](#InlineValueContext) literals.\n *\n * @since 3.17.0\n */\nexport var InlineValueContext;\n(function (InlineValueContext) {\n    /**\n     * Creates a new InlineValueContext literal.\n     */\n    function create(frameId, stoppedLocation) {\n        return { frameId: frameId, stoppedLocation: stoppedLocation };\n    }\n    InlineValueContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the [InlineValueContext](#InlineValueContext) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(value.stoppedLocation);\n    }\n    InlineValueContext.is = is;\n})(InlineValueContext || (InlineValueContext = {}));\n/**\n * Inlay hint kinds.\n *\n * @since 3.17.0\n */\nexport var InlayHintKind;\n(function (InlayHintKind) {\n    /**\n     * An inlay hint that for a type annotation.\n     */\n    InlayHintKind.Type = 1;\n    /**\n     * An inlay hint that is for a parameter.\n     */\n    InlayHintKind.Parameter = 2;\n    function is(value) {\n        return value === 1 || value === 2;\n    }\n    InlayHintKind.is = is;\n})(InlayHintKind || (InlayHintKind = {}));\nexport var InlayHintLabelPart;\n(function (InlayHintLabelPart) {\n    function create(value) {\n        return { value: value };\n    }\n    InlayHintLabelPart.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.location === undefined || Location.is(candidate.location))\n            && (candidate.command === undefined || Command.is(candidate.command));\n    }\n    InlayHintLabelPart.is = is;\n})(InlayHintLabelPart || (InlayHintLabelPart = {}));\nexport var InlayHint;\n(function (InlayHint) {\n    function create(position, label, kind) {\n        var result = { position: position, label: label };\n        if (kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    InlayHint.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.position)\n            && (Is.string(candidate.label) || Is.typedArray(candidate.label, InlayHintLabelPart.is))\n            && (candidate.kind === undefined || InlayHintKind.is(candidate.kind))\n            && (candidate.textEdits === undefined) || Is.typedArray(candidate.textEdits, TextEdit.is)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.paddingLeft === undefined || Is.boolean(candidate.paddingLeft))\n            && (candidate.paddingRight === undefined || Is.boolean(candidate.paddingRight));\n    }\n    InlayHint.is = is;\n})(InlayHint || (InlayHint = {}));\nexport var WorkspaceFolder;\n(function (WorkspaceFolder) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && URI.is(candidate.uri) && Is.string(candidate.name);\n    }\n    WorkspaceFolder.is = is;\n})(WorkspaceFolder || (WorkspaceFolder = {}));\nexport var EOL = ['\\n', '\\r\\n', '\\r'];\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new ITextDocument literal from the given uri and content.\n     * @param uri The document's uri.\n     * @param languageId The document's language Id.\n     * @param version The document's version.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ITextDocument](#ITextDocument) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.uinteger(candidate.lineCount)\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\n    }\n    TextDocument.is = is;\n    function applyEdits(document, edits) {\n        var text = document.getText();\n        var sortedEdits = mergeSort(edits, function (a, b) {\n            var diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        var lastModifiedOffset = text.length;\n        for (var i = sortedEdits.length - 1; i >= 0; i--) {\n            var e = sortedEdits[i];\n            var startOffset = document.offsetAt(e.range.start);\n            var endOffset = document.offsetAt(e.range.end);\n            if (endOffset <= lastModifiedOffset) {\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\n            }\n            else {\n                throw new Error('Overlapping edit');\n            }\n            lastModifiedOffset = startOffset;\n        }\n        return text;\n    }\n    TextDocument.applyEdits = applyEdits;\n    function mergeSort(data, compare) {\n        if (data.length <= 1) {\n            // sorted\n            return data;\n        }\n        var p = (data.length / 2) | 0;\n        var left = data.slice(0, p);\n        var right = data.slice(p);\n        mergeSort(left, compare);\n        mergeSort(right, compare);\n        var leftIdx = 0;\n        var rightIdx = 0;\n        var i = 0;\n        while (leftIdx < left.length && rightIdx < right.length) {\n            var ret = compare(left[leftIdx], right[rightIdx]);\n            if (ret <= 0) {\n                // smaller_equal -> take left to preserve order\n                data[i++] = left[leftIdx++];\n            }\n            else {\n                // greater -> take right\n                data[i++] = right[rightIdx++];\n            }\n        }\n        while (leftIdx < left.length) {\n            data[i++] = left[leftIdx++];\n        }\n        while (rightIdx < right.length) {\n            data[i++] = right[rightIdx++];\n        }\n        return data;\n    }\n})(TextDocument || (TextDocument = {}));\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nvar FullTextDocument = /** @class */ (function () {\n    function FullTextDocument(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\n        get: function () {\n            return this._uri;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\n        get: function () {\n            return this._languageId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\n        get: function () {\n            return this._version;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    FullTextDocument.prototype.getText = function (range) {\n        if (range) {\n            var start = this.offsetAt(range.start);\n            var end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    };\n    FullTextDocument.prototype.update = function (event, version) {\n        this._content = event.text;\n        this._version = version;\n        this._lineOffsets = undefined;\n    };\n    FullTextDocument.prototype.getLineOffsets = function () {\n        if (this._lineOffsets === undefined) {\n            var lineOffsets = [];\n            var text = this._content;\n            var isLineStart = true;\n            for (var i = 0; i < text.length; i++) {\n                if (isLineStart) {\n                    lineOffsets.push(i);\n                    isLineStart = false;\n                }\n                var ch = text.charAt(i);\n                isLineStart = (ch === '\\r' || ch === '\\n');\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n                    i++;\n                }\n            }\n            if (isLineStart && text.length > 0) {\n                lineOffsets.push(text.length);\n            }\n            this._lineOffsets = lineOffsets;\n        }\n        return this._lineOffsets;\n    };\n    FullTextDocument.prototype.positionAt = function (offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        var lineOffsets = this.getLineOffsets();\n        var low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return Position.create(0, offset);\n        }\n        while (low < high) {\n            var mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        var line = low - 1;\n        return Position.create(line, offset - lineOffsets[line]);\n    };\n    FullTextDocument.prototype.offsetAt = function (position) {\n        var lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        var lineOffset = lineOffsets[position.line];\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    };\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\n        get: function () {\n            return this.getLineOffsets().length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return FullTextDocument;\n}());\nvar Is;\n(function (Is) {\n    var toString = Object.prototype.toString;\n    function defined(value) {\n        return typeof value !== 'undefined';\n    }\n    Is.defined = defined;\n    function undefined(value) {\n        return typeof value === 'undefined';\n    }\n    Is.undefined = undefined;\n    function boolean(value) {\n        return value === true || value === false;\n    }\n    Is.boolean = boolean;\n    function string(value) {\n        return toString.call(value) === '[object String]';\n    }\n    Is.string = string;\n    function number(value) {\n        return toString.call(value) === '[object Number]';\n    }\n    Is.number = number;\n    function numberRange(value, min, max) {\n        return toString.call(value) === '[object Number]' && min <= value && value <= max;\n    }\n    Is.numberRange = numberRange;\n    function integer(value) {\n        return toString.call(value) === '[object Number]' && -2147483648 <= value && value <= 2147483647;\n    }\n    Is.integer = integer;\n    function uinteger(value) {\n        return toString.call(value) === '[object Number]' && 0 <= value && value <= 2147483647;\n    }\n    Is.uinteger = uinteger;\n    function func(value) {\n        return toString.call(value) === '[object Function]';\n    }\n    Is.func = func;\n    function objectLiteral(value) {\n        // Strictly speaking class instances pass this check as well. Since the LSP\n        // doesn't use classes we ignore this for now. If we do we need to add something\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n        return value !== null && typeof value === 'object';\n    }\n    Is.objectLiteral = objectLiteral;\n    function typedArray(value, check) {\n        return Array.isArray(value) && value.every(check);\n    }\n    Is.typedArray = typedArray;\n})(Is || (Is = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProposedFeatures = exports.NotebookDocuments = exports.TextDocuments = exports.SemanticTokensBuilder = void 0;\nconst semanticTokens_1 = require(\"./semanticTokens\");\nObject.defineProperty(exports, \"SemanticTokensBuilder\", { enumerable: true, get: function () { return semanticTokens_1.SemanticTokensBuilder; } });\n__exportStar(require(\"vscode-languageserver-protocol/\"), exports);\nconst textDocuments_1 = require(\"./textDocuments\");\nObject.defineProperty(exports, \"TextDocuments\", { enumerable: true, get: function () { return textDocuments_1.TextDocuments; } });\nconst notebook_1 = require(\"./notebook\");\nObject.defineProperty(exports, \"NotebookDocuments\", { enumerable: true, get: function () { return notebook_1.NotebookDocuments; } });\n__exportStar(require(\"./server\"), exports);\nvar ProposedFeatures;\n(function (ProposedFeatures) {\n    ProposedFeatures.all = {\n        __brand: 'features',\n    };\n})(ProposedFeatures = exports.ProposedFeatures || (exports.ProposedFeatures = {}));\n//# sourceMappingURL=api.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst CallHierarchyFeature = (Base) => {\n    return class extends Base {\n        get callHierarchy() {\n            return {\n                onPrepare: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\n                    });\n                },\n                onIncomingCalls: (handler) => {\n                    const type = vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onOutgoingCalls: (handler) => {\n                    const type = vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.CallHierarchyFeature = CallHierarchyFeature;\n//# sourceMappingURL=callHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigurationFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst ConfigurationFeature = (Base) => {\n    return class extends Base {\n        getConfiguration(arg) {\n            if (!arg) {\n                return this._getConfiguration({});\n            }\n            else if (Is.string(arg)) {\n                return this._getConfiguration({ section: arg });\n            }\n            else {\n                return this._getConfiguration(arg);\n            }\n        }\n        _getConfiguration(arg) {\n            let params = {\n                items: Array.isArray(arg) ? arg : [arg]\n            };\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.ConfigurationRequest.type, params).then((result) => {\n                if (Array.isArray(result)) {\n                    return Array.isArray(arg) ? result : result[0];\n                }\n                else {\n                    return Array.isArray(arg) ? [] : null;\n                }\n            });\n        }\n    };\n};\nexports.ConfigurationFeature = ConfigurationFeature;\n//# sourceMappingURL=configuration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst DiagnosticFeature = (Base) => {\n    return class extends Base {\n        get diagnostics() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.DiagnosticRefreshRequest.type);\n                },\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.partialResult, params));\n                    });\n                },\n                onWorkspace: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.WorkspaceDiagnosticRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(vscode_languageserver_protocol_1.WorkspaceDiagnosticRequest.partialResult, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.DiagnosticFeature = DiagnosticFeature;\n//# sourceMappingURL=diagnostic.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileOperationsFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst FileOperationsFeature = (Base) => {\n    return class extends Base {\n        onDidCreateFiles(handler) {\n            return this.connection.onNotification(vscode_languageserver_protocol_1.DidCreateFilesNotification.type, (params) => {\n                handler(params);\n            });\n        }\n        onDidRenameFiles(handler) {\n            return this.connection.onNotification(vscode_languageserver_protocol_1.DidRenameFilesNotification.type, (params) => {\n                handler(params);\n            });\n        }\n        onDidDeleteFiles(handler) {\n            return this.connection.onNotification(vscode_languageserver_protocol_1.DidDeleteFilesNotification.type, (params) => {\n                handler(params);\n            });\n        }\n        onWillCreateFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillCreateFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n        onWillRenameFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillRenameFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n        onWillDeleteFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillDeleteFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n    };\n};\nexports.FileOperationsFeature = FileOperationsFeature;\n//# sourceMappingURL=fileOperations.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlayHintFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst InlayHintFeature = (Base) => {\n    return class extends Base {\n        get inlayHint() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.InlayHintRefreshRequest.type);\n                },\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.InlayHintRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params));\n                    });\n                },\n                resolve: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.InlayHintResolveRequest.type, (params, cancel) => {\n                        return handler(params, cancel);\n                    });\n                }\n            };\n        }\n    };\n};\nexports.InlayHintFeature = InlayHintFeature;\n//# sourceMappingURL=inlayHint.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineValueFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst InlineValueFeature = (Base) => {\n    return class extends Base {\n        get inlineValue() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.InlineValueRefreshRequest.type);\n                },\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.InlineValueRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.InlineValueFeature = InlineValueFeature;\n//# sourceMappingURL=inlineValue.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingRangeFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst LinkedEditingRangeFeature = (Base) => {\n    return class extends Base {\n        onLinkedEditingRange(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.LinkedEditingRangeRequest.type, (params, cancel) => {\n                return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\n            });\n        }\n    };\n};\nexports.LinkedEditingRangeFeature = LinkedEditingRangeFeature;\n//# sourceMappingURL=linkedEditingRange.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MonikerFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst MonikerFeature = (Base) => {\n    return class extends Base {\n        get moniker() {\n            return {\n                on: (handler) => {\n                    const type = vscode_languageserver_protocol_1.MonikerRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n            };\n        }\n    };\n};\nexports.MonikerFeature = MonikerFeature;\n//# sourceMappingURL=moniker.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NotebookDocuments = exports.NotebookSyncFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst textDocuments_1 = require(\"./textDocuments\");\nconst NotebookSyncFeature = (Base) => {\n    return class extends Base {\n        get synchronization() {\n            return {\n                onDidOpenNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidOpenNotebookDocumentNotification.type, (params) => {\n                        handler(params);\n                    });\n                },\n                onDidChangeNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidChangeNotebookDocumentNotification.type, (params) => {\n                        handler(params);\n                    });\n                },\n                onDidSaveNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidSaveNotebookDocumentNotification.type, (params) => {\n                        handler(params);\n                    });\n                },\n                onDidCloseNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidCloseNotebookDocumentNotification.type, (params) => {\n                        handler(params);\n                    });\n                }\n            };\n        }\n    };\n};\nexports.NotebookSyncFeature = NotebookSyncFeature;\nclass CellTextDocumentConnection {\n    onDidOpenTextDocument(handler) {\n        this.openHandler = handler;\n        return vscode_languageserver_protocol_1.Disposable.create(() => { this.openHandler = undefined; });\n    }\n    openTextDocument(params) {\n        this.openHandler && this.openHandler(params);\n    }\n    onDidChangeTextDocument(handler) {\n        this.changeHandler = handler;\n        return vscode_languageserver_protocol_1.Disposable.create(() => { this.changeHandler = handler; });\n    }\n    changeTextDocument(params) {\n        this.changeHandler && this.changeHandler(params);\n    }\n    onDidCloseTextDocument(handler) {\n        this.closeHandler = handler;\n        return vscode_languageserver_protocol_1.Disposable.create(() => { this.closeHandler = undefined; });\n    }\n    closeTextDocument(params) {\n        this.closeHandler && this.closeHandler(params);\n    }\n    onWillSaveTextDocument() {\n        return CellTextDocumentConnection.NULL_DISPOSE;\n    }\n    onWillSaveTextDocumentWaitUntil() {\n        return CellTextDocumentConnection.NULL_DISPOSE;\n    }\n    onDidSaveTextDocument() {\n        return CellTextDocumentConnection.NULL_DISPOSE;\n    }\n}\nCellTextDocumentConnection.NULL_DISPOSE = Object.freeze({ dispose: () => { } });\nclass NotebookDocuments {\n    constructor(configurationOrTextDocuments) {\n        if (configurationOrTextDocuments instanceof textDocuments_1.TextDocuments) {\n            this._cellTextDocuments = configurationOrTextDocuments;\n        }\n        else {\n            this._cellTextDocuments = new textDocuments_1.TextDocuments(configurationOrTextDocuments);\n        }\n        this.notebookDocuments = new Map();\n        this.notebookCellMap = new Map();\n        this._onDidOpen = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidChange = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidSave = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidClose = new vscode_languageserver_protocol_1.Emitter();\n    }\n    get cellTextDocuments() {\n        return this._cellTextDocuments;\n    }\n    getCellTextDocument(cell) {\n        return this._cellTextDocuments.get(cell.document);\n    }\n    getNotebookDocument(uri) {\n        return this.notebookDocuments.get(uri);\n    }\n    getNotebookCell(uri) {\n        const value = this.notebookCellMap.get(uri);\n        return value && value[0];\n    }\n    findNotebookDocumentForCell(cell) {\n        const key = typeof cell === 'string' ? cell : cell.document;\n        const value = this.notebookCellMap.get(key);\n        return value && value[1];\n    }\n    get onDidOpen() {\n        return this._onDidOpen.event;\n    }\n    get onDidSave() {\n        return this._onDidSave.event;\n    }\n    get onDidChange() {\n        return this._onDidChange.event;\n    }\n    get onDidClose() {\n        return this._onDidClose.event;\n    }\n    /**\n     * Listens for `low level` notification on the given connection to\n     * update the notebook documents managed by this instance.\n     *\n     * Please note that the connection only provides handlers not an event model. Therefore\n     * listening on a connection will overwrite the following handlers on a connection:\n     * `onDidOpenNotebookDocument`, `onDidChangeNotebookDocument`, `onDidSaveNotebookDocument`,\n     *  and `onDidCloseNotebookDocument`.\n     *\n     * @param connection The connection to listen on.\n     */\n    listen(connection) {\n        const cellTextDocumentConnection = new CellTextDocumentConnection();\n        const disposables = [];\n        disposables.push(this.cellTextDocuments.listen(cellTextDocumentConnection));\n        disposables.push(connection.notebooks.synchronization.onDidOpenNotebookDocument((params) => {\n            this.notebookDocuments.set(params.notebookDocument.uri, params.notebookDocument);\n            for (const cellTextDocument of params.cellTextDocuments) {\n                cellTextDocumentConnection.openTextDocument({ textDocument: cellTextDocument });\n            }\n            this.updateCellMap(params.notebookDocument);\n            this._onDidOpen.fire(params.notebookDocument);\n        }));\n        disposables.push(connection.notebooks.synchronization.onDidChangeNotebookDocument((params) => {\n            const notebookDocument = this.notebookDocuments.get(params.notebookDocument.uri);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            notebookDocument.version = params.notebookDocument.version;\n            const oldMetadata = notebookDocument.metadata;\n            let metadataChanged = false;\n            const change = params.change;\n            if (change.metadata !== undefined) {\n                metadataChanged = true;\n                notebookDocument.metadata = change.metadata;\n            }\n            const opened = [];\n            const closed = [];\n            const data = [];\n            const text = [];\n            if (change.cells !== undefined) {\n                const changedCells = change.cells;\n                if (changedCells.structure !== undefined) {\n                    const array = changedCells.structure.array;\n                    notebookDocument.cells.splice(array.start, array.deleteCount, ...(array.cells !== undefined ? array.cells : []));\n                    // Additional open cell text documents.\n                    if (changedCells.structure.didOpen !== undefined) {\n                        for (const open of changedCells.structure.didOpen) {\n                            cellTextDocumentConnection.openTextDocument({ textDocument: open });\n                            opened.push(open.uri);\n                        }\n                    }\n                    // Additional closed cell test documents.\n                    if (changedCells.structure.didClose) {\n                        for (const close of changedCells.structure.didClose) {\n                            cellTextDocumentConnection.closeTextDocument({ textDocument: close });\n                            closed.push(close.uri);\n                        }\n                    }\n                }\n                if (changedCells.data !== undefined) {\n                    const cellUpdates = new Map(changedCells.data.map(cell => [cell.document, cell]));\n                    for (let i = 0; i <= notebookDocument.cells.length; i++) {\n                        const change = cellUpdates.get(notebookDocument.cells[i].document);\n                        if (change !== undefined) {\n                            const old = notebookDocument.cells.splice(i, 1, change);\n                            data.push({ old: old[0], new: change });\n                            cellUpdates.delete(change.document);\n                            if (cellUpdates.size === 0) {\n                                break;\n                            }\n                        }\n                    }\n                }\n                if (changedCells.textContent !== undefined) {\n                    for (const cellTextDocument of changedCells.textContent) {\n                        cellTextDocumentConnection.changeTextDocument({ textDocument: cellTextDocument.document, contentChanges: cellTextDocument.changes });\n                        text.push(cellTextDocument.document.uri);\n                    }\n                }\n            }\n            // Update internal data structure.\n            this.updateCellMap(notebookDocument);\n            const changeEvent = { notebookDocument };\n            if (metadataChanged) {\n                changeEvent.metadata = { old: oldMetadata, new: notebookDocument.metadata };\n            }\n            const added = [];\n            for (const open of opened) {\n                added.push(this.getNotebookCell(open));\n            }\n            const removed = [];\n            for (const close of closed) {\n                removed.push(this.getNotebookCell(close));\n            }\n            const textContent = [];\n            for (const change of text) {\n                textContent.push(this.getNotebookCell(change));\n            }\n            if (added.length > 0 || removed.length > 0 || data.length > 0 || textContent.length > 0) {\n                changeEvent.cells = { added, removed, changed: { data, textContent } };\n            }\n            if (changeEvent.metadata !== undefined || changeEvent.cells !== undefined) {\n                this._onDidChange.fire(changeEvent);\n            }\n        }));\n        disposables.push(connection.notebooks.synchronization.onDidSaveNotebookDocument((params) => {\n            const notebookDocument = this.notebookDocuments.get(params.notebookDocument.uri);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            this._onDidSave.fire(notebookDocument);\n        }));\n        disposables.push(connection.notebooks.synchronization.onDidCloseNotebookDocument((params) => {\n            const notebookDocument = this.notebookDocuments.get(params.notebookDocument.uri);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            this._onDidClose.fire(notebookDocument);\n            for (const cellTextDocument of params.cellTextDocuments) {\n                cellTextDocumentConnection.closeTextDocument({ textDocument: cellTextDocument });\n            }\n            this.notebookDocuments.delete(params.notebookDocument.uri);\n            for (const cell of notebookDocument.cells) {\n                this.notebookCellMap.delete(cell.document);\n            }\n        }));\n        return vscode_languageserver_protocol_1.Disposable.create(() => { disposables.forEach(disposable => disposable.dispose()); });\n    }\n    updateCellMap(notebookDocument) {\n        for (const cell of notebookDocument.cells) {\n            this.notebookCellMap.set(cell.document, [cell, notebookDocument]);\n        }\n    }\n}\nexports.NotebookDocuments = NotebookDocuments;\n//# sourceMappingURL=notebook.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.attachPartialResult = exports.ProgressFeature = exports.attachWorkDone = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst uuid_1 = require(\"./utils/uuid\");\nclass WorkDoneProgressReporterImpl {\n    constructor(_connection, _token) {\n        this._connection = _connection;\n        this._token = _token;\n        WorkDoneProgressReporterImpl.Instances.set(this._token, this);\n    }\n    begin(title, percentage, message, cancellable) {\n        let param = {\n            kind: 'begin',\n            title,\n            percentage,\n            message,\n            cancellable\n        };\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, param);\n    }\n    report(arg0, arg1) {\n        let param = {\n            kind: 'report'\n        };\n        if (typeof arg0 === 'number') {\n            param.percentage = arg0;\n            if (arg1 !== undefined) {\n                param.message = arg1;\n            }\n        }\n        else {\n            param.message = arg0;\n        }\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, param);\n    }\n    done() {\n        WorkDoneProgressReporterImpl.Instances.delete(this._token);\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, { kind: 'end' });\n    }\n}\nWorkDoneProgressReporterImpl.Instances = new Map();\nclass WorkDoneProgressServerReporterImpl extends WorkDoneProgressReporterImpl {\n    constructor(connection, token) {\n        super(connection, token);\n        this._source = new vscode_languageserver_protocol_1.CancellationTokenSource();\n    }\n    get token() {\n        return this._source.token;\n    }\n    done() {\n        this._source.dispose();\n        super.done();\n    }\n    cancel() {\n        this._source.cancel();\n    }\n}\nclass NullProgressReporter {\n    constructor() {\n    }\n    begin() {\n    }\n    report() {\n    }\n    done() {\n    }\n}\nclass NullProgressServerReporter extends NullProgressReporter {\n    constructor() {\n        super();\n        this._source = new vscode_languageserver_protocol_1.CancellationTokenSource();\n    }\n    get token() {\n        return this._source.token;\n    }\n    done() {\n        this._source.dispose();\n    }\n    cancel() {\n        this._source.cancel();\n    }\n}\nfunction attachWorkDone(connection, params) {\n    if (params === undefined || params.workDoneToken === undefined) {\n        return new NullProgressReporter();\n    }\n    const token = params.workDoneToken;\n    delete params.workDoneToken;\n    return new WorkDoneProgressReporterImpl(connection, token);\n}\nexports.attachWorkDone = attachWorkDone;\nconst ProgressFeature = (Base) => {\n    return class extends Base {\n        constructor() {\n            super();\n            this._progressSupported = false;\n        }\n        initialize(capabilities) {\n            super.initialize(capabilities);\n            if (capabilities?.window?.workDoneProgress === true) {\n                this._progressSupported = true;\n                this.connection.onNotification(vscode_languageserver_protocol_1.WorkDoneProgressCancelNotification.type, (params) => {\n                    let progress = WorkDoneProgressReporterImpl.Instances.get(params.token);\n                    if (progress instanceof WorkDoneProgressServerReporterImpl || progress instanceof NullProgressServerReporter) {\n                        progress.cancel();\n                    }\n                });\n            }\n        }\n        attachWorkDoneProgress(token) {\n            if (token === undefined) {\n                return new NullProgressReporter();\n            }\n            else {\n                return new WorkDoneProgressReporterImpl(this.connection, token);\n            }\n        }\n        createWorkDoneProgress() {\n            if (this._progressSupported) {\n                const token = (0, uuid_1.generateUuid)();\n                return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.type, { token }).then(() => {\n                    const result = new WorkDoneProgressServerReporterImpl(this.connection, token);\n                    return result;\n                });\n            }\n            else {\n                return Promise.resolve(new NullProgressServerReporter());\n            }\n        }\n    };\n};\nexports.ProgressFeature = ProgressFeature;\nvar ResultProgress;\n(function (ResultProgress) {\n    ResultProgress.type = new vscode_languageserver_protocol_1.ProgressType();\n})(ResultProgress || (ResultProgress = {}));\nclass ResultProgressReporterImpl {\n    constructor(_connection, _token) {\n        this._connection = _connection;\n        this._token = _token;\n    }\n    report(data) {\n        this._connection.sendProgress(ResultProgress.type, this._token, data);\n    }\n}\nfunction attachPartialResult(connection, params) {\n    if (params === undefined || params.partialResultToken === undefined) {\n        return undefined;\n    }\n    const token = params.partialResultToken;\n    delete params.partialResultToken;\n    return new ResultProgressReporterImpl(connection, token);\n}\nexports.attachPartialResult = attachPartialResult;\n//# sourceMappingURL=progress.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensBuilder = exports.SemanticTokensDiff = exports.SemanticTokensFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst SemanticTokensFeature = (Base) => {\n    return class extends Base {\n        get semanticTokens() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.SemanticTokensRefreshRequest.type);\n                },\n                on: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onDelta: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onRange: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.SemanticTokensFeature = SemanticTokensFeature;\nclass SemanticTokensDiff {\n    constructor(originalSequence, modifiedSequence) {\n        this.originalSequence = originalSequence;\n        this.modifiedSequence = modifiedSequence;\n    }\n    computeDiff() {\n        const originalLength = this.originalSequence.length;\n        const modifiedLength = this.modifiedSequence.length;\n        let startIndex = 0;\n        while (startIndex < modifiedLength && startIndex < originalLength && this.originalSequence[startIndex] === this.modifiedSequence[startIndex]) {\n            startIndex++;\n        }\n        if (startIndex < modifiedLength && startIndex < originalLength) {\n            let originalEndIndex = originalLength - 1;\n            let modifiedEndIndex = modifiedLength - 1;\n            while (originalEndIndex >= startIndex && modifiedEndIndex >= startIndex && this.originalSequence[originalEndIndex] === this.modifiedSequence[modifiedEndIndex]) {\n                originalEndIndex--;\n                modifiedEndIndex--;\n            }\n            // if one moved behind the start index move them forward again\n            if (originalEndIndex < startIndex || modifiedEndIndex < startIndex) {\n                originalEndIndex++;\n                modifiedEndIndex++;\n            }\n            const deleteCount = originalEndIndex - startIndex + 1;\n            const newData = this.modifiedSequence.slice(startIndex, modifiedEndIndex + 1);\n            // If we moved behind the start index we could have missed a simple delete.\n            if (newData.length === 1 && newData[0] === this.originalSequence[originalEndIndex]) {\n                return [\n                    { start: startIndex, deleteCount: deleteCount - 1 }\n                ];\n            }\n            else {\n                return [\n                    { start: startIndex, deleteCount, data: newData }\n                ];\n            }\n        }\n        else if (startIndex < modifiedLength) {\n            return [\n                { start: startIndex, deleteCount: 0, data: this.modifiedSequence.slice(startIndex) }\n            ];\n        }\n        else if (startIndex < originalLength) {\n            return [\n                { start: startIndex, deleteCount: originalLength - startIndex }\n            ];\n        }\n        else {\n            // The two arrays are the same.\n            return [];\n        }\n    }\n}\nexports.SemanticTokensDiff = SemanticTokensDiff;\nclass SemanticTokensBuilder {\n    constructor() {\n        this._prevData = undefined;\n        this.initialize();\n    }\n    initialize() {\n        this._id = Date.now();\n        this._prevLine = 0;\n        this._prevChar = 0;\n        this._data = [];\n        this._dataLen = 0;\n    }\n    push(line, char, length, tokenType, tokenModifiers) {\n        let pushLine = line;\n        let pushChar = char;\n        if (this._dataLen > 0) {\n            pushLine -= this._prevLine;\n            if (pushLine === 0) {\n                pushChar -= this._prevChar;\n            }\n        }\n        this._data[this._dataLen++] = pushLine;\n        this._data[this._dataLen++] = pushChar;\n        this._data[this._dataLen++] = length;\n        this._data[this._dataLen++] = tokenType;\n        this._data[this._dataLen++] = tokenModifiers;\n        this._prevLine = line;\n        this._prevChar = char;\n    }\n    get id() {\n        return this._id.toString();\n    }\n    previousResult(id) {\n        if (this.id === id) {\n            this._prevData = this._data;\n        }\n        this.initialize();\n    }\n    build() {\n        this._prevData = undefined;\n        return {\n            resultId: this.id,\n            data: this._data\n        };\n    }\n    canBuildEdits() {\n        return this._prevData !== undefined;\n    }\n    buildEdits() {\n        if (this._prevData !== undefined) {\n            return {\n                resultId: this.id,\n                edits: (new SemanticTokensDiff(this._prevData, this._data)).computeDiff()\n            };\n        }\n        else {\n            return this.build();\n        }\n    }\n}\nexports.SemanticTokensBuilder = SemanticTokensBuilder;\n//# sourceMappingURL=semanticTokens.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConnection = exports.combineFeatures = exports.combineNotebooksFeatures = exports.combineLanguagesFeatures = exports.combineWorkspaceFeatures = exports.combineWindowFeatures = exports.combineClientFeatures = exports.combineTracerFeatures = exports.combineTelemetryFeatures = exports.combineConsoleFeatures = exports._NotebooksImpl = exports._LanguagesImpl = exports.BulkUnregistration = exports.BulkRegistration = exports.ErrorMessageTracker = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst UUID = require(\"./utils/uuid\");\nconst progress_1 = require(\"./progress\");\nconst configuration_1 = require(\"./configuration\");\nconst workspaceFolder_1 = require(\"./workspaceFolder\");\nconst callHierarchy_1 = require(\"./callHierarchy\");\nconst semanticTokens_1 = require(\"./semanticTokens\");\nconst showDocument_1 = require(\"./showDocument\");\nconst fileOperations_1 = require(\"./fileOperations\");\nconst linkedEditingRange_1 = require(\"./linkedEditingRange\");\nconst typeHierarchy_1 = require(\"./typeHierarchy\");\nconst inlineValue_1 = require(\"./inlineValue\");\nconst inlayHint_1 = require(\"./inlayHint\");\nconst diagnostic_1 = require(\"./diagnostic\");\nconst notebook_1 = require(\"./notebook\");\nconst moniker_1 = require(\"./moniker\");\nfunction null2Undefined(value) {\n    if (value === null) {\n        return undefined;\n    }\n    return value;\n}\n/**\n * Helps tracking error message. Equal occurrences of the same\n * message are only stored once. This class is for example\n * useful if text documents are validated in a loop and equal\n * error message should be folded into one.\n */\nclass ErrorMessageTracker {\n    constructor() {\n        this._messages = Object.create(null);\n    }\n    /**\n     * Add a message to the tracker.\n     *\n     * @param message The message to add.\n     */\n    add(message) {\n        let count = this._messages[message];\n        if (!count) {\n            count = 0;\n        }\n        count++;\n        this._messages[message] = count;\n    }\n    /**\n     * Send all tracked messages to the connection's window.\n     *\n     * @param connection The connection established between client and server.\n     */\n    sendErrors(connection) {\n        Object.keys(this._messages).forEach(message => {\n            connection.window.showErrorMessage(message);\n        });\n    }\n}\nexports.ErrorMessageTracker = ErrorMessageTracker;\nclass RemoteConsoleImpl {\n    constructor() {\n    }\n    rawAttach(connection) {\n        this._rawConnection = connection;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    initialize(_capabilities) {\n    }\n    error(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Error, message);\n    }\n    warn(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Warning, message);\n    }\n    info(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Info, message);\n    }\n    log(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Log, message);\n    }\n    send(type, message) {\n        if (this._rawConnection) {\n            this._rawConnection.sendNotification(vscode_languageserver_protocol_1.LogMessageNotification.type, { type, message }).catch(() => {\n                (0, vscode_languageserver_protocol_1.RAL)().console.error(`Sending log message failed`);\n            });\n        }\n    }\n}\nclass _RemoteWindowImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    showErrorMessage(message, ...actions) {\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Error, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n    showWarningMessage(message, ...actions) {\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Warning, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n    showInformationMessage(message, ...actions) {\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Info, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n}\nconst RemoteWindowImpl = (0, showDocument_1.ShowDocumentFeature)((0, progress_1.ProgressFeature)(_RemoteWindowImpl));\nvar BulkRegistration;\n(function (BulkRegistration) {\n    /**\n     * Creates a new bulk registration.\n     * @return an empty bulk registration.\n     */\n    function create() {\n        return new BulkRegistrationImpl();\n    }\n    BulkRegistration.create = create;\n})(BulkRegistration = exports.BulkRegistration || (exports.BulkRegistration = {}));\nclass BulkRegistrationImpl {\n    constructor() {\n        this._registrations = [];\n        this._registered = new Set();\n    }\n    add(type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        if (this._registered.has(method)) {\n            throw new Error(`${method} is already added to this registration`);\n        }\n        const id = UUID.generateUuid();\n        this._registrations.push({\n            id: id,\n            method: method,\n            registerOptions: registerOptions || {}\n        });\n        this._registered.add(method);\n    }\n    asRegistrationParams() {\n        return {\n            registrations: this._registrations\n        };\n    }\n}\nvar BulkUnregistration;\n(function (BulkUnregistration) {\n    function create() {\n        return new BulkUnregistrationImpl(undefined, []);\n    }\n    BulkUnregistration.create = create;\n})(BulkUnregistration = exports.BulkUnregistration || (exports.BulkUnregistration = {}));\nclass BulkUnregistrationImpl {\n    constructor(_connection, unregistrations) {\n        this._connection = _connection;\n        this._unregistrations = new Map();\n        unregistrations.forEach(unregistration => {\n            this._unregistrations.set(unregistration.method, unregistration);\n        });\n    }\n    get isAttached() {\n        return !!this._connection;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    add(unregistration) {\n        this._unregistrations.set(unregistration.method, unregistration);\n    }\n    dispose() {\n        let unregistrations = [];\n        for (let unregistration of this._unregistrations.values()) {\n            unregistrations.push(unregistration);\n        }\n        let params = {\n            unregisterations: unregistrations\n        };\n        this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).catch(() => {\n            this._connection.console.info(`Bulk unregistration failed.`);\n        });\n    }\n    disposeSingle(arg) {\n        const method = Is.string(arg) ? arg : arg.method;\n        const unregistration = this._unregistrations.get(method);\n        if (!unregistration) {\n            return false;\n        }\n        let params = {\n            unregisterations: [unregistration]\n        };\n        this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).then(() => {\n            this._unregistrations.delete(method);\n        }, (_error) => {\n            this._connection.console.info(`Un-registering request handler for ${unregistration.id} failed.`);\n        });\n        return true;\n    }\n}\nclass RemoteClientImpl {\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    register(typeOrRegistrations, registerOptionsOrType, registerOptions) {\n        if (typeOrRegistrations instanceof BulkRegistrationImpl) {\n            return this.registerMany(typeOrRegistrations);\n        }\n        else if (typeOrRegistrations instanceof BulkUnregistrationImpl) {\n            return this.registerSingle1(typeOrRegistrations, registerOptionsOrType, registerOptions);\n        }\n        else {\n            return this.registerSingle2(typeOrRegistrations, registerOptionsOrType);\n        }\n    }\n    registerSingle1(unregistration, type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        const id = UUID.generateUuid();\n        let params = {\n            registrations: [{ id, method, registerOptions: registerOptions || {} }]\n        };\n        if (!unregistration.isAttached) {\n            unregistration.attach(this.connection);\n        }\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then((_result) => {\n            unregistration.add({ id: id, method: method });\n            return unregistration;\n        }, (_error) => {\n            this.connection.console.info(`Registering request handler for ${method} failed.`);\n            return Promise.reject(_error);\n        });\n    }\n    registerSingle2(type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        const id = UUID.generateUuid();\n        let params = {\n            registrations: [{ id, method, registerOptions: registerOptions || {} }]\n        };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then((_result) => {\n            return vscode_languageserver_protocol_1.Disposable.create(() => {\n                this.unregisterSingle(id, method).catch(() => { this.connection.console.info(`Un-registering capability with id ${id} failed.`); });\n            });\n        }, (_error) => {\n            this.connection.console.info(`Registering request handler for ${method} failed.`);\n            return Promise.reject(_error);\n        });\n    }\n    unregisterSingle(id, method) {\n        let params = {\n            unregisterations: [{ id, method }]\n        };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).catch(() => {\n            this.connection.console.info(`Un-registering request handler for ${id} failed.`);\n        });\n    }\n    registerMany(registrations) {\n        let params = registrations.asRegistrationParams();\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then(() => {\n            return new BulkUnregistrationImpl(this._connection, params.registrations.map(registration => { return { id: registration.id, method: registration.method }; }));\n        }, (_error) => {\n            this.connection.console.info(`Bulk registration failed.`);\n            return Promise.reject(_error);\n        });\n    }\n}\nclass _RemoteWorkspaceImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    applyEdit(paramOrEdit) {\n        function isApplyWorkspaceEditParams(value) {\n            return value && !!value.edit;\n        }\n        let params = isApplyWorkspaceEditParams(paramOrEdit) ? paramOrEdit : { edit: paramOrEdit };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ApplyWorkspaceEditRequest.type, params);\n    }\n}\nconst RemoteWorkspaceImpl = (0, fileOperations_1.FileOperationsFeature)((0, workspaceFolder_1.WorkspaceFoldersFeature)((0, configuration_1.ConfigurationFeature)(_RemoteWorkspaceImpl)));\nclass TracerImpl {\n    constructor() {\n        this._trace = vscode_languageserver_protocol_1.Trace.Off;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    set trace(value) {\n        this._trace = value;\n    }\n    log(message, verbose) {\n        if (this._trace === vscode_languageserver_protocol_1.Trace.Off) {\n            return;\n        }\n        this.connection.sendNotification(vscode_languageserver_protocol_1.LogTraceNotification.type, {\n            message: message,\n            verbose: this._trace === vscode_languageserver_protocol_1.Trace.Verbose ? verbose : undefined\n        }).catch(() => {\n            // Very hard to decide what to do. We tried to send a log\n            // message which failed so we can't simply send another :-(.\n        });\n    }\n}\nclass TelemetryImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    logEvent(data) {\n        this.connection.sendNotification(vscode_languageserver_protocol_1.TelemetryEventNotification.type, data).catch(() => {\n            this.connection.console.log(`Sending TelemetryEventNotification failed`);\n        });\n    }\n}\nclass _LanguagesImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    attachWorkDoneProgress(params) {\n        return (0, progress_1.attachWorkDone)(this.connection, params);\n    }\n    attachPartialResultProgress(_type, params) {\n        return (0, progress_1.attachPartialResult)(this.connection, params);\n    }\n}\nexports._LanguagesImpl = _LanguagesImpl;\nconst LanguagesImpl = (0, moniker_1.MonikerFeature)((0, diagnostic_1.DiagnosticFeature)((0, inlayHint_1.InlayHintFeature)((0, inlineValue_1.InlineValueFeature)((0, typeHierarchy_1.TypeHierarchyFeature)((0, linkedEditingRange_1.LinkedEditingRangeFeature)((0, semanticTokens_1.SemanticTokensFeature)((0, callHierarchy_1.CallHierarchyFeature)(_LanguagesImpl))))))));\nclass _NotebooksImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    attachWorkDoneProgress(params) {\n        return (0, progress_1.attachWorkDone)(this.connection, params);\n    }\n    attachPartialResultProgress(_type, params) {\n        return (0, progress_1.attachPartialResult)(this.connection, params);\n    }\n}\nexports._NotebooksImpl = _NotebooksImpl;\nconst NotebooksImpl = (0, notebook_1.NotebookSyncFeature)(_NotebooksImpl);\nfunction combineConsoleFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineConsoleFeatures = combineConsoleFeatures;\nfunction combineTelemetryFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineTelemetryFeatures = combineTelemetryFeatures;\nfunction combineTracerFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineTracerFeatures = combineTracerFeatures;\nfunction combineClientFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineClientFeatures = combineClientFeatures;\nfunction combineWindowFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineWindowFeatures = combineWindowFeatures;\nfunction combineWorkspaceFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineWorkspaceFeatures = combineWorkspaceFeatures;\nfunction combineLanguagesFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineLanguagesFeatures = combineLanguagesFeatures;\nfunction combineNotebooksFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineNotebooksFeatures = combineNotebooksFeatures;\nfunction combineFeatures(one, two) {\n    function combine(one, two, func) {\n        if (one && two) {\n            return func(one, two);\n        }\n        else if (one) {\n            return one;\n        }\n        else {\n            return two;\n        }\n    }\n    let result = {\n        __brand: 'features',\n        console: combine(one.console, two.console, combineConsoleFeatures),\n        tracer: combine(one.tracer, two.tracer, combineTracerFeatures),\n        telemetry: combine(one.telemetry, two.telemetry, combineTelemetryFeatures),\n        client: combine(one.client, two.client, combineClientFeatures),\n        window: combine(one.window, two.window, combineWindowFeatures),\n        workspace: combine(one.workspace, two.workspace, combineWorkspaceFeatures),\n        languages: combine(one.languages, two.languages, combineLanguagesFeatures),\n        notebooks: combine(one.notebooks, two.notebooks, combineNotebooksFeatures)\n    };\n    return result;\n}\nexports.combineFeatures = combineFeatures;\nfunction createConnection(connectionFactory, watchDog, factories) {\n    const logger = (factories && factories.console ? new (factories.console(RemoteConsoleImpl))() : new RemoteConsoleImpl());\n    const connection = connectionFactory(logger);\n    logger.rawAttach(connection);\n    const tracer = (factories && factories.tracer ? new (factories.tracer(TracerImpl))() : new TracerImpl());\n    const telemetry = (factories && factories.telemetry ? new (factories.telemetry(TelemetryImpl))() : new TelemetryImpl());\n    const client = (factories && factories.client ? new (factories.client(RemoteClientImpl))() : new RemoteClientImpl());\n    const remoteWindow = (factories && factories.window ? new (factories.window(RemoteWindowImpl))() : new RemoteWindowImpl());\n    const workspace = (factories && factories.workspace ? new (factories.workspace(RemoteWorkspaceImpl))() : new RemoteWorkspaceImpl());\n    const languages = (factories && factories.languages ? new (factories.languages(LanguagesImpl))() : new LanguagesImpl());\n    const notebooks = (factories && factories.notebooks ? new (factories.notebooks(NotebooksImpl))() : new NotebooksImpl());\n    const allRemotes = [logger, tracer, telemetry, client, remoteWindow, workspace, languages, notebooks];\n    function asPromise(value) {\n        if (value instanceof Promise) {\n            return value;\n        }\n        else if (Is.thenable(value)) {\n            return new Promise((resolve, reject) => {\n                value.then((resolved) => resolve(resolved), (error) => reject(error));\n            });\n        }\n        else {\n            return Promise.resolve(value);\n        }\n    }\n    let shutdownHandler = undefined;\n    let initializeHandler = undefined;\n    let exitHandler = undefined;\n    let protocolConnection = {\n        listen: () => connection.listen(),\n        sendRequest: (type, ...params) => connection.sendRequest(Is.string(type) ? type : type.method, ...params),\n        onRequest: (type, handler) => connection.onRequest(type, handler),\n        sendNotification: (type, param) => {\n            const method = Is.string(type) ? type : type.method;\n            if (arguments.length === 1) {\n                return connection.sendNotification(method);\n            }\n            else {\n                return connection.sendNotification(method, param);\n            }\n        },\n        onNotification: (type, handler) => connection.onNotification(type, handler),\n        onProgress: connection.onProgress,\n        sendProgress: connection.sendProgress,\n        onInitialize: (handler) => {\n            initializeHandler = handler;\n            return {\n                dispose: () => {\n                    initializeHandler = undefined;\n                }\n            };\n        },\n        onInitialized: (handler) => connection.onNotification(vscode_languageserver_protocol_1.InitializedNotification.type, handler),\n        onShutdown: (handler) => {\n            shutdownHandler = handler;\n            return {\n                dispose: () => {\n                    shutdownHandler = undefined;\n                }\n            };\n        },\n        onExit: (handler) => {\n            exitHandler = handler;\n            return {\n                dispose: () => {\n                    exitHandler = undefined;\n                }\n            };\n        },\n        get console() { return logger; },\n        get telemetry() { return telemetry; },\n        get tracer() { return tracer; },\n        get client() { return client; },\n        get window() { return remoteWindow; },\n        get workspace() { return workspace; },\n        get languages() { return languages; },\n        get notebooks() { return notebooks; },\n        onDidChangeConfiguration: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, handler),\n        onDidChangeWatchedFiles: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type, handler),\n        __textDocumentSync: undefined,\n        onDidOpenTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, handler),\n        onDidChangeTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, handler),\n        onDidCloseTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, handler),\n        onWillSaveTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type, handler),\n        onWillSaveTextDocumentWaitUntil: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type, handler),\n        onDidSaveTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, handler),\n        sendDiagnostics: (params) => connection.sendNotification(vscode_languageserver_protocol_1.PublishDiagnosticsNotification.type, params),\n        onHover: (handler) => connection.onRequest(vscode_languageserver_protocol_1.HoverRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onCompletion: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CompletionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onCompletionResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, handler),\n        onSignatureHelp: (handler) => connection.onRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onDeclaration: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDefinition: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onTypeDefinition: (handler) => connection.onRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onImplementation: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onReferences: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDocumentHighlight: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDocumentSymbol: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onWorkspaceSymbol: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onWorkspaceSymbolResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WorkspaceSymbolResolveRequest.type, handler),\n        onCodeAction: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onCodeActionResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onCodeLens: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onCodeLensResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onDocumentRangeFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onDocumentOnTypeFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onRenameRequest: (handler) => connection.onRequest(vscode_languageserver_protocol_1.RenameRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onPrepareRename: (handler) => connection.onRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentLinks: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDocumentLinkResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentColor: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onColorPresentation: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onFoldingRanges: (handler) => connection.onRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onSelectionRanges: (handler) => connection.onRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onExecuteCommand: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        dispose: () => connection.dispose()\n    };\n    for (let remote of allRemotes) {\n        remote.attach(protocolConnection);\n    }\n    connection.onRequest(vscode_languageserver_protocol_1.InitializeRequest.type, (params) => {\n        watchDog.initialize(params);\n        if (Is.string(params.trace)) {\n            tracer.trace = vscode_languageserver_protocol_1.Trace.fromString(params.trace);\n        }\n        for (let remote of allRemotes) {\n            remote.initialize(params.capabilities);\n        }\n        if (initializeHandler) {\n            let result = initializeHandler(params, new vscode_languageserver_protocol_1.CancellationTokenSource().token, (0, progress_1.attachWorkDone)(connection, params), undefined);\n            return asPromise(result).then((value) => {\n                if (value instanceof vscode_languageserver_protocol_1.ResponseError) {\n                    return value;\n                }\n                let result = value;\n                if (!result) {\n                    result = { capabilities: {} };\n                }\n                let capabilities = result.capabilities;\n                if (!capabilities) {\n                    capabilities = {};\n                    result.capabilities = capabilities;\n                }\n                if (capabilities.textDocumentSync === undefined || capabilities.textDocumentSync === null) {\n                    capabilities.textDocumentSync = Is.number(protocolConnection.__textDocumentSync) ? protocolConnection.__textDocumentSync : vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\n                }\n                else if (!Is.number(capabilities.textDocumentSync) && !Is.number(capabilities.textDocumentSync.change)) {\n                    capabilities.textDocumentSync.change = Is.number(protocolConnection.__textDocumentSync) ? protocolConnection.__textDocumentSync : vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\n                }\n                for (let remote of allRemotes) {\n                    remote.fillServerCapabilities(capabilities);\n                }\n                return result;\n            });\n        }\n        else {\n            let result = { capabilities: { textDocumentSync: vscode_languageserver_protocol_1.TextDocumentSyncKind.None } };\n            for (let remote of allRemotes) {\n                remote.fillServerCapabilities(result.capabilities);\n            }\n            return result;\n        }\n    });\n    connection.onRequest(vscode_languageserver_protocol_1.ShutdownRequest.type, () => {\n        watchDog.shutdownReceived = true;\n        if (shutdownHandler) {\n            return shutdownHandler(new vscode_languageserver_protocol_1.CancellationTokenSource().token);\n        }\n        else {\n            return undefined;\n        }\n    });\n    connection.onNotification(vscode_languageserver_protocol_1.ExitNotification.type, () => {\n        try {\n            if (exitHandler) {\n                exitHandler();\n            }\n        }\n        finally {\n            if (watchDog.shutdownReceived) {\n                watchDog.exit(0);\n            }\n            else {\n                watchDog.exit(1);\n            }\n        }\n    });\n    connection.onNotification(vscode_languageserver_protocol_1.SetTraceNotification.type, (params) => {\n        tracer.trace = vscode_languageserver_protocol_1.Trace.fromString(params.value);\n    });\n    return protocolConnection;\n}\nexports.createConnection = createConnection;\n//# sourceMappingURL=server.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShowDocumentFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst ShowDocumentFeature = (Base) => {\n    return class extends Base {\n        showDocument(params) {\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowDocumentRequest.type, params);\n        }\n    };\n};\nexports.ShowDocumentFeature = ShowDocumentFeature;\n//# sourceMappingURL=showDocument.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TextDocuments = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\n/**\n * A manager for simple text documents. The manager requires at a minimum that\n * the server registered for the following text document sync events in the\n * initialize handler or via dynamic registration:\n *\n * - open and close events.\n * - change events.\n *\n * Registering for save and will save events is optional.\n */\nclass TextDocuments {\n    /**\n     * Create a new text document manager.\n     */\n    constructor(configuration) {\n        this._configuration = configuration;\n        this._syncedDocuments = new Map();\n        this._onDidChangeContent = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidOpen = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidClose = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidSave = new vscode_languageserver_protocol_1.Emitter();\n        this._onWillSave = new vscode_languageserver_protocol_1.Emitter();\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been opened.\n     */\n    get onDidOpen() {\n        return this._onDidOpen.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been opened or the content changes.\n     */\n    get onDidChangeContent() {\n        return this._onDidChangeContent.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * will be saved.\n     */\n    get onWillSave() {\n        return this._onWillSave.event;\n    }\n    /**\n     * Sets a handler that will be called if a participant wants to provide\n     * edits during a text document save.\n     */\n    onWillSaveWaitUntil(handler) {\n        this._willSaveWaitUntil = handler;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been saved.\n     */\n    get onDidSave() {\n        return this._onDidSave.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been closed.\n     */\n    get onDidClose() {\n        return this._onDidClose.event;\n    }\n    /**\n     * Returns the document for the given URI. Returns undefined if\n     * the document is not managed by this instance.\n     *\n     * @param uri The text document's URI to retrieve.\n     * @return the text document or `undefined`.\n     */\n    get(uri) {\n        return this._syncedDocuments.get(uri);\n    }\n    /**\n     * Returns all text documents managed by this instance.\n     *\n     * @return all text documents.\n     */\n    all() {\n        return Array.from(this._syncedDocuments.values());\n    }\n    /**\n     * Returns the URIs of all text documents managed by this instance.\n     *\n     * @return the URI's of all text documents.\n     */\n    keys() {\n        return Array.from(this._syncedDocuments.keys());\n    }\n    /**\n     * Listens for `low level` notification on the given connection to\n     * update the text documents managed by this instance.\n     *\n     * Please note that the connection only provides handlers not an event model. Therefore\n     * listening on a connection will overwrite the following handlers on a connection:\n     * `onDidOpenTextDocument`, `onDidChangeTextDocument`, `onDidCloseTextDocument`,\n     * `onWillSaveTextDocument`, `onWillSaveTextDocumentWaitUntil` and `onDidSaveTextDocument`.\n     *\n     * Use the corresponding events on the TextDocuments instance instead.\n     *\n     * @param connection The connection to listen on.\n     */\n    listen(connection) {\n        connection.__textDocumentSync = vscode_languageserver_protocol_1.TextDocumentSyncKind.Incremental;\n        const disposables = [];\n        disposables.push(connection.onDidOpenTextDocument((event) => {\n            const td = event.textDocument;\n            const document = this._configuration.create(td.uri, td.languageId, td.version, td.text);\n            this._syncedDocuments.set(td.uri, document);\n            const toFire = Object.freeze({ document });\n            this._onDidOpen.fire(toFire);\n            this._onDidChangeContent.fire(toFire);\n        }));\n        disposables.push(connection.onDidChangeTextDocument((event) => {\n            const td = event.textDocument;\n            const changes = event.contentChanges;\n            if (changes.length === 0) {\n                return;\n            }\n            const { version } = td;\n            if (version === null || version === undefined) {\n                throw new Error(`Received document change event for ${td.uri} without valid version identifier`);\n            }\n            let syncedDocument = this._syncedDocuments.get(td.uri);\n            if (syncedDocument !== undefined) {\n                syncedDocument = this._configuration.update(syncedDocument, changes, version);\n                this._syncedDocuments.set(td.uri, syncedDocument);\n                this._onDidChangeContent.fire(Object.freeze({ document: syncedDocument }));\n            }\n        }));\n        disposables.push(connection.onDidCloseTextDocument((event) => {\n            let syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined) {\n                this._syncedDocuments.delete(event.textDocument.uri);\n                this._onDidClose.fire(Object.freeze({ document: syncedDocument }));\n            }\n        }));\n        disposables.push(connection.onWillSaveTextDocument((event) => {\n            let syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined) {\n                this._onWillSave.fire(Object.freeze({ document: syncedDocument, reason: event.reason }));\n            }\n        }));\n        disposables.push(connection.onWillSaveTextDocumentWaitUntil((event, token) => {\n            let syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined && this._willSaveWaitUntil) {\n                return this._willSaveWaitUntil(Object.freeze({ document: syncedDocument, reason: event.reason }), token);\n            }\n            else {\n                return [];\n            }\n        }));\n        disposables.push(connection.onDidSaveTextDocument((event) => {\n            let syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined) {\n                this._onDidSave.fire(Object.freeze({ document: syncedDocument }));\n            }\n        }));\n        return vscode_languageserver_protocol_1.Disposable.create(() => { disposables.forEach(disposable => disposable.dispose()); });\n    }\n}\nexports.TextDocuments = TextDocuments;\n//# sourceMappingURL=textDocuments.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHierarchyFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst TypeHierarchyFeature = (Base) => {\n    return class extends Base {\n        get typeHierarchy() {\n            return {\n                onPrepare: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.TypeHierarchyPrepareRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\n                    });\n                },\n                onSupertypes: (handler) => {\n                    const type = vscode_languageserver_protocol_1.TypeHierarchySupertypesRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onSubtypes: (handler) => {\n                    const type = vscode_languageserver_protocol_1.TypeHierarchySubtypesRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.TypeHierarchyFeature = TypeHierarchyFeature;\n//# sourceMappingURL=typeHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.thenable = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction thenable(value) {\n    return value && func(value.then);\n}\nexports.thenable = thenable;\n//# sourceMappingURL=is.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateUuid = exports.parse = exports.isUUID = exports.v4 = exports.empty = void 0;\nclass ValueUUID {\n    constructor(_value) {\n        this._value = _value;\n        // empty\n    }\n    asHex() {\n        return this._value;\n    }\n    equals(other) {\n        return this.asHex() === other.asHex();\n    }\n}\nclass V4UUID extends ValueUUID {\n    constructor() {\n        super([\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            '4',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._oneOf(V4UUID._timeHighBits),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n        ].join(''));\n    }\n    static _oneOf(array) {\n        return array[Math.floor(array.length * Math.random())];\n    }\n    static _randomHex() {\n        return V4UUID._oneOf(V4UUID._chars);\n    }\n}\nV4UUID._chars = ['0', '1', '2', '3', '4', '5', '6', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\nV4UUID._timeHighBits = ['8', '9', 'a', 'b'];\n/**\n * An empty UUID that contains only zeros.\n */\nexports.empty = new ValueUUID('00000000-0000-0000-0000-000000000000');\nfunction v4() {\n    return new V4UUID();\n}\nexports.v4 = v4;\nconst _UUIDPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\nfunction isUUID(value) {\n    return _UUIDPattern.test(value);\n}\nexports.isUUID = isUUID;\n/**\n * Parses a UUID that is of the format xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.\n * @param value A uuid string.\n */\nfunction parse(value) {\n    if (!isUUID(value)) {\n        throw new Error('invalid uuid');\n    }\n    return new ValueUUID(value);\n}\nexports.parse = parse;\nfunction generateUuid() {\n    return v4().asHex();\n}\nexports.generateUuid = generateUuid;\n//# sourceMappingURL=uuid.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceFoldersFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst WorkspaceFoldersFeature = (Base) => {\n    return class extends Base {\n        constructor() {\n            super();\n            this._notificationIsAutoRegistered = false;\n        }\n        initialize(capabilities) {\n            super.initialize(capabilities);\n            let workspaceCapabilities = capabilities.workspace;\n            if (workspaceCapabilities && workspaceCapabilities.workspaceFolders) {\n                this._onDidChangeWorkspaceFolders = new vscode_languageserver_protocol_1.Emitter();\n                this.connection.onNotification(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type, (params) => {\n                    this._onDidChangeWorkspaceFolders.fire(params.event);\n                });\n            }\n        }\n        fillServerCapabilities(capabilities) {\n            super.fillServerCapabilities(capabilities);\n            const changeNotifications = capabilities.workspace?.workspaceFolders?.changeNotifications;\n            this._notificationIsAutoRegistered = changeNotifications === true || typeof changeNotifications === 'string';\n        }\n        getWorkspaceFolders() {\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkspaceFoldersRequest.type);\n        }\n        get onDidChangeWorkspaceFolders() {\n            if (!this._onDidChangeWorkspaceFolders) {\n                throw new Error('Client doesn\\'t support sending workspace folder change events.');\n            }\n            if (!this._notificationIsAutoRegistered && !this._unregistration) {\n                this._unregistration = this.connection.client.register(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type);\n            }\n            return this._onDidChangeWorkspaceFolders.event;\n        }\n    };\n};\nexports.WorkspaceFoldersFeature = WorkspaceFoldersFeature;\n//# sourceMappingURL=workspaceFolder.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveModulePath = exports.FileSystem = exports.resolveGlobalYarnPath = exports.resolveGlobalNodePath = exports.resolve = exports.uriToFilePath = void 0;\nconst url = require(\"url\");\nconst path = require(\"path\");\nconst fs = require(\"fs\");\nconst child_process_1 = require(\"child_process\");\n/**\n * @deprecated Use the `vscode-uri` npm module which provides a more\n * complete implementation of handling VS Code URIs.\n */\nfunction uriToFilePath(uri) {\n    let parsed = url.parse(uri);\n    if (parsed.protocol !== 'file:' || !parsed.path) {\n        return undefined;\n    }\n    let segments = parsed.path.split('/');\n    for (var i = 0, len = segments.length; i < len; i++) {\n        segments[i] = decodeURIComponent(segments[i]);\n    }\n    if (process.platform === 'win32' && segments.length > 1) {\n        let first = segments[0];\n        let second = segments[1];\n        // Do we have a drive letter and we started with a / which is the\n        // case if the first segement is empty (see split above)\n        if (first.length === 0 && second.length > 1 && second[1] === ':') {\n            // Remove first slash\n            segments.shift();\n        }\n    }\n    return path.normalize(segments.join('/'));\n}\nexports.uriToFilePath = uriToFilePath;\nfunction isWindows() {\n    return process.platform === 'win32';\n}\nfunction resolve(moduleName, nodePath, cwd, tracer) {\n    const nodePathKey = 'NODE_PATH';\n    const app = [\n        'var p = process;',\n        'p.on(\\'message\\',function(m){',\n        'if(m.c===\\'e\\'){',\n        'p.exit(0);',\n        '}',\n        'else if(m.c===\\'rs\\'){',\n        'try{',\n        'var r=require.resolve(m.a);',\n        'p.send({c:\\'r\\',s:true,r:r});',\n        '}',\n        'catch(err){',\n        'p.send({c:\\'r\\',s:false});',\n        '}',\n        '}',\n        '});'\n    ].join('');\n    return new Promise((resolve, reject) => {\n        let env = process.env;\n        let newEnv = Object.create(null);\n        Object.keys(env).forEach(key => newEnv[key] = env[key]);\n        if (nodePath && fs.existsSync(nodePath) /* see issue 545 */) {\n            if (newEnv[nodePathKey]) {\n                newEnv[nodePathKey] = nodePath + path.delimiter + newEnv[nodePathKey];\n            }\n            else {\n                newEnv[nodePathKey] = nodePath;\n            }\n            if (tracer) {\n                tracer(`NODE_PATH value is: ${newEnv[nodePathKey]}`);\n            }\n        }\n        newEnv['ELECTRON_RUN_AS_NODE'] = '1';\n        try {\n            let cp = (0, child_process_1.fork)('', [], {\n                cwd: cwd,\n                env: newEnv,\n                execArgv: ['-e', app]\n            });\n            if (cp.pid === void 0) {\n                reject(new Error(`Starting process to resolve node module  ${moduleName} failed`));\n                return;\n            }\n            cp.on('error', (error) => {\n                reject(error);\n            });\n            cp.on('message', (message) => {\n                if (message.c === 'r') {\n                    cp.send({ c: 'e' });\n                    if (message.s) {\n                        resolve(message.r);\n                    }\n                    else {\n                        reject(new Error(`Failed to resolve module: ${moduleName}`));\n                    }\n                }\n            });\n            let message = {\n                c: 'rs',\n                a: moduleName\n            };\n            cp.send(message);\n        }\n        catch (error) {\n            reject(error);\n        }\n    });\n}\nexports.resolve = resolve;\n/**\n * Resolve the global npm package path.\n * @deprecated Since this depends on the used package manager and their version the best is that servers\n * implement this themselves since they know best what kind of package managers to support.\n * @param tracer the tracer to use\n */\nfunction resolveGlobalNodePath(tracer) {\n    let npmCommand = 'npm';\n    const env = Object.create(null);\n    Object.keys(process.env).forEach(key => env[key] = process.env[key]);\n    env['NO_UPDATE_NOTIFIER'] = 'true';\n    const options = {\n        encoding: 'utf8',\n        env\n    };\n    if (isWindows()) {\n        npmCommand = 'npm.cmd';\n        options.shell = true;\n    }\n    let handler = () => { };\n    try {\n        process.on('SIGPIPE', handler);\n        let stdout = (0, child_process_1.spawnSync)(npmCommand, ['config', 'get', 'prefix'], options).stdout;\n        if (!stdout) {\n            if (tracer) {\n                tracer(`'npm config get prefix' didn't return a value.`);\n            }\n            return undefined;\n        }\n        let prefix = stdout.trim();\n        if (tracer) {\n            tracer(`'npm config get prefix' value is: ${prefix}`);\n        }\n        if (prefix.length > 0) {\n            if (isWindows()) {\n                return path.join(prefix, 'node_modules');\n            }\n            else {\n                return path.join(prefix, 'lib', 'node_modules');\n            }\n        }\n        return undefined;\n    }\n    catch (err) {\n        return undefined;\n    }\n    finally {\n        process.removeListener('SIGPIPE', handler);\n    }\n}\nexports.resolveGlobalNodePath = resolveGlobalNodePath;\n/*\n * Resolve the global yarn pakage path.\n * @deprecated Since this depends on the used package manager and their version the best is that servers\n * implement this themselves since they know best what kind of package managers to support.\n * @param tracer the tracer to use\n */\nfunction resolveGlobalYarnPath(tracer) {\n    let yarnCommand = 'yarn';\n    let options = {\n        encoding: 'utf8'\n    };\n    if (isWindows()) {\n        yarnCommand = 'yarn.cmd';\n        options.shell = true;\n    }\n    let handler = () => { };\n    try {\n        process.on('SIGPIPE', handler);\n        let results = (0, child_process_1.spawnSync)(yarnCommand, ['global', 'dir', '--json'], options);\n        let stdout = results.stdout;\n        if (!stdout) {\n            if (tracer) {\n                tracer(`'yarn global dir' didn't return a value.`);\n                if (results.stderr) {\n                    tracer(results.stderr);\n                }\n            }\n            return undefined;\n        }\n        let lines = stdout.trim().split(/\\r?\\n/);\n        for (let line of lines) {\n            try {\n                let yarn = JSON.parse(line);\n                if (yarn.type === 'log') {\n                    return path.join(yarn.data, 'node_modules');\n                }\n            }\n            catch (e) {\n                // Do nothing. Ignore the line\n            }\n        }\n        return undefined;\n    }\n    catch (err) {\n        return undefined;\n    }\n    finally {\n        process.removeListener('SIGPIPE', handler);\n    }\n}\nexports.resolveGlobalYarnPath = resolveGlobalYarnPath;\nvar FileSystem;\n(function (FileSystem) {\n    let _isCaseSensitive = undefined;\n    function isCaseSensitive() {\n        if (_isCaseSensitive !== void 0) {\n            return _isCaseSensitive;\n        }\n        if (process.platform === 'win32') {\n            _isCaseSensitive = false;\n        }\n        else {\n            // convert current file name to upper case / lower case and check if file exists\n            // (guards against cases when name is already all uppercase or lowercase)\n            _isCaseSensitive = !fs.existsSync(__filename.toUpperCase()) || !fs.existsSync(__filename.toLowerCase());\n        }\n        return _isCaseSensitive;\n    }\n    FileSystem.isCaseSensitive = isCaseSensitive;\n    function isParent(parent, child) {\n        if (isCaseSensitive()) {\n            return path.normalize(child).indexOf(path.normalize(parent)) === 0;\n        }\n        else {\n            return path.normalize(child).toLowerCase().indexOf(path.normalize(parent).toLowerCase()) === 0;\n        }\n    }\n    FileSystem.isParent = isParent;\n})(FileSystem = exports.FileSystem || (exports.FileSystem = {}));\nfunction resolveModulePath(workspaceRoot, moduleName, nodePath, tracer) {\n    if (nodePath) {\n        if (!path.isAbsolute(nodePath)) {\n            nodePath = path.join(workspaceRoot, nodePath);\n        }\n        return resolve(moduleName, nodePath, nodePath, tracer).then((value) => {\n            if (FileSystem.isParent(nodePath, value)) {\n                return value;\n            }\n            else {\n                return Promise.reject(new Error(`Failed to load ${moduleName} from node path location.`));\n            }\n        }).then(undefined, (_error) => {\n            return resolve(moduleName, resolveGlobalNodePath(tracer), workspaceRoot, tracer);\n        });\n    }\n    else {\n        return resolve(moduleName, resolveGlobalNodePath(tracer), workspaceRoot, tracer);\n    }\n}\nexports.resolveModulePath = resolveModulePath;\n//# sourceMappingURL=files.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" />\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConnection = exports.Files = void 0;\nconst Is = require(\"../common/utils/is\");\nconst server_1 = require(\"../common/server\");\nconst fm = require(\"./files\");\nconst node_1 = require(\"vscode-languageserver-protocol/node\");\n__exportStar(require(\"vscode-languageserver-protocol/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nvar Files;\n(function (Files) {\n    Files.uriToFilePath = fm.uriToFilePath;\n    Files.resolveGlobalNodePath = fm.resolveGlobalNodePath;\n    Files.resolveGlobalYarnPath = fm.resolveGlobalYarnPath;\n    Files.resolve = fm.resolve;\n    Files.resolveModulePath = fm.resolveModulePath;\n})(Files = exports.Files || (exports.Files = {}));\nlet _protocolConnection;\nfunction endProtocolConnection() {\n    if (_protocolConnection === undefined) {\n        return;\n    }\n    try {\n        _protocolConnection.end();\n    }\n    catch (_err) {\n        // Ignore. The client process could have already\n        // did and we can't send an end into the connection.\n    }\n}\nlet _shutdownReceived = false;\nlet exitTimer = undefined;\nfunction setupExitTimer() {\n    const argName = '--clientProcessId';\n    function runTimer(value) {\n        try {\n            let processId = parseInt(value);\n            if (!isNaN(processId)) {\n                exitTimer = setInterval(() => {\n                    try {\n                        process.kill(processId, 0);\n                    }\n                    catch (ex) {\n                        // Parent process doesn't exist anymore. Exit the server.\n                        endProtocolConnection();\n                        process.exit(_shutdownReceived ? 0 : 1);\n                    }\n                }, 3000);\n            }\n        }\n        catch (e) {\n            // Ignore errors;\n        }\n    }\n    for (let i = 2; i < process.argv.length; i++) {\n        let arg = process.argv[i];\n        if (arg === argName && i + 1 < process.argv.length) {\n            runTimer(process.argv[i + 1]);\n            return;\n        }\n        else {\n            let args = arg.split('=');\n            if (args[0] === argName) {\n                runTimer(args[1]);\n            }\n        }\n    }\n}\nsetupExitTimer();\nconst watchDog = {\n    initialize: (params) => {\n        const processId = params.processId;\n        if (Is.number(processId) && exitTimer === undefined) {\n            // We received a parent process id. Set up a timer to periodically check\n            // if the parent is still alive.\n            setInterval(() => {\n                try {\n                    process.kill(processId, 0);\n                }\n                catch (ex) {\n                    // Parent process doesn't exist anymore. Exit the server.\n                    process.exit(_shutdownReceived ? 0 : 1);\n                }\n            }, 3000);\n        }\n    },\n    get shutdownReceived() {\n        return _shutdownReceived;\n    },\n    set shutdownReceived(value) {\n        _shutdownReceived = value;\n    },\n    exit: (code) => {\n        endProtocolConnection();\n        process.exit(code);\n    }\n};\nfunction createConnection(arg1, arg2, arg3, arg4) {\n    let factories;\n    let input;\n    let output;\n    let options;\n    if (arg1 !== void 0 && arg1.__brand === 'features') {\n        factories = arg1;\n        arg1 = arg2;\n        arg2 = arg3;\n        arg3 = arg4;\n    }\n    if (node_1.ConnectionStrategy.is(arg1) || node_1.ConnectionOptions.is(arg1)) {\n        options = arg1;\n    }\n    else {\n        input = arg1;\n        output = arg2;\n        options = arg3;\n    }\n    return _createConnection(input, output, options, factories);\n}\nexports.createConnection = createConnection;\nfunction _createConnection(input, output, options, factories) {\n    if (!input && !output && process.argv.length > 2) {\n        let port = void 0;\n        let pipeName = void 0;\n        let argv = process.argv.slice(2);\n        for (let i = 0; i < argv.length; i++) {\n            let arg = argv[i];\n            if (arg === '--node-ipc') {\n                input = new node_1.IPCMessageReader(process);\n                output = new node_1.IPCMessageWriter(process);\n                break;\n            }\n            else if (arg === '--stdio') {\n                input = process.stdin;\n                output = process.stdout;\n                break;\n            }\n            else if (arg === '--socket') {\n                port = parseInt(argv[i + 1]);\n                break;\n            }\n            else if (arg === '--pipe') {\n                pipeName = argv[i + 1];\n                break;\n            }\n            else {\n                var args = arg.split('=');\n                if (args[0] === '--socket') {\n                    port = parseInt(args[1]);\n                    break;\n                }\n                else if (args[0] === '--pipe') {\n                    pipeName = args[1];\n                    break;\n                }\n            }\n        }\n        if (port) {\n            let transport = (0, node_1.createServerSocketTransport)(port);\n            input = transport[0];\n            output = transport[1];\n        }\n        else if (pipeName) {\n            let transport = (0, node_1.createServerPipeTransport)(pipeName);\n            input = transport[0];\n            output = transport[1];\n        }\n    }\n    var commandLineMessage = 'Use arguments of createConnection or set command line parameters: \\'--node-ipc\\', \\'--stdio\\' or \\'--socket={number}\\'';\n    if (!input) {\n        throw new Error('Connection input stream is not set. ' + commandLineMessage);\n    }\n    if (!output) {\n        throw new Error('Connection output stream is not set. ' + commandLineMessage);\n    }\n    // Backwards compatibility\n    if (Is.func(input.read) && Is.func(input.on)) {\n        let inputStream = input;\n        inputStream.on('end', () => {\n            endProtocolConnection();\n            process.exit(_shutdownReceived ? 0 : 1);\n        });\n        inputStream.on('close', () => {\n            endProtocolConnection();\n            process.exit(_shutdownReceived ? 0 : 1);\n        });\n    }\n    const connectionFactory = (logger) => {\n        const result = (0, node_1.createProtocolConnection)(input, output, logger, options);\n        return result;\n    };\n    return (0, server_1.createConnection)(connectionFactory, watchDog, factories);\n}\n//# sourceMappingURL=main.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isExcludedPath = exports.getLsConfiguration = exports.defaultMarkdownFileExtension = void 0;\nconst picomatch = require(\"picomatch\");\nexports.defaultMarkdownFileExtension = 'md';\nconst defaultConfig = {\n    markdownFileExtensions: [exports.defaultMarkdownFileExtension],\n    knownLinkedToFileExtensions: [\n        'jpg',\n        'jpeg',\n        'png',\n        'gif',\n        'webp',\n        'bmp',\n        'tiff',\n    ],\n    excludePaths: [\n        '**/.*',\n        '**/node_modules/**',\n    ]\n};\nfunction getLsConfiguration(overrides) {\n    return {\n        ...defaultConfig,\n        ...overrides,\n    };\n}\nexports.getLsConfiguration = getLsConfiguration;\nfunction isExcludedPath(configuration, uri) {\n    return configuration.excludePaths.some(excludePath => picomatch.isMatch(uri.path, excludePath));\n}\nexports.isExcludedPath = isExcludedPath;\n//# sourceMappingURL=config.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createLanguageService = exports.githubSlugifier = exports.LogLevel = exports.RenameNotSupportedAtLocationError = exports.DiagnosticLevel = exports.DiagnosticCode = void 0;\nconst config_1 = require(\"./config\");\nconst extractLinkDef_1 = require(\"./languageFeatures/codeActions/extractLinkDef\");\nconst removeLinkDefinition_1 = require(\"./languageFeatures/codeActions/removeLinkDefinition\");\nconst definitions_1 = require(\"./languageFeatures/definitions\");\nconst diagnostics_1 = require(\"./languageFeatures/diagnostics\");\nconst documentHighlights_1 = require(\"./languageFeatures/documentHighlights\");\nconst documentLinks_1 = require(\"./languageFeatures/documentLinks\");\nconst documentSymbols_1 = require(\"./languageFeatures/documentSymbols\");\nconst fileRename_1 = require(\"./languageFeatures/fileRename\");\nconst folding_1 = require(\"./languageFeatures/folding\");\nconst organizeLinkDefs_1 = require(\"./languageFeatures/organizeLinkDefs\");\nconst pathCompletions_1 = require(\"./languageFeatures/pathCompletions\");\nconst references_1 = require(\"./languageFeatures/references\");\nconst rename_1 = require(\"./languageFeatures/rename\");\nconst smartSelect_1 = require(\"./languageFeatures/smartSelect\");\nconst workspaceSymbols_1 = require(\"./languageFeatures/workspaceSymbols\");\nconst tableOfContents_1 = require(\"./tableOfContents\");\nconst workspace_1 = require(\"./workspace\");\nvar diagnostics_2 = require(\"./languageFeatures/diagnostics\");\nObject.defineProperty(exports, \"DiagnosticCode\", { enumerable: true, get: function () { return diagnostics_2.DiagnosticCode; } });\nObject.defineProperty(exports, \"DiagnosticLevel\", { enumerable: true, get: function () { return diagnostics_2.DiagnosticLevel; } });\nvar rename_2 = require(\"./languageFeatures/rename\");\nObject.defineProperty(exports, \"RenameNotSupportedAtLocationError\", { enumerable: true, get: function () { return rename_2.RenameNotSupportedAtLocationError; } });\nvar logging_1 = require(\"./logging\");\nObject.defineProperty(exports, \"LogLevel\", { enumerable: true, get: function () { return logging_1.LogLevel; } });\nvar slugify_1 = require(\"./slugify\");\nObject.defineProperty(exports, \"githubSlugifier\", { enumerable: true, get: function () { return slugify_1.githubSlugifier; } });\n/**\n * Create a new instance of the {@link IMdLanguageService language service}.\n */\nfunction createLanguageService(init) {\n    const config = (0, config_1.getLsConfiguration)(init);\n    const logger = init.logger;\n    const tocProvider = new tableOfContents_1.MdTableOfContentsProvider(init.parser, init.workspace, logger);\n    const smartSelectProvider = new smartSelect_1.MdSelectionRangeProvider(init.parser, tocProvider, logger);\n    const foldingProvider = new folding_1.MdFoldingProvider(init.parser, tocProvider, logger);\n    const linkProvider = new documentLinks_1.MdLinkProvider(config, init.parser, init.workspace, tocProvider, logger);\n    const pathCompletionProvider = new pathCompletions_1.MdPathCompletionProvider(config, init.workspace, init.parser, linkProvider);\n    const linkCache = (0, documentLinks_1.createWorkspaceLinkCache)(init.parser, init.workspace);\n    const referencesProvider = new references_1.MdReferencesProvider(config, init.parser, init.workspace, tocProvider, linkCache, logger);\n    const definitionsProvider = new definitions_1.MdDefinitionProvider(config, init.workspace, tocProvider, linkCache);\n    const renameProvider = new rename_1.MdRenameProvider(config, init.workspace, referencesProvider, init.parser.slugifier, logger);\n    const fileRenameProvider = new fileRename_1.MdFileRenameProvider(config, init.workspace, linkCache, referencesProvider);\n    const diagnosticsComputer = new diagnostics_1.DiagnosticComputer(config, init.workspace, linkProvider, tocProvider);\n    const docSymbolProvider = new documentSymbols_1.MdDocumentSymbolProvider(tocProvider, linkProvider, logger);\n    const workspaceSymbolProvider = new workspaceSymbols_1.MdWorkspaceSymbolProvider(init.workspace, docSymbolProvider);\n    const organizeLinkDefinitions = new organizeLinkDefs_1.MdOrganizeLinkDefinitionProvider(linkProvider);\n    const documentHighlightProvider = new documentHighlights_1.MdDocumentHighlightProvider(config, tocProvider, linkProvider);\n    const extractCodeActionProvider = new extractLinkDef_1.MdExtractLinkDefinitionCodeActionProvider(linkProvider);\n    const removeLinkDefinitionActionProvider = new removeLinkDefinition_1.MdRemoveLinkDefinitionCodeActionProvider();\n    return Object.freeze({\n        dispose: () => {\n            linkCache.dispose();\n            tocProvider.dispose();\n            workspaceSymbolProvider.dispose();\n            linkProvider.dispose();\n            referencesProvider.dispose();\n        },\n        getDocumentLinks: linkProvider.provideDocumentLinks.bind(linkProvider),\n        resolveDocumentLink: linkProvider.resolveDocumentLink.bind(linkProvider),\n        resolveLinkTarget: linkProvider.resolveLinkTarget.bind(linkProvider),\n        getDocumentSymbols: docSymbolProvider.provideDocumentSymbols.bind(docSymbolProvider),\n        getFoldingRanges: foldingProvider.provideFoldingRanges.bind(foldingProvider),\n        getSelectionRanges: smartSelectProvider.provideSelectionRanges.bind(smartSelectProvider),\n        getWorkspaceSymbols: workspaceSymbolProvider.provideWorkspaceSymbols.bind(workspaceSymbolProvider),\n        getCompletionItems: pathCompletionProvider.provideCompletionItems.bind(pathCompletionProvider),\n        getReferences: referencesProvider.provideReferences.bind(referencesProvider),\n        getFileReferences: async (resource, token) => {\n            return (await referencesProvider.getReferencesToFileInWorkspace(resource, token)).map(x => x.location);\n        },\n        getDefinition: definitionsProvider.provideDefinition.bind(definitionsProvider),\n        organizeLinkDefinitions: organizeLinkDefinitions.getOrganizeLinkDefinitionEdits.bind(organizeLinkDefinitions),\n        prepareRename: renameProvider.prepareRename.bind(renameProvider),\n        getRenameEdit: renameProvider.provideRenameEdits.bind(renameProvider),\n        getRenameFilesInWorkspaceEdit: fileRenameProvider.getRenameFilesInWorkspaceEdit.bind(fileRenameProvider),\n        getCodeActions: async (doc, range, context, token) => {\n            return (await Promise.all([\n                extractCodeActionProvider.getActions(doc, range, context, token),\n                Array.from(removeLinkDefinitionActionProvider.getActions(doc, range, context)),\n            ])).flat();\n        },\n        getDocumentHighlights: (document, position, token) => {\n            return documentHighlightProvider.getDocumentHighlights(document, position, token);\n        },\n        computeDiagnostics: async (doc, options, token) => {\n            return (await diagnosticsComputer.compute(doc, options, token))?.diagnostics;\n        },\n        createPullDiagnosticsManager: () => {\n            if (!(0, workspace_1.isWorkspaceWithFileWatching)(init.workspace)) {\n                throw new Error(`Workspace does not support file watching. Diagnostics manager not supported`);\n            }\n            return new diagnostics_1.DiagnosticsManager(config, init.workspace, linkProvider, tocProvider);\n        }\n    });\n}\nexports.createLanguageService = createLanguageService;\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdExtractLinkDefinitionCodeActionProvider = void 0;\nconst l10n = require(\"@vscode/l10n\");\nconst lsp = require(\"vscode-languageserver-types\");\nconst position_1 = require(\"../../types/position\");\nconst range_1 = require(\"../../types/range\");\nconst textDocument_1 = require(\"../../types/textDocument\");\nconst editBuilder_1 = require(\"../../util/editBuilder\");\nconst documentLinks_1 = require(\"../documentLinks\");\nconst organizeLinkDefs_1 = require(\"../organizeLinkDefs\");\nconst util_1 = require(\"./util\");\nclass MdExtractLinkDefinitionCodeActionProvider {\n    static genericTitle = l10n.t('Extract to link definition');\n    static #kind = lsp.CodeActionKind.RefactorExtract + '.linkDefinition';\n    static notOnLinkAction = {\n        title: MdExtractLinkDefinitionCodeActionProvider.genericTitle,\n        kind: MdExtractLinkDefinitionCodeActionProvider.#kind,\n        disabled: {\n            reason: l10n.t('Not on link'),\n        }\n    };\n    static alreadyRefLinkAction = {\n        title: MdExtractLinkDefinitionCodeActionProvider.genericTitle,\n        kind: MdExtractLinkDefinitionCodeActionProvider.#kind,\n        disabled: {\n            reason: l10n.t('Link is already a reference'),\n        }\n    };\n    #linkProvider;\n    constructor(linkProvider) {\n        this.#linkProvider = linkProvider;\n    }\n    async getActions(doc, range, context, token) {\n        if (!this.#isEnabled(context)) {\n            return [];\n        }\n        const linkInfo = await this.#linkProvider.getLinks(doc);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const linksInRange = linkInfo.links.filter(link => link.kind !== documentLinks_1.MdLinkKind.Definition && (0, range_1.rangeIntersects)(range, link.source.range));\n        if (!linksInRange.length) {\n            return [MdExtractLinkDefinitionCodeActionProvider.notOnLinkAction];\n        }\n        // Sort by range start to get most specific link\n        linksInRange.sort((a, b) => (0, position_1.comparePosition)(b.source.range.start, a.source.range.start));\n        // Even though multiple links may be in the selection, we only generate an action for the first link we find.\n        // Creating actions for every link is overwhelming when users select all in a file\n        const targetLink = linksInRange.find(link => link.href.kind === documentLinks_1.HrefKind.External || link.href.kind === documentLinks_1.HrefKind.Internal);\n        if (!targetLink) {\n            return [MdExtractLinkDefinitionCodeActionProvider.alreadyRefLinkAction];\n        }\n        return [this.#getExtractLinkAction(doc, linkInfo, targetLink)];\n    }\n    #isEnabled(context) {\n        if (typeof context.only === 'undefined') {\n            return true;\n        }\n        return context.only.some(kind => (0, util_1.codeActionKindContains)(lsp.CodeActionKind.Refactor, kind));\n    }\n    #getExtractLinkAction(doc, linkInfo, targetLink) {\n        const builder = new editBuilder_1.WorkspaceEditBuilder();\n        const resource = (0, textDocument_1.getDocUri)(doc);\n        const placeholder = this.#getPlaceholder(linkInfo.definitions);\n        // Rewrite all inline occurrences of the link\n        for (const link of linkInfo.links) {\n            if (link.kind === documentLinks_1.MdLinkKind.Link && this.#matchesHref(targetLink.href, link)) {\n                builder.replace(resource, link.source.targetRange, `[${placeholder}]`);\n            }\n        }\n        // And append new definition to link definition block\n        const definitionText = this.#getLinkTargetText(doc, targetLink).trim();\n        const definitions = linkInfo.links.filter(link => link.kind === documentLinks_1.MdLinkKind.Definition);\n        const defBlock = (0, organizeLinkDefs_1.getExistingDefinitionBlock)(doc, definitions);\n        if (!defBlock) {\n            builder.insert(resource, { line: doc.lineCount, character: 0 }, `\\n\\n[${placeholder}]: ${definitionText}`);\n        }\n        else {\n            const line = (0, textDocument_1.getLine)(doc, defBlock.endLine);\n            builder.insert(resource, { line: defBlock.endLine, character: line.length }, `\\n[${placeholder}]: ${definitionText}`);\n        }\n        const renamePosition = (0, position_1.translatePosition)(targetLink.source.targetRange.start, { characterDelta: 1 });\n        return {\n            title: MdExtractLinkDefinitionCodeActionProvider.genericTitle,\n            kind: MdExtractLinkDefinitionCodeActionProvider.#kind,\n            edit: builder.renameFragment(),\n            command: {\n                command: 'vscodeMarkdownLanguageservice.rename',\n                title: 'Rename',\n                arguments: [(0, textDocument_1.getDocUri)(doc), renamePosition],\n            }\n        };\n    }\n    #getLinkTargetText(doc, link) {\n        const afterHrefRange = (0, range_1.makeRange)((0, position_1.translatePosition)(link.source.targetRange.start, { characterDelta: 1 }), (0, position_1.translatePosition)(link.source.targetRange.end, { characterDelta: -1 }));\n        return doc.getText(afterHrefRange);\n    }\n    #getPlaceholder(definitions) {\n        const base = 'def';\n        for (let i = 1;; ++i) {\n            const name = i === 1 ? base : `${base}${i}`;\n            if (typeof definitions.lookup(name) === 'undefined') {\n                return name;\n            }\n        }\n    }\n    #matchesHref(href, link) {\n        if (link.href.kind === documentLinks_1.HrefKind.External && href.kind === documentLinks_1.HrefKind.External) {\n            return link.href.uri.toString() === href.uri.toString();\n        }\n        if (link.href.kind === documentLinks_1.HrefKind.Internal && href.kind === documentLinks_1.HrefKind.Internal) {\n            return link.href.path.toString() === href.path.toString() && link.href.fragment === href.fragment;\n        }\n        return false;\n    }\n}\nexports.MdExtractLinkDefinitionCodeActionProvider = MdExtractLinkDefinitionCodeActionProvider;\n//# sourceMappingURL=extractLinkDef.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdRemoveLinkDefinitionCodeActionProvider = void 0;\nconst l10n = require(\"@vscode/l10n\");\nconst lsp = require(\"vscode-languageserver-types\");\nconst range_1 = require(\"../../types/range\");\nconst textDocument_1 = require(\"../../types/textDocument\");\nconst editBuilder_1 = require(\"../../util/editBuilder\");\nconst diagnostics_1 = require(\"../diagnostics\");\nconst util_1 = require(\"./util\");\nclass MdRemoveLinkDefinitionCodeActionProvider {\n    static #removeUnusedDefTitle = l10n.t('Remove unused link definition');\n    static #removeDuplicateDefTitle = l10n.t('Remove duplicate link definition');\n    *getActions(doc, range, context) {\n        if (!this.#isEnabled(context)) {\n            return;\n        }\n        const unusedDiagnosticLines = new Set();\n        for (const diag of context.diagnostics) {\n            if (diag.code === diagnostics_1.DiagnosticCode.link_unusedDefinition && diag.data && (0, range_1.rangeIntersects)(diag.range, range)) {\n                const link = diag.data;\n                yield this.#getRemoveDefinitionAction(doc, link, MdRemoveLinkDefinitionCodeActionProvider.#removeUnusedDefTitle);\n                unusedDiagnosticLines.add(link.source.range.start.line);\n            }\n        }\n        for (const diag of context.diagnostics) {\n            if (diag.code === diagnostics_1.DiagnosticCode.link_duplicateDefinition && diag.data && (0, range_1.rangeIntersects)(diag.range, range)) {\n                const link = diag.data;\n                if (!unusedDiagnosticLines.has(link.source.range.start.line)) {\n                    yield this.#getRemoveDefinitionAction(doc, link, MdRemoveLinkDefinitionCodeActionProvider.#removeDuplicateDefTitle);\n                }\n            }\n        }\n    }\n    #isEnabled(context) {\n        if (typeof context.only === 'undefined') {\n            return true;\n        }\n        return context.only.some(kind => (0, util_1.codeActionKindContains)(lsp.CodeActionKind.QuickFix, kind));\n    }\n    #getRemoveDefinitionAction(doc, definition, title) {\n        const builder = new editBuilder_1.WorkspaceEditBuilder();\n        const range = definition.source.range;\n        builder.replace((0, textDocument_1.getDocUri)(doc), (0, range_1.makeRange)(range.start.line, 0, range.start.line + 1, 0), '');\n        return { title, kind: lsp.CodeActionKind.QuickFix, edit: builder.renameFragment() };\n    }\n}\nexports.MdRemoveLinkDefinitionCodeActionProvider = MdRemoveLinkDefinitionCodeActionProvider;\n//# sourceMappingURL=removeLinkDefinition.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.codeActionKindContains = void 0;\nfunction codeActionKindContains(kindA, kindB) {\n    return kindA === kindB || kindB.startsWith(kindA + '.');\n}\nexports.codeActionKindContains = codeActionKindContains;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdDefinitionProvider = void 0;\nconst range_1 = require(\"../types/range\");\nconst workspace_1 = require(\"../workspace\");\nconst documentLinks_1 = require(\"./documentLinks\");\nclass MdDefinitionProvider {\n    #configuration;\n    #workspace;\n    #tocProvider;\n    #linkCache;\n    constructor(configuration, workspace, tocProvider, linkCache) {\n        this.#configuration = configuration;\n        this.#workspace = workspace;\n        this.#tocProvider = tocProvider;\n        this.#linkCache = linkCache;\n    }\n    async provideDefinition(document, position, token) {\n        const toc = await this.#tocProvider.getForDocument(document);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const header = toc.entries.find(entry => entry.line === position.line);\n        if (header) {\n            return header.headerLocation;\n        }\n        return this.#getDefinitionOfLinkAtPosition(document, position, token);\n    }\n    async #getDefinitionOfLinkAtPosition(document, position, token) {\n        const docLinks = (await this.#linkCache.getForDocs([document]))[0];\n        for (const link of docLinks) {\n            if (link.kind === documentLinks_1.MdLinkKind.Definition && (0, range_1.rangeContains)(link.ref.range, position)) {\n                return this.#getDefinitionOfRef(link.ref.text, docLinks);\n            }\n            if ((0, range_1.rangeContains)(link.source.hrefRange, position)) {\n                return this.#getDefinitionOfLink(link, docLinks, token);\n            }\n        }\n        return undefined;\n    }\n    async #getDefinitionOfLink(sourceLink, allLinksInFile, token) {\n        if (sourceLink.href.kind === documentLinks_1.HrefKind.Reference) {\n            return this.#getDefinitionOfRef(sourceLink.href.ref, allLinksInFile);\n        }\n        if (sourceLink.href.kind === documentLinks_1.HrefKind.External || !sourceLink.href.fragment) {\n            return undefined;\n        }\n        const resolvedResource = await (0, workspace_1.statLinkToMarkdownFile)(this.#configuration, this.#workspace, sourceLink.href.path);\n        if (!resolvedResource || token.isCancellationRequested) {\n            return undefined;\n        }\n        const toc = await this.#tocProvider.get(resolvedResource);\n        return toc.lookup(sourceLink.href.fragment)?.headerLocation;\n    }\n    #getDefinitionOfRef(ref, allLinksInFile) {\n        const allDefinitions = new documentLinks_1.LinkDefinitionSet(allLinksInFile);\n        const def = allDefinitions.lookup(ref);\n        return def ? { range: def.source.range, uri: def.source.resource.toString() } : undefined;\n    }\n}\nexports.MdDefinitionProvider = MdDefinitionProvider;\n//# sourceMappingURL=definitions.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticsManager = exports.DiagnosticComputer = exports.DiagnosticCode = exports.DiagnosticLevel = void 0;\nconst l10n = require(\"@vscode/l10n\");\nconst picomatch = require(\"picomatch\");\nconst vscode_languageserver_1 = require(\"vscode-languageserver\");\nconst lsp = require(\"vscode-languageserver-types\");\nconst position_1 = require(\"../types/position\");\nconst range_1 = require(\"../types/range\");\nconst textDocument_1 = require(\"../types/textDocument\");\nconst dispose_1 = require(\"../util/dispose\");\nconst file_1 = require(\"../util/file\");\nconst limiter_1 = require(\"../util/limiter\");\nconst resourceMap_1 = require(\"../util/resourceMap\");\nconst workspace_1 = require(\"../workspace\");\nconst documentLinks_1 = require(\"./documentLinks\");\n/**\n * The severity at which diagnostics are reported\n */\nvar DiagnosticLevel;\n(function (DiagnosticLevel) {\n    /** Don't report this diagnostic. */\n    DiagnosticLevel[\"ignore\"] = \"ignore\";\n    /**\n     * Report the diagnostic at a hint level.\n     *\n     * Hints will typically not be directly reported by editors, but may show up as unused spans.\n     */\n    DiagnosticLevel[\"hint\"] = \"hint\";\n    /** Report the diagnostic as a warning. */\n    DiagnosticLevel[\"warning\"] = \"warning\";\n    /** Report the diagnostic as an error. */\n    DiagnosticLevel[\"error\"] = \"error\";\n})(DiagnosticLevel = exports.DiagnosticLevel || (exports.DiagnosticLevel = {}));\nfunction toSeverity(level) {\n    switch (level) {\n        case DiagnosticLevel.error: return vscode_languageserver_1.DiagnosticSeverity.Error;\n        case DiagnosticLevel.warning: return vscode_languageserver_1.DiagnosticSeverity.Warning;\n        case DiagnosticLevel.hint: return vscode_languageserver_1.DiagnosticSeverity.Hint;\n        case DiagnosticLevel.ignore: return undefined;\n        case undefined: return undefined;\n    }\n}\n/**\n * Error codes of Markdown diagnostics\n */\nvar DiagnosticCode;\n(function (DiagnosticCode) {\n    /** The linked to reference does not exist. */\n    DiagnosticCode[\"link_noSuchReferences\"] = \"link.no-such-reference\";\n    /** The linked to heading does not exist in the current file. */\n    DiagnosticCode[\"link_noSuchHeaderInOwnFile\"] = \"link.no-such-header-in-own-file\";\n    /** The linked to local file does not exist. */\n    DiagnosticCode[\"link_noSuchFile\"] = \"link.no-such-file\";\n    /** The linked to heading does not exist in the another file. */\n    DiagnosticCode[\"link_noSuchHeaderInFile\"] = \"link.no-such-header-in-file\";\n    /** The link definition is not used anywhere. */\n    DiagnosticCode[\"link_unusedDefinition\"] = \"link.unused-definition\";\n    /** The link definition is not used anywhere. */\n    DiagnosticCode[\"link_duplicateDefinition\"] = \"link.duplicate-definition\";\n})(DiagnosticCode = exports.DiagnosticCode || (exports.DiagnosticCode = {}));\n/**\n * Map of file paths to markdown links to that file.\n */\nclass FileLinkMap {\n    #filesToLinksMap = new resourceMap_1.ResourceMap();\n    constructor(links) {\n        for (const link of links) {\n            if (link.href.kind !== documentLinks_1.HrefKind.Internal) {\n                continue;\n            }\n            const existingFileEntry = this.#filesToLinksMap.get(link.href.path);\n            const linkData = { source: link.source, fragment: link.href.fragment };\n            if (existingFileEntry) {\n                existingFileEntry.outgoingLinks.push(linkData);\n            }\n            else {\n                this.#filesToLinksMap.set(link.href.path, { outgoingLinks: [linkData] });\n            }\n        }\n    }\n    get size() {\n        return this.#filesToLinksMap.size;\n    }\n    entries() {\n        return this.#filesToLinksMap.entries();\n    }\n}\nclass DiagnosticComputer {\n    #configuration;\n    #workspace;\n    #linkProvider;\n    #tocProvider;\n    constructor(configuration, workspace, linkProvider, tocProvider) {\n        this.#configuration = configuration;\n        this.#workspace = workspace;\n        this.#linkProvider = linkProvider;\n        this.#tocProvider = tocProvider;\n    }\n    async compute(doc, options, token) {\n        const { links, definitions } = await this.#linkProvider.getLinks(doc);\n        const statCache = new resourceMap_1.ResourceMap();\n        if (token.isCancellationRequested) {\n            return { links, diagnostics: [], statCache };\n        }\n        // Current doc always implicitly exists\n        statCache.set((0, textDocument_1.getDocUri)(doc), { exists: true });\n        return {\n            links: links,\n            statCache,\n            diagnostics: (await Promise.all([\n                this.#validateFileLinks(options, links, statCache, token),\n                this.#validateFragmentLinks(doc, options, links, token),\n                Array.from(this.#validateReferenceLinks(options, links, definitions)),\n                Array.from(this.#validateUnusedLinkDefinitions(options, links)),\n                Array.from(this.#validateDuplicateLinkDefinitions(options, links)),\n            ])).flat()\n        };\n    }\n    async #validateFragmentLinks(doc, options, links, token) {\n        const severity = toSeverity(options.validateFragmentLinks);\n        if (typeof severity === 'undefined') {\n            return [];\n        }\n        const toc = await this.#tocProvider.getForDocument(doc);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const diagnostics = [];\n        for (const link of links) {\n            if (link.href.kind === documentLinks_1.HrefKind.Internal\n                && link.source.hrefText.startsWith('#')\n                && link.href.path.toString() === doc.uri.toString()\n                && link.href.fragment\n                && !toc.lookup(link.href.fragment)) {\n                // Don't validate line number links\n                if ((0, documentLinks_1.parseLocationInfoFromFragment)(link.href.fragment)) {\n                    continue;\n                }\n                if (!this.#isIgnoredLink(options, link.source.hrefText)) {\n                    diagnostics.push({\n                        code: DiagnosticCode.link_noSuchHeaderInOwnFile,\n                        message: l10n.t('No header found: \\'{0}\\'', link.href.fragment),\n                        range: link.source.hrefRange,\n                        severity,\n                        data: {\n                            hrefText: link.source.hrefText\n                        }\n                    });\n                }\n            }\n        }\n        return diagnostics;\n    }\n    *#validateReferenceLinks(options, links, definitions) {\n        const severity = toSeverity(options.validateReferences);\n        if (typeof severity === 'undefined') {\n            return [];\n        }\n        for (const link of links) {\n            if (link.href.kind === documentLinks_1.HrefKind.Reference && !definitions.lookup(link.href.ref)) {\n                yield {\n                    code: DiagnosticCode.link_noSuchReferences,\n                    message: l10n.t('No link definition found: \\'{0}\\'', link.href.ref),\n                    range: link.source.hrefRange,\n                    severity,\n                    data: {\n                        ref: link.href.ref,\n                    },\n                };\n            }\n        }\n    }\n    *#validateUnusedLinkDefinitions(options, links) {\n        const errorSeverity = toSeverity(options.validateUnusedLinkDefinitions);\n        if (typeof errorSeverity === 'undefined') {\n            return;\n        }\n        const usedRefs = new documentLinks_1.ReferenceLinkMap();\n        for (const link of links) {\n            if (link.kind === documentLinks_1.MdLinkKind.Link && link.href.kind === documentLinks_1.HrefKind.Reference) {\n                usedRefs.set(link.href.ref, true);\n            }\n        }\n        for (const link of links) {\n            if (link.kind === documentLinks_1.MdLinkKind.Definition && !usedRefs.lookup(link.ref.text)) {\n                yield {\n                    code: DiagnosticCode.link_unusedDefinition,\n                    message: l10n.t('Link definition is unused'),\n                    range: link.source.range,\n                    severity: errorSeverity,\n                    tags: [\n                        lsp.DiagnosticTag.Unnecessary,\n                    ],\n                    data: link\n                };\n            }\n        }\n    }\n    *#validateDuplicateLinkDefinitions(options, links) {\n        const errorSeverity = toSeverity(options.validateDuplicateLinkDefinitions);\n        if (typeof errorSeverity === 'undefined') {\n            return;\n        }\n        const definitionMultiMap = new Map();\n        for (const link of links) {\n            if (link.kind === documentLinks_1.MdLinkKind.Definition) {\n                const existing = definitionMultiMap.get(link.ref.text);\n                if (existing) {\n                    existing.push(link);\n                }\n                else {\n                    definitionMultiMap.set(link.ref.text, [link]);\n                }\n            }\n        }\n        for (const [ref, defs] of definitionMultiMap) {\n            if (defs.length <= 1) {\n                continue;\n            }\n            for (const duplicateDef of defs) {\n                yield {\n                    code: DiagnosticCode.link_duplicateDefinition,\n                    message: l10n.t('Link definition for \\'{0}\\' already exists', ref),\n                    range: duplicateDef.ref.range,\n                    severity: errorSeverity,\n                    relatedInformation: defs\n                        .filter(x => x !== duplicateDef)\n                        .map(def => lsp.DiagnosticRelatedInformation.create({ uri: def.source.resource.toString(), range: def.ref.range }, l10n.t('Link is also defined here'))),\n                    data: duplicateDef\n                };\n            }\n        }\n    }\n    async #validateFileLinks(options, links, statCache, token) {\n        const pathErrorSeverity = toSeverity(options.validateFileLinks);\n        if (typeof pathErrorSeverity === 'undefined') {\n            return [];\n        }\n        const fragmentErrorSeverity = toSeverity(typeof options.validateMarkdownFileLinkFragments === 'undefined' ? options.validateFragmentLinks : options.validateMarkdownFileLinkFragments);\n        // We've already validated our own fragment links in `validateOwnHeaderLinks`\n        const linkSet = new FileLinkMap(links.filter(link => !link.source.hrefText.startsWith('#')));\n        if (linkSet.size === 0) {\n            return [];\n        }\n        const limiter = new limiter_1.Limiter(10);\n        const diagnostics = [];\n        await Promise.all(Array.from(linkSet.entries()).map(([path, { outgoingLinks: links }]) => {\n            return limiter.queue(async () => {\n                if (token.isCancellationRequested) {\n                    return;\n                }\n                const resolvedHrefPath = await (0, workspace_1.statLinkToMarkdownFile)(this.#configuration, this.#workspace, path, statCache);\n                if (token.isCancellationRequested) {\n                    return;\n                }\n                if (!resolvedHrefPath) {\n                    for (const link of links) {\n                        if (!this.#isIgnoredLink(options, link.source.pathText)) {\n                            diagnostics.push({\n                                code: DiagnosticCode.link_noSuchFile,\n                                message: l10n.t('File does not exist at path: {0}', path.fsPath),\n                                range: link.source.hrefRange,\n                                severity: pathErrorSeverity,\n                                data: {\n                                    fsPath: path.fsPath,\n                                    hrefText: link.source.pathText,\n                                }\n                            });\n                        }\n                    }\n                }\n                else if (typeof fragmentErrorSeverity !== 'undefined' && this.#isMarkdownPath(resolvedHrefPath)) {\n                    // Validate each of the links to headers in the file\n                    const fragmentLinks = links.filter(x => x.fragment);\n                    if (fragmentLinks.length) {\n                        const toc = await this.#tocProvider.get(resolvedHrefPath);\n                        if (token.isCancellationRequested) {\n                            return;\n                        }\n                        for (const link of fragmentLinks) {\n                            // Don't validate line number links\n                            if ((0, documentLinks_1.parseLocationInfoFromFragment)(link.fragment)) {\n                                continue;\n                            }\n                            if (!toc.lookup(link.fragment) && !this.#isIgnoredLink(options, link.source.pathText) && !this.#isIgnoredLink(options, link.source.hrefText)) {\n                                const range = (link.source.fragmentRange && (0, range_1.modifyRange)(link.source.fragmentRange, (0, position_1.translatePosition)(link.source.fragmentRange.start, { characterDelta: -1 }), undefined)) ?? link.source.hrefRange;\n                                diagnostics.push({\n                                    code: DiagnosticCode.link_noSuchHeaderInFile,\n                                    message: l10n.t('Header does not exist in file: {0}', link.fragment),\n                                    range: range,\n                                    severity: fragmentErrorSeverity,\n                                    data: {\n                                        fragment: link.fragment,\n                                        hrefText: link.source.hrefText\n                                    },\n                                });\n                            }\n                        }\n                    }\n                }\n            });\n        }));\n        return diagnostics;\n    }\n    #isMarkdownPath(resolvedHrefPath) {\n        return this.#workspace.hasMarkdownDocument(resolvedHrefPath) || (0, file_1.looksLikeMarkdownPath)(this.#configuration, resolvedHrefPath);\n    }\n    #isIgnoredLink(options, link) {\n        return options.ignoreLinks.some(glob => picomatch.isMatch(link, glob));\n    }\n}\nexports.DiagnosticComputer = DiagnosticComputer;\nclass FileLinkState extends dispose_1.Disposable {\n    #onDidChangeLinkedToFile = this._register(new vscode_languageserver_1.Emitter);\n    /**\n     * Event fired with a list of document uri when one of the links in the document changes\n     */\n    onDidChangeLinkedToFile = this.#onDidChangeLinkedToFile.event;\n    #linkedToFile = new resourceMap_1.ResourceMap();\n    #workspace;\n    constructor(workspace) {\n        super();\n        this.#workspace = workspace;\n    }\n    dispose() {\n        super.dispose();\n        for (const entry of this.#linkedToFile.values()) {\n            entry.watcher.dispose();\n        }\n        this.#linkedToFile.clear();\n    }\n    /**\n     * Set the known links in a markdown document, adding and removing file watchers as needed\n     */\n    updateLinksForDocument(document, links, statCache) {\n        const linkedToResource = new Set(links\n            .filter(link => link.href.kind === documentLinks_1.HrefKind.Internal)\n            .map(link => ({ path: link.href.path, exists: !!(statCache.get(link.href.path)?.exists) })));\n        // First decrement watcher counter for previous document state\n        for (const entry of this.#linkedToFile.values()) {\n            entry.documents.delete(document);\n        }\n        // Then create/update watchers for new document state\n        for (const { path, exists } of linkedToResource) {\n            let entry = this.#linkedToFile.get(path);\n            if (!entry) {\n                entry = {\n                    watcher: this.#startWatching(path),\n                    documents: new resourceMap_1.ResourceMap(),\n                    exists\n                };\n                this.#linkedToFile.set(path, entry);\n            }\n            entry.documents.set(document, document);\n        }\n        // Finally clean up watchers for links that are no longer are referenced anywhere\n        for (const [key, value] of this.#linkedToFile) {\n            if (value.documents.size === 0) {\n                value.watcher.dispose();\n                this.#linkedToFile.delete(key);\n            }\n        }\n    }\n    deleteDocument(resource) {\n        this.updateLinksForDocument(resource, [], new resourceMap_1.ResourceMap());\n    }\n    tryStatFileLink(link) {\n        const entry = this.#linkedToFile.get(link);\n        if (!entry) {\n            return undefined;\n        }\n        return { exists: entry.exists };\n    }\n    #startWatching(path) {\n        const watcher = this.#workspace.watchFile(path, { ignoreChange: true });\n        const deleteReg = watcher.onDidDelete((resource) => this.#onLinkedResourceChanged(resource, false));\n        const createReg = watcher.onDidCreate((resource) => this.#onLinkedResourceChanged(resource, true));\n        return {\n            dispose: () => {\n                watcher.dispose();\n                deleteReg.dispose();\n                createReg.dispose();\n            }\n        };\n    }\n    #onLinkedResourceChanged(resource, exists) {\n        const entry = this.#linkedToFile.get(resource);\n        if (entry) {\n            entry.exists = exists;\n            this.#onDidChangeLinkedToFile.fire({\n                changedResource: resource,\n                linkingFiles: entry.documents.values(),\n                exists,\n            });\n        }\n    }\n}\nclass DiagnosticsManager extends dispose_1.Disposable {\n    #computer;\n    #linkWatcher;\n    #onLinkedToFileChanged = this._register(new vscode_languageserver_1.Emitter());\n    onLinkedToFileChanged = this.#onLinkedToFileChanged.event;\n    constructor(configuration, workspace, linkProvider, tocProvider) {\n        super();\n        const linkWatcher = new FileLinkState(workspace);\n        this.#linkWatcher = this._register(linkWatcher);\n        this._register(this.#linkWatcher.onDidChangeLinkedToFile(e => {\n            this.#onLinkedToFileChanged.fire({\n                changedResource: e.changedResource,\n                linkingResources: Array.from(e.linkingFiles),\n            });\n        }));\n        const stateCachedWorkspace = new Proxy(workspace, {\n            get(target, p, receiver) {\n                if (p !== 'stat') {\n                    const value = Reflect.get(target, p, receiver);\n                    return typeof value === 'function' ? value.bind(workspace) : value;\n                }\n                return async function (resource) {\n                    const stat = linkWatcher.tryStatFileLink(resource);\n                    if (stat) {\n                        if (stat.exists) {\n                            return { isDirectory: false };\n                        }\n                        else {\n                            return undefined;\n                        }\n                    }\n                    return workspace.stat.call(this === receiver ? target : this, resource);\n                };\n            },\n        });\n        this.#computer = new DiagnosticComputer(configuration, stateCachedWorkspace, linkProvider, tocProvider);\n        this._register(workspace.onDidDeleteMarkdownDocument(uri => {\n            this.#linkWatcher.deleteDocument(uri);\n        }));\n    }\n    async computeDiagnostics(doc, options, token) {\n        const results = await this.#computer.compute(doc, options, token);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        this.#linkWatcher.updateLinksForDocument((0, textDocument_1.getDocUri)(doc), results.links, results.statCache);\n        return results.diagnostics;\n    }\n    disposeDocumentResources(uri) {\n        this.#linkWatcher.deleteDocument(uri);\n    }\n}\nexports.DiagnosticsManager = DiagnosticsManager;\n//# sourceMappingURL=diagnostics.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdDocumentHighlightProvider = void 0;\nconst lsp = require(\"vscode-languageserver-types\");\nconst position_1 = require(\"../types/position\");\nconst range_1 = require(\"../types/range\");\nconst workspace_1 = require(\"../workspace\");\nconst documentLinks_1 = require(\"./documentLinks\");\nconst rename_1 = require(\"./rename\");\nclass MdDocumentHighlightProvider {\n    #configuration;\n    #tocProvider;\n    #linkProvider;\n    constructor(configuration, tocProvider, linkProvider) {\n        this.#configuration = configuration;\n        this.#tocProvider = tocProvider;\n        this.#linkProvider = linkProvider;\n    }\n    async getDocumentHighlights(document, position, token) {\n        const toc = await this.#tocProvider.getForDocument(document);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const { links } = await this.#linkProvider.getLinks(document);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const header = toc.entries.find(entry => entry.line === position.line);\n        if (header) {\n            return [...this.#getHighlightsForHeader(document, header, links, toc)];\n        }\n        return [...this.#getHighlightsForLinkAtPosition(document, position, links, toc)];\n    }\n    *#getHighlightsForHeader(document, header, links, toc) {\n        yield { range: header.headerLocation.range, kind: lsp.DocumentHighlightKind.Write };\n        const docUri = document.uri.toString();\n        for (const link of links) {\n            if (link.href.kind === documentLinks_1.HrefKind.Internal\n                && toc.lookup(link.href.fragment) === header\n                && link.source.fragmentRange\n                && link.href.path.toString() === docUri) {\n                yield {\n                    range: (0, range_1.modifyRange)(link.source.fragmentRange, (0, position_1.translatePosition)(link.source.fragmentRange.start, { characterDelta: -1 })),\n                    kind: lsp.DocumentHighlightKind.Read,\n                };\n            }\n        }\n    }\n    #getHighlightsForLinkAtPosition(document, position, links, toc) {\n        const link = links.find(link => (0, range_1.rangeContains)(link.source.hrefRange, position) || (link.kind === documentLinks_1.MdLinkKind.Definition && (0, range_1.rangeContains)(link.ref.range, position)));\n        if (!link) {\n            return [];\n        }\n        if (link.kind === documentLinks_1.MdLinkKind.Definition && (0, range_1.rangeContains)(link.ref.range, position)) {\n            // We are on the reference text inside the link definition\n            return this.#getHighlightsForReference(link.ref.text, links);\n        }\n        switch (link.href.kind) {\n            case documentLinks_1.HrefKind.Reference: {\n                return this.#getHighlightsForReference(link.href.ref, links);\n            }\n            case documentLinks_1.HrefKind.Internal: {\n                if (link.source.fragmentRange && (0, range_1.rangeContains)(link.source.fragmentRange, position)) {\n                    return this.#getHighlightsForLinkFragment(document, link.href, links, toc);\n                }\n                return this.#getHighlightsForLinkPath(link.href.path, links);\n            }\n            case documentLinks_1.HrefKind.External: {\n                return this.#getHighlightsForExternalLink(link.href.uri, links);\n            }\n        }\n    }\n    *#getHighlightsForLinkFragment(document, href, links, toc) {\n        const targetDoc = (0, workspace_1.tryAppendMarkdownFileExtension)(this.#configuration, href.path);\n        if (!targetDoc) {\n            return;\n        }\n        const fragment = href.fragment.toLowerCase();\n        if (targetDoc.toString() === document.uri) {\n            const header = toc.lookup(fragment);\n            if (header) {\n                yield { range: header.headerLocation.range, kind: lsp.DocumentHighlightKind.Write };\n            }\n        }\n        for (const link of links) {\n            if (link.href.kind === documentLinks_1.HrefKind.Internal && (0, documentLinks_1.looksLikeLinkToResource)(this.#configuration, link.href, targetDoc)) {\n                if (link.source.fragmentRange && link.href.fragment.toLowerCase() === fragment) {\n                    yield {\n                        range: (0, range_1.modifyRange)(link.source.fragmentRange, (0, position_1.translatePosition)(link.source.fragmentRange.start, { characterDelta: -1 })),\n                        kind: lsp.DocumentHighlightKind.Read,\n                    };\n                }\n            }\n        }\n    }\n    *#getHighlightsForLinkPath(path, links) {\n        const targetDoc = (0, workspace_1.tryAppendMarkdownFileExtension)(this.#configuration, path) ?? path;\n        for (const link of links) {\n            if (link.href.kind === documentLinks_1.HrefKind.Internal && (0, documentLinks_1.looksLikeLinkToResource)(this.#configuration, link.href, targetDoc)) {\n                yield {\n                    range: (0, rename_1.getFilePathRange)(link),\n                    kind: lsp.DocumentHighlightKind.Read,\n                };\n            }\n        }\n    }\n    *#getHighlightsForExternalLink(uri, links) {\n        for (const link of links) {\n            if (link.href.kind === documentLinks_1.HrefKind.External && link.href.uri.toString() === uri.toString()) {\n                yield {\n                    range: (0, rename_1.getFilePathRange)(link),\n                    kind: lsp.DocumentHighlightKind.Read,\n                };\n            }\n        }\n    }\n    *#getHighlightsForReference(ref, links) {\n        for (const link of links) {\n            if (link.kind === documentLinks_1.MdLinkKind.Definition && link.ref.text === ref) {\n                yield {\n                    range: link.ref.range,\n                    kind: lsp.DocumentHighlightKind.Write,\n                };\n            }\n            else if (link.href.kind === documentLinks_1.HrefKind.Reference && link.href.ref === ref) {\n                yield {\n                    range: link.source.hrefRange,\n                    kind: lsp.DocumentHighlightKind.Read,\n                };\n            }\n        }\n    }\n}\nexports.MdDocumentHighlightProvider = MdDocumentHighlightProvider;\n//# sourceMappingURL=documentHighlights.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.looksLikeLinkToResource = exports.createWorkspaceLinkCache = exports.parseLocationInfoFromFragment = exports.MdLinkProvider = exports.LinkDefinitionSet = exports.ReferenceLinkMap = exports.MdLinkComputer = exports.MdLinkKind = exports.resolveInternalDocumentLink = exports.HrefKind = void 0;\nconst l10n = require(\"@vscode/l10n\");\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst logging_1 = require(\"../logging\");\nconst position_1 = require(\"../types/position\");\nconst range_1 = require(\"../types/range\");\nconst textDocument_1 = require(\"../types/textDocument\");\nconst arrays_1 = require(\"../util/arrays\");\nconst dispose_1 = require(\"../util/dispose\");\nconst string_1 = require(\"../util/string\");\nconst uri_1 = require(\"../util/uri\");\nconst workspace_1 = require(\"../workspace\");\nconst workspaceCache_1 = require(\"../workspaceCache\");\nvar HrefKind;\n(function (HrefKind) {\n    HrefKind[HrefKind[\"External\"] = 0] = \"External\";\n    HrefKind[HrefKind[\"Internal\"] = 1] = \"Internal\";\n    HrefKind[HrefKind[\"Reference\"] = 2] = \"Reference\";\n})(HrefKind = exports.HrefKind || (exports.HrefKind = {}));\nfunction resolveInternalDocumentLink(sourceDocUri, linkText, workspace) {\n    // Assume it must be an relative or absolute file path\n    // Use a fake scheme to avoid parse warnings\n    const tempUri = vscode_uri_1.URI.parse(`vscode-resource:${linkText}`);\n    const docUri = workspace.getContainingDocument?.(sourceDocUri)?.uri ?? sourceDocUri;\n    let resourceUri;\n    if (!tempUri.path) {\n        // Looks like a fragment only link\n        if (typeof tempUri.fragment !== 'string') {\n            return undefined;\n        }\n        resourceUri = sourceDocUri;\n    }\n    else if (tempUri.path[0] === '/') {\n        const root = (0, workspace_1.getWorkspaceFolder)(workspace, docUri);\n        if (root) {\n            resourceUri = vscode_uri_1.Utils.joinPath(root, tempUri.path);\n        }\n    }\n    else {\n        if (docUri.scheme === 'untitled') {\n            const root = (0, workspace_1.getWorkspaceFolder)(workspace, docUri);\n            if (root) {\n                resourceUri = vscode_uri_1.Utils.joinPath(root, tempUri.path);\n            }\n        }\n        else {\n            const base = vscode_uri_1.Utils.dirname(docUri);\n            resourceUri = vscode_uri_1.Utils.joinPath(base, tempUri.path);\n        }\n    }\n    if (!resourceUri) {\n        return undefined;\n    }\n    return {\n        resource: resourceUri,\n        linkFragment: tempUri.fragment,\n    };\n}\nexports.resolveInternalDocumentLink = resolveInternalDocumentLink;\nvar MdLinkKind;\n(function (MdLinkKind) {\n    MdLinkKind[MdLinkKind[\"Link\"] = 1] = \"Link\";\n    MdLinkKind[MdLinkKind[\"Definition\"] = 2] = \"Definition\";\n})(MdLinkKind = exports.MdLinkKind || (exports.MdLinkKind = {}));\nfunction createHref(sourceDocUri, link, workspace) {\n    if (/^[a-z\\-][a-z\\-]+:/i.test(link)) {\n        // Looks like a uri\n        return { kind: HrefKind.External, uri: vscode_uri_1.URI.parse((0, uri_1.tryDecodeUri)(link)) };\n    }\n    const resolved = resolveInternalDocumentLink(sourceDocUri, link, workspace);\n    if (!resolved) {\n        return undefined;\n    }\n    return {\n        kind: HrefKind.Internal,\n        path: resolved.resource,\n        fragment: resolved.linkFragment,\n    };\n}\nfunction createMdLink(document, targetText, preHrefText, rawLink, matchIndex, fullMatch, workspace) {\n    const isAngleBracketLink = rawLink.startsWith('<');\n    const link = stripAngleBrackets(rawLink);\n    let linkTarget;\n    try {\n        linkTarget = createHref((0, textDocument_1.getDocUri)(document), link, workspace);\n    }\n    catch {\n        return undefined;\n    }\n    if (!linkTarget) {\n        return undefined;\n    }\n    const pre = targetText + preHrefText;\n    const linkStart = document.positionAt(matchIndex);\n    const linkEnd = (0, position_1.translatePosition)(linkStart, { characterDelta: fullMatch.length });\n    const targetStart = (0, position_1.translatePosition)(linkStart, { characterDelta: targetText.length });\n    const targetRange = { start: targetStart, end: linkEnd };\n    const hrefStart = (0, position_1.translatePosition)(linkStart, { characterDelta: pre.length + (isAngleBracketLink ? 1 : 0) });\n    const hrefEnd = (0, position_1.translatePosition)(hrefStart, { characterDelta: link.length });\n    const hrefRange = { start: hrefStart, end: hrefEnd };\n    return {\n        kind: MdLinkKind.Link,\n        href: linkTarget,\n        source: {\n            hrefText: link,\n            resource: (0, textDocument_1.getDocUri)(document),\n            range: { start: linkStart, end: linkEnd },\n            targetRange,\n            hrefRange,\n            ...getLinkSourceFragmentInfo(document, link, hrefStart, hrefEnd),\n        }\n    };\n}\nfunction getFragmentRange(text, start, end) {\n    const index = text.indexOf('#');\n    if (index < 0) {\n        return undefined;\n    }\n    return { start: (0, position_1.translatePosition)(start, { characterDelta: index + 1 }), end };\n}\nfunction getLinkSourceFragmentInfo(document, link, linkStart, linkEnd) {\n    const fragmentRange = getFragmentRange(link, linkStart, linkEnd);\n    return {\n        pathText: document.getText({ start: linkStart, end: fragmentRange ? (0, position_1.translatePosition)(fragmentRange.start, { characterDelta: -1 }) : linkEnd }),\n        fragmentRange,\n    };\n}\nconst angleBracketLinkRe = /^<(.*)>$/;\n/**\n * Used to strip brackets from the markdown link\n *\n * <http://example.com> will be transformed to http://example.com\n*/\nfunction stripAngleBrackets(link) {\n    return link.replace(angleBracketLinkRe, '$1');\n}\n/**\n * Matches `[text](link)` or `[text](<link>)`\n */\nconst linkPattern = new RegExp(\n// text\n(0, string_1.r) `(!?\\[` + // open prefix match -->\n    /**/ (0, string_1.r) `(?:` +\n    /*****/ (0, string_1.r) `[^\\[\\]\\\\]|` + // Non-bracket chars, or...\n    /*****/ (0, string_1.r) `\\\\.|` + // Escaped char, or...\n    /*****/ (0, string_1.r) `\\[[^\\[\\]]*\\]` + // Matched bracket pair\n    /**/ (0, string_1.r) `)*` +\n    (0, string_1.r) `\\])` + // <-- close prefix match\n    // Destination\n    (0, string_1.r) `(\\(\\s*)` + // Pre href\n    /**/ (0, string_1.r) `(` +\n    /*****/ (0, string_1.r) `[^\\s\\(\\)\\<](?:[^\\s\\(\\)]|\\([^\\s\\(\\)]*?\\))*|` + // Link without whitespace, or...\n    /*****/ (0, string_1.r) `<[^<>]+>` + // In angle brackets\n    /**/ (0, string_1.r) `)` +\n    // Title\n    /**/ (0, string_1.r) `\\s*(?:\"[^\"]*\"|'[^']*'|\\([^\\(\\)]*\\))?\\s*` +\n    (0, string_1.r) `\\)`, 'g');\n/**\n* Matches `[text][ref]` or `[shorthand]` or `[shorthand][]`\n*/\nconst referenceLinkPattern = new RegExp((0, string_1.r) `(^|[^\\]\\\\])` + // Must not start with another bracket (workaround for lack of support for negative look behinds)\n    (0, string_1.r) `(?:` +\n    /**/ (0, string_1.r) `(?:` +\n    /****/ (0, string_1.r) `(` + // Start link prefix\n    /******/ (0, string_1.r) `!?` + // Optional image ref\n    /******/ (0, string_1.r) `\\[((?:` + // Link text\n    /********/ (0, string_1.r) `\\\\\\]|` + // escaped bracket, or...\n    /********/ (0, string_1.r) `[^\\[\\]]|` + //non bracket char, or...\n    /********/ (0, string_1.r) `\\[[^\\[\\]]*\\]` + // matched bracket pair\n    /******/ `+)*)\\]` + // end link  text\n    /******/ (0, string_1.r) `\\[\\s*?` + // Start of link def\n    /****/ (0, string_1.r) `)` + // end link prefix\n    /****/ (0, string_1.r) `(` +\n    /******/ (0, string_1.r) `[^\\]]*?)\\]` + //link def\n    /******/ (0, string_1.r) `|` +\n    /******/ (0, string_1.r) `\\[\\s*?([^\\\\\\]]*?)\\s*\\])(?![\\(])` +\n    (0, string_1.r) `)`, 'gm');\n/**\n * Matches `<http://example.com>`\n */\nconst autoLinkPattern = /\\<(\\w+:[^\\>\\s]+)\\>/g;\n/**\n * Matches `[text]: link`\n */\nconst definitionPattern = /^([\\t ]*\\[(?!\\^)((?:\\\\\\]|[^\\]])+)\\]:\\s*)([^<]\\S*|<[^>]+>)/gm;\nconst inlineCodePattern = /(^|[^`])(`+)((?:.+?|.*?(?:(?:\\r?\\n).+?)*?)(?:\\r?\\n)?\\2)(?:$|[^`])/gm;\nclass NoLinkRanges {\n    multiline;\n    inline;\n    static #empty = new NoLinkRanges([], new Map());\n    static async compute(tokenizer, document, token) {\n        const tokens = await tokenizer.tokenize(document);\n        if (token.isCancellationRequested) {\n            return NoLinkRanges.#empty;\n        }\n        const multiline = tokens.filter(t => (t.type === 'code_block' || t.type === 'fence' || t.type === 'html_block') && !!t.map).map(t => t.map);\n        const inlineRanges = new Map();\n        const text = document.getText();\n        for (const match of text.matchAll(inlineCodePattern)) {\n            const startOffset = (match.index ?? 0) + match[1].length;\n            const startPosition = document.positionAt(startOffset);\n            const range = { start: startPosition, end: document.positionAt(startOffset + match[3].length) };\n            for (let line = range.start.line; line <= range.end.line; ++line) {\n                let entry = inlineRanges.get(line);\n                if (!entry) {\n                    entry = [];\n                    inlineRanges.set(line, entry);\n                }\n                entry.push(range);\n            }\n        }\n        return new NoLinkRanges(multiline, inlineRanges);\n    }\n    constructor(\n    /**\n     * code blocks and fences each represented by [line_start,line_end).\n     */\n    multiline, \n    /**\n     * Inline code spans where links should not be detected\n     */\n    inline) {\n        this.multiline = multiline;\n        this.inline = inline;\n    }\n    contains(position) {\n        return this.multiline.some(interval => position.line >= interval[0] && position.line < interval[1]) ||\n            !!this.inline.get(position.line)?.some(inlineRange => (0, range_1.rangeContains)(inlineRange, position));\n    }\n    concatInline(inlineRanges) {\n        const newInline = new Map(this.inline);\n        for (const range of inlineRanges) {\n            for (let line = range.start.line; line <= range.end.line; ++line) {\n                let entry = newInline.get(line);\n                if (!entry) {\n                    entry = [];\n                    newInline.set(line, entry);\n                }\n                entry.push(range);\n            }\n        }\n        return new NoLinkRanges(this.multiline, newInline);\n    }\n}\n/**\n * Stateless object that extracts link information from markdown files.\n */\nclass MdLinkComputer {\n    #tokenizer;\n    #workspace;\n    constructor(tokenizer, workspace) {\n        this.#tokenizer = tokenizer;\n        this.#workspace = workspace;\n    }\n    async getAllLinks(document, token) {\n        const noLinkRanges = await NoLinkRanges.compute(this.#tokenizer, document, token);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const inlineLinks = Array.from(this.#getInlineLinks(document, noLinkRanges));\n        return [\n            ...inlineLinks,\n            ...this.#getReferenceLinks(document, noLinkRanges.concatInline(inlineLinks.map(x => x.source.range))),\n            ...this.#getLinkDefinitions(document, noLinkRanges),\n            ...this.#getAutoLinks(document, noLinkRanges),\n        ];\n    }\n    *#getInlineLinks(document, noLinkRanges) {\n        const text = document.getText();\n        for (const match of text.matchAll(linkPattern)) {\n            const linkTextIncludingBrackets = match[1];\n            const matchLinkData = createMdLink(document, linkTextIncludingBrackets, match[2], match[3], match.index ?? 0, match[0], this.#workspace);\n            if (matchLinkData && !noLinkRanges.contains(matchLinkData.source.hrefRange.start)) {\n                yield matchLinkData;\n                // Also check for images in link text\n                if (/\\![\\[\\(]/.test(linkTextIncludingBrackets)) {\n                    const linkText = linkTextIncludingBrackets.slice(1, -1);\n                    const startOffset = (match.index ?? 0) + 1;\n                    for (const innerMatch of linkText.matchAll(linkPattern)) {\n                        const innerData = createMdLink(document, innerMatch[1], innerMatch[2], innerMatch[3], startOffset + (innerMatch.index ?? 0), innerMatch[0], this.#workspace);\n                        if (innerData) {\n                            yield innerData;\n                        }\n                    }\n                    yield* this.#getReferenceLinksInText(document, linkText, startOffset, noLinkRanges);\n                }\n            }\n        }\n    }\n    *#getAutoLinks(document, noLinkRanges) {\n        const text = document.getText();\n        const docUri = (0, textDocument_1.getDocUri)(document);\n        for (const match of text.matchAll(autoLinkPattern)) {\n            const linkOffset = (match.index ?? 0);\n            const linkStart = document.positionAt(linkOffset);\n            if (noLinkRanges.contains(linkStart)) {\n                continue;\n            }\n            const link = match[1];\n            const linkTarget = createHref(docUri, link, this.#workspace);\n            if (!linkTarget) {\n                continue;\n            }\n            const linkEnd = (0, position_1.translatePosition)(linkStart, { characterDelta: match[0].length });\n            const hrefStart = (0, position_1.translatePosition)(linkStart, { characterDelta: 1 });\n            const hrefEnd = (0, position_1.translatePosition)(hrefStart, { characterDelta: link.length });\n            const hrefRange = { start: hrefStart, end: hrefEnd };\n            yield {\n                kind: MdLinkKind.Link,\n                href: linkTarget,\n                source: {\n                    hrefText: link,\n                    resource: docUri,\n                    targetRange: hrefRange,\n                    hrefRange: hrefRange,\n                    range: { start: linkStart, end: linkEnd },\n                    ...getLinkSourceFragmentInfo(document, link, hrefStart, hrefEnd),\n                }\n            };\n        }\n    }\n    #getReferenceLinks(document, noLinkRanges) {\n        const text = document.getText();\n        return this.#getReferenceLinksInText(document, text, 0, noLinkRanges);\n    }\n    *#getReferenceLinksInText(document, text, startingOffset, noLinkRanges) {\n        for (const match of text.matchAll(referenceLinkPattern)) {\n            const linkStartOffset = startingOffset + (match.index ?? 0) + match[1].length;\n            const linkStart = document.positionAt(linkStartOffset);\n            if (noLinkRanges.contains(linkStart)) {\n                continue;\n            }\n            let hrefStart;\n            let hrefEnd;\n            let reference = match[4];\n            if (reference === '') { // [ref][],\n                reference = match[3];\n                if (!reference) {\n                    continue;\n                }\n                const offset = linkStartOffset + 1;\n                hrefStart = document.positionAt(offset);\n                hrefEnd = document.positionAt(offset + reference.length);\n            }\n            else if (reference) { // [text][ref]\n                const text = match[3];\n                if (!text) {\n                    // Handle the case ![][cat]\n                    if (!match[0].startsWith('!')) {\n                        // Empty links are not valid\n                        continue;\n                    }\n                }\n                if (!match[0].startsWith('!')) {\n                    // Also get links in text\n                    yield* this.#getReferenceLinksInText(document, match[3], linkStartOffset + 1, noLinkRanges);\n                }\n                const pre = match[2];\n                const offset = linkStartOffset + pre.length;\n                hrefStart = document.positionAt(offset);\n                hrefEnd = document.positionAt(offset + reference.length);\n            }\n            else if (match[5]) { // [ref]\n                reference = match[5];\n                const offset = linkStartOffset + 1;\n                hrefStart = document.positionAt(offset);\n                const line = (0, textDocument_1.getLine)(document, hrefStart.line);\n                // See if link looks like link definition\n                if (linkStart.character === 0 && line[match[0].length - match[1].length] === ':') {\n                    continue;\n                }\n                // See if link looks like a checkbox\n                const checkboxMatch = line.match(/^\\s*[\\-\\*]\\s*\\[x\\]/i);\n                if (checkboxMatch && hrefStart.character <= checkboxMatch[0].length) {\n                    continue;\n                }\n                hrefEnd = document.positionAt(offset + reference.length);\n            }\n            else {\n                continue;\n            }\n            const linkEnd = (0, position_1.translatePosition)(linkStart, { characterDelta: match[0].length - match[1].length });\n            const hrefRange = { start: hrefStart, end: hrefEnd };\n            yield {\n                kind: MdLinkKind.Link,\n                source: {\n                    hrefText: reference,\n                    pathText: reference,\n                    resource: (0, textDocument_1.getDocUri)(document),\n                    range: { start: linkStart, end: linkEnd },\n                    targetRange: hrefRange,\n                    hrefRange: hrefRange,\n                    fragmentRange: undefined,\n                },\n                href: {\n                    kind: HrefKind.Reference,\n                    ref: reference,\n                }\n            };\n        }\n    }\n    *#getLinkDefinitions(document, noLinkRanges) {\n        const text = document.getText();\n        const docUri = (0, textDocument_1.getDocUri)(document);\n        for (const match of text.matchAll(definitionPattern)) {\n            const offset = (match.index ?? 0);\n            const linkStart = document.positionAt(offset);\n            if (noLinkRanges.contains(linkStart)) {\n                continue;\n            }\n            const pre = match[1];\n            const reference = match[2];\n            const rawLinkText = match[3].trim();\n            const isAngleBracketLink = angleBracketLinkRe.test(rawLinkText);\n            const linkText = stripAngleBrackets(rawLinkText);\n            const target = createHref(docUri, linkText, this.#workspace);\n            if (!target) {\n                continue;\n            }\n            const hrefStart = (0, position_1.translatePosition)(linkStart, { characterDelta: pre.length + (isAngleBracketLink ? 1 : 0) });\n            const hrefEnd = (0, position_1.translatePosition)(hrefStart, { characterDelta: linkText.length });\n            const hrefRange = { start: hrefStart, end: hrefEnd };\n            const refStart = (0, position_1.translatePosition)(linkStart, { characterDelta: 1 });\n            const refRange = { start: refStart, end: (0, position_1.translatePosition)(refStart, { characterDelta: reference.length }) };\n            const line = (0, textDocument_1.getLine)(document, linkStart.line);\n            const linkEnd = (0, position_1.translatePosition)(linkStart, { characterDelta: line.length });\n            yield {\n                kind: MdLinkKind.Definition,\n                source: {\n                    hrefText: linkText,\n                    resource: docUri,\n                    range: { start: linkStart, end: linkEnd },\n                    targetRange: hrefRange,\n                    hrefRange,\n                    ...getLinkSourceFragmentInfo(document, rawLinkText, hrefStart, hrefEnd),\n                },\n                ref: { text: reference, range: refRange },\n                href: target,\n            };\n        }\n    }\n}\nexports.MdLinkComputer = MdLinkComputer;\nclass ReferenceLinkMap {\n    #map = new Map();\n    set(ref, link) {\n        this.#map.set(this.#normalizeRefName(ref), link);\n    }\n    lookup(ref) {\n        return this.#map.get(this.#normalizeRefName(ref));\n    }\n    has(ref) {\n        return this.#map.has(this.#normalizeRefName(ref));\n    }\n    [Symbol.iterator]() {\n        return this.#map.values();\n    }\n    /**\n     * Normalizes a link reference. Link references are case-insensitive, so this lowercases the reference too so you can\n     * correctly compare two normalized references.\n     */\n    #normalizeRefName(ref) {\n        return ref.normalize().trim().toLowerCase();\n    }\n}\nexports.ReferenceLinkMap = ReferenceLinkMap;\nclass LinkDefinitionSet {\n    #map = new ReferenceLinkMap();\n    constructor(links) {\n        for (const link of links) {\n            if (link.kind === MdLinkKind.Definition) {\n                if (!this.#map.has(link.ref.text)) {\n                    this.#map.set(link.ref.text, link);\n                }\n            }\n        }\n    }\n    [Symbol.iterator]() {\n        return this.#map[Symbol.iterator]();\n    }\n    lookup(ref) {\n        return this.#map.lookup(ref);\n    }\n}\nexports.LinkDefinitionSet = LinkDefinitionSet;\n/**\n * Stateful object which provides links for markdown files the workspace.\n */\nclass MdLinkProvider extends dispose_1.Disposable {\n    #linkCache;\n    #linkComputer;\n    #config;\n    #workspace;\n    #tocProvider;\n    constructor(config, tokenizer, workspace, tocProvider, logger) {\n        super();\n        this.#config = config;\n        this.#workspace = workspace;\n        this.#tocProvider = tocProvider;\n        this.#linkComputer = new MdLinkComputer(tokenizer, this.#workspace);\n        this.#linkCache = this._register(new workspaceCache_1.MdDocumentInfoCache(this.#workspace, async (doc, token) => {\n            logger.log(logging_1.LogLevel.Debug, 'LinkProvider', `compute - ${doc.uri}`);\n            const links = await this.#linkComputer.getAllLinks(doc, token);\n            return {\n                links,\n                definitions: new LinkDefinitionSet(links),\n            };\n        }));\n    }\n    getLinks(document) {\n        return this.#linkCache.getForDocument(document);\n    }\n    async provideDocumentLinks(document, token) {\n        const { links, definitions } = await this.getLinks(document);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        return (0, arrays_1.coalesce)(links.map(data => this.#toValidDocumentLink(data, definitions)));\n    }\n    async resolveDocumentLink(link, token) {\n        const href = this.#reviveLinkHrefData(link);\n        if (!href) {\n            return undefined;\n        }\n        const target = await this.#resolveInternalLinkTarget(href.path, href.fragment, token);\n        switch (target.kind) {\n            case 'folder':\n                link.target = this.#createCommandUri('revealInExplorer', href.path);\n                break;\n            case 'external':\n                link.target = target.uri.toString(true);\n                break;\n            case 'file':\n                if (target.position) {\n                    link.target = this.#createOpenAtPosCommand(target.uri, target.position);\n                }\n                else {\n                    link.target = target.uri.toString(true);\n                }\n                break;\n        }\n        return link;\n    }\n    async resolveLinkTarget(linkText, sourceDoc, token) {\n        const href = createHref(sourceDoc, linkText, this.#workspace);\n        if (href?.kind !== HrefKind.Internal) {\n            return undefined;\n        }\n        const resolved = resolveInternalDocumentLink(sourceDoc, linkText, this.#workspace);\n        if (!resolved) {\n            return undefined;\n        }\n        return this.#resolveInternalLinkTarget(resolved.resource, resolved.linkFragment, token);\n    }\n    async #resolveInternalLinkTarget(linkPath, linkFragment, token) {\n        let target = linkPath;\n        // If there's a containing document, don't bother with trying to resolve the\n        // link to a workspace file as one will not exist\n        const containingContext = this.#workspace.getContainingDocument?.(target);\n        if (!containingContext) {\n            const stat = await this.#workspace.stat(target);\n            if (stat?.isDirectory) {\n                return { kind: 'folder', uri: target };\n            }\n            if (token.isCancellationRequested) {\n                return { kind: 'folder', uri: target };\n            }\n            if (!stat) {\n                // We don't think the file exists. If it doesn't already have an extension, try tacking on a `.md` and using that instead\n                let found = false;\n                const dotMdResource = (0, workspace_1.tryAppendMarkdownFileExtension)(this.#config, target);\n                if (dotMdResource) {\n                    if (await this.#workspace.stat(dotMdResource)) {\n                        target = dotMdResource;\n                        found = true;\n                    }\n                }\n                if (!found) {\n                    return { kind: 'file', uri: target };\n                }\n            }\n        }\n        if (!linkFragment) {\n            return { kind: 'file', uri: target };\n        }\n        // Try navigating with fragment that sets line number\n        const locationLinkPosition = parseLocationInfoFromFragment(linkFragment);\n        if (locationLinkPosition) {\n            return { kind: 'file', uri: target, position: locationLinkPosition };\n        }\n        // Try navigating to header in file\n        const doc = await this.#workspace.openMarkdownDocument(target);\n        if (token.isCancellationRequested) {\n            return { kind: 'file', uri: target };\n        }\n        if (doc) {\n            const toc = await this.#tocProvider.getForContainingDoc(doc, token);\n            const entry = toc.lookup(linkFragment);\n            if (entry) {\n                return { kind: 'file', uri: vscode_uri_1.URI.parse(entry.headerLocation.uri), position: entry.headerLocation.range.start, fragment: linkFragment };\n            }\n        }\n        return { kind: 'file', uri: target };\n    }\n    #reviveLinkHrefData(link) {\n        if (!link.data) {\n            return undefined;\n        }\n        const mdLink = link.data;\n        if (mdLink.href.kind !== HrefKind.Internal) {\n            return undefined;\n        }\n        return { path: vscode_uri_1.URI.from(mdLink.href.path), fragment: mdLink.href.fragment };\n    }\n    #toValidDocumentLink(link, definitionSet) {\n        switch (link.href.kind) {\n            case HrefKind.External: {\n                return {\n                    range: link.source.hrefRange,\n                    target: link.href.uri.toString(true),\n                };\n            }\n            case HrefKind.Internal: {\n                return {\n                    range: link.source.hrefRange,\n                    target: undefined,\n                    tooltip: l10n.t('Follow link'),\n                    data: link,\n                };\n            }\n            case HrefKind.Reference: {\n                // We only render reference links in the editor if they are actually defined.\n                // This matches how reference links are rendered by markdown-it.\n                const def = definitionSet.lookup(link.href.ref);\n                if (!def) {\n                    return undefined;\n                }\n                const target = this.#createOpenAtPosCommand(link.source.resource, def.source.hrefRange.start);\n                return {\n                    range: link.source.hrefRange,\n                    tooltip: l10n.t('Go to link definition'),\n                    target: target,\n                    data: link\n                };\n            }\n        }\n    }\n    #createCommandUri(command, ...args) {\n        return `command:${command}?${encodeURIComponent(JSON.stringify(args))}`;\n    }\n    #createOpenAtPosCommand(resource, pos) {\n        // If the resource itself already has a fragment, we need to handle opening specially \n        // instead of using `file://path.md#L123` style uris\n        if (resource.fragment) {\n            // Match the args of `vscode.open`\n            return this.#createCommandUri('vscodeMarkdownLanguageservice.open', resource, {\n                selection: (0, range_1.makeRange)(pos, pos),\n            });\n        }\n        return resource.with({\n            fragment: `L${pos.line + 1},${pos.character + 1}`\n        }).toString(true);\n    }\n}\nexports.MdLinkProvider = MdLinkProvider;\n/**\n * Extract position info from link fragments that look like `#L5,3`\n */\nfunction parseLocationInfoFromFragment(fragment) {\n    const match = fragment.match(/^L(\\d+)(?:,(\\d+))?$/i);\n    if (!match) {\n        return undefined;\n    }\n    const line = +match[1] - 1;\n    if (isNaN(line)) {\n        return undefined;\n    }\n    const column = +match[2] - 1;\n    return { line, character: isNaN(column) ? 0 : column };\n}\nexports.parseLocationInfoFromFragment = parseLocationInfoFromFragment;\nfunction createWorkspaceLinkCache(parser, workspace) {\n    const linkComputer = new MdLinkComputer(parser, workspace);\n    return new workspaceCache_1.MdWorkspaceInfoCache(workspace, (doc, token) => linkComputer.getAllLinks(doc, token));\n}\nexports.createWorkspaceLinkCache = createWorkspaceLinkCache;\nfunction looksLikeLinkToResource(configuration, href, targetResource) {\n    if (href.path.fsPath === targetResource.fsPath) {\n        return true;\n    }\n    return configuration.markdownFileExtensions.some(ext => href.path.with({ path: href.path.path + '.' + ext }).fsPath === targetResource.fsPath);\n}\nexports.looksLikeLinkToResource = looksLikeLinkToResource;\n//# sourceMappingURL=documentLinks.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdDocumentSymbolProvider = void 0;\nconst lsp = require(\"vscode-languageserver-types\");\nconst logging_1 = require(\"../logging\");\nconst position_1 = require(\"../types/position\");\nconst range_1 = require(\"../types/range\");\nconst documentLinks_1 = require(\"./documentLinks\");\nclass MdDocumentSymbolProvider {\n    #tocProvider;\n    #linkProvider;\n    #logger;\n    constructor(tocProvider, linkProvider, logger) {\n        this.#tocProvider = tocProvider;\n        this.#linkProvider = linkProvider;\n        this.#logger = logger;\n    }\n    async provideDocumentSymbols(document, options, token) {\n        this.#logger.log(logging_1.LogLevel.Trace, 'DocumentSymbolProvider', `provideDocumentSymbols  ${document.uri} ${document.version}`);\n        const linkSymbols = await (options.includeLinkDefinitions ? this.#provideLinkDefinitionSymbols(document, token) : []);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const toc = await this.#tocProvider.getForDocument(document);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        return this.#toSymbolTree(document, linkSymbols, toc);\n    }\n    #toSymbolTree(document, linkSymbols, toc) {\n        const root = {\n            level: -Infinity,\n            children: [],\n            parent: undefined,\n            range: (0, range_1.makeRange)(0, 0, document.lineCount + 1, 0),\n        };\n        const additionalSymbols = [...linkSymbols];\n        this.#buildTocSymbolTree(root, toc.entries, additionalSymbols);\n        // Put remaining link definitions into top level document instead of last header\n        root.children.push(...additionalSymbols);\n        return root.children;\n    }\n    async #provideLinkDefinitionSymbols(document, token) {\n        const { links } = await this.#linkProvider.getLinks(document);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        return links\n            .filter(link => link.kind === documentLinks_1.MdLinkKind.Definition)\n            .map((link) => this.#definitionToDocumentSymbol(link));\n    }\n    #definitionToDocumentSymbol(def) {\n        return {\n            kind: lsp.SymbolKind.Constant,\n            name: `[${def.ref.text}]`,\n            selectionRange: def.ref.range,\n            range: def.source.range,\n        };\n    }\n    #buildTocSymbolTree(parent, entries, additionalSymbols) {\n        if (entries.length) {\n            while (additionalSymbols.length && (0, position_1.isBefore)(additionalSymbols[0].range.end, entries[0].sectionLocation.range.start)) {\n                parent.children.push(additionalSymbols.shift());\n            }\n        }\n        if (!entries.length) {\n            return;\n        }\n        const entry = entries[0];\n        const symbol = this.#tocToDocumentSymbol(entry);\n        symbol.children = [];\n        while (entry.level <= parent.level) {\n            parent = parent.parent;\n        }\n        parent.children.push(symbol);\n        this.#buildTocSymbolTree({ level: entry.level, children: symbol.children, parent, range: entry.sectionLocation.range }, entries.slice(1), additionalSymbols);\n    }\n    #tocToDocumentSymbol(entry) {\n        return {\n            name: this.#getTocSymbolName(entry),\n            kind: lsp.SymbolKind.String,\n            range: entry.sectionLocation.range,\n            selectionRange: entry.sectionLocation.range\n        };\n    }\n    #getTocSymbolName(entry) {\n        return '#'.repeat(entry.level) + ' ' + entry.text;\n    }\n}\nexports.MdDocumentSymbolProvider = MdDocumentSymbolProvider;\n//# sourceMappingURL=documentSymbols.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdFileRenameProvider = void 0;\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nconst path = require(\"path\");\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst config_1 = require(\"../config\");\nconst textDocument_1 = require(\"../types/textDocument\");\nconst dispose_1 = require(\"../util/dispose\");\nconst editBuilder_1 = require(\"../util/editBuilder\");\nconst file_1 = require(\"../util/file\");\nconst path_1 = require(\"../util/path\");\nconst documentLinks_1 = require(\"./documentLinks\");\nconst references_1 = require(\"./references\");\nconst rename_1 = require(\"./rename\");\nclass MdFileRenameProvider extends dispose_1.Disposable {\n    #config;\n    #workspace;\n    #linkCache;\n    #referencesProvider;\n    constructor(config, workspace, linkCache, referencesProvider) {\n        super();\n        this.#config = config;\n        this.#workspace = workspace;\n        this.#linkCache = linkCache;\n        this.#referencesProvider = referencesProvider;\n    }\n    async getRenameFilesInWorkspaceEdit(edits, token) {\n        const builder = new editBuilder_1.WorkspaceEditBuilder();\n        const participatingRenames = [];\n        for (const edit of edits) {\n            const stat = await this.#workspace.stat(edit.newUri);\n            if (token.isCancellationRequested) {\n                return undefined;\n            }\n            if (await (stat?.isDirectory ? this.#addDirectoryRenameEdits(edit, builder, token) : this.#addSingleFileRenameEdits(edit, edits, builder, token))) {\n                participatingRenames.push(edit);\n            }\n            if (token.isCancellationRequested) {\n                return undefined;\n            }\n        }\n        return { participatingRenames, edit: builder.renameFragment() };\n    }\n    async #addSingleFileRenameEdits(edit, allEdits, builder, token) {\n        let didParticipate = false;\n        // Update all references to the file\n        if (await this.#addEditsForReferencesToFile(edit, builder, token)) {\n            didParticipate = true;\n        }\n        if (token.isCancellationRequested) {\n            return false;\n        }\n        // If the file moved was markdown, we also need to update links in the file itself\n        if (await this.#tryAddEditsInSelf(edit, allEdits, builder)) {\n            didParticipate = true;\n        }\n        return didParticipate;\n    }\n    async #addDirectoryRenameEdits(edit, builder, token) {\n        // First update every link that points to something in the moved dir\n        const allLinksInWorkspace = await this.#linkCache.entries();\n        if (token.isCancellationRequested) {\n            return false;\n        }\n        let didParticipate = false;\n        for (const [docUri, links] of allLinksInWorkspace) {\n            for (const link of links) {\n                if (link.href.kind !== documentLinks_1.HrefKind.Internal) {\n                    continue;\n                }\n                // Update links to the moved dir\n                if ((0, path_1.isParentDir)(edit.oldUri, link.href.path)) {\n                    const relative = path.posix.relative(edit.oldUri.path, link.href.path.path);\n                    const newUri = edit.newUri.with({\n                        path: path.posix.join(edit.newUri.path, relative)\n                    });\n                    if (this.#addLinkRenameEdit(docUri, link, newUri, builder)) {\n                        didParticipate = true;\n                        continue;\n                    }\n                }\n                // If the link was within a file in the moved dir but traversed out of it, we also need to update the path\n                if (link.source.pathText.startsWith('..') && (0, path_1.isParentDir)(edit.newUri, docUri)) {\n                    // Resolve the link relative to the old file path\n                    const oldDocUri = docUri.with({\n                        path: vscode_uri_1.Utils.joinPath(edit.oldUri, path.posix.relative(edit.newUri.path, docUri.path)).path\n                    });\n                    const oldLink = (0, documentLinks_1.resolveInternalDocumentLink)(oldDocUri, link.source.hrefText, this.#workspace);\n                    if (oldLink) {\n                        let newPathText;\n                        if ((0, path_1.isParentDir)(edit.oldUri, oldLink.resource)) {\n                            // The link still points within the directory being moved.\n                            // This means we just need to normalize the path it in case it was referencing any old names.\n                            const rootDir = vscode_uri_1.Utils.dirname(oldDocUri);\n                            newPathText = './' + path.posix.relative(rootDir.path, oldLink.resource.path);\n                        }\n                        else {\n                            const rootDir = vscode_uri_1.Utils.dirname(docUri);\n                            newPathText = path.posix.relative(rootDir.path, oldLink.resource.path);\n                        }\n                        didParticipate = true;\n                        builder.replace(docUri, (0, rename_1.getFilePathRange)(link), encodeURI(newPathText));\n                    }\n                }\n            }\n        }\n        return didParticipate;\n    }\n    /**\n     * Try to add edits for when a markdown file has been renamed.\n     * In this case we also need to update links within the file.\n     */\n    async #tryAddEditsInSelf(edit, allEdits, builder) {\n        if (!(0, file_1.looksLikeMarkdownPath)(this.#config, edit.newUri)) {\n            return false;\n        }\n        if ((0, config_1.isExcludedPath)(this.#config, edit.newUri)) {\n            return false;\n        }\n        const doc = await this.#workspace.openMarkdownDocument(edit.newUri);\n        if (!doc) {\n            return false;\n        }\n        const links = (await this.#linkCache.getForDocs([doc]))[0];\n        let didParticipate = false;\n        for (const link of links) {\n            if (await this.#addEditsForLinksInSelf(doc, link, edit, allEdits, builder)) {\n                didParticipate = true;\n            }\n        }\n        return didParticipate;\n    }\n    async #addEditsForLinksInSelf(doc, link, edit, allEdits, builder) {\n        if (link.href.kind !== documentLinks_1.HrefKind.Internal) {\n            return false;\n        }\n        if (link.source.hrefText.startsWith('#')) {\n            // No rewrite needed as we are referencing the current doc implicitly\n            return false;\n        }\n        if (link.source.hrefText.startsWith('/')) {\n            // We likely don't need to update anything since an absolute path is used\n            return false;\n        }\n        // Resolve the link relative to the old file path\n        let oldLink = (0, documentLinks_1.resolveInternalDocumentLink)(edit.oldUri, link.source.hrefText, this.#workspace);\n        if (!oldLink) {\n            return false;\n        }\n        // See if the old link was effected by one of the renames\n        for (const edit of allEdits) {\n            if (edit.oldUri.toString() === oldLink.resource.toString() || (0, path_1.isParentDir)(edit.oldUri, oldLink.resource)) {\n                oldLink = { resource: vscode_uri_1.Utils.joinPath(edit.newUri, path.posix.relative(edit.oldUri.path, oldLink.resource.path)), linkFragment: oldLink.linkFragment };\n                break;\n            }\n        }\n        return this.#addLinkRenameEdit((0, textDocument_1.getDocUri)(doc), link, oldLink.resource, builder);\n    }\n    /**\n     * Update links across the workspace for the new file name\n     */\n    async #addEditsForReferencesToFile(edit, builder, token) {\n        if ((0, config_1.isExcludedPath)(this.#config, edit.newUri)) {\n            return false;\n        }\n        const refs = await this.#referencesProvider.getReferencesToFileInWorkspace(edit.oldUri, token);\n        if (token.isCancellationRequested) {\n            return false;\n        }\n        let didParticipate = false;\n        for (const ref of refs) {\n            if (ref.kind === references_1.MdReferenceKind.Link) {\n                if (this.#addLinkRenameEdit(vscode_uri_1.URI.parse(ref.location.uri), ref.link, edit.newUri, builder)) {\n                    didParticipate = true;\n                }\n            }\n        }\n        return didParticipate;\n    }\n    #addLinkRenameEdit(doc, link, newUri, builder) {\n        if (link.href.kind !== documentLinks_1.HrefKind.Internal) {\n            return false;\n        }\n        let newFilePath = newUri;\n        // If the original markdown link did not use a file extension, remove ours too\n        if (!vscode_uri_1.Utils.extname(link.href.path)) {\n            const editExt = vscode_uri_1.Utils.extname(newUri);\n            if (this.#config.markdownFileExtensions.includes(editExt.replace('.', ''))) {\n                newFilePath = newUri.with({\n                    path: newUri.path.slice(0, newUri.path.length - editExt.length)\n                });\n            }\n        }\n        const newLinkText = (0, rename_1.getLinkRenameText)(this.#workspace, link.source, newFilePath, link.source.pathText.startsWith('.'));\n        if (typeof newLinkText === 'string') {\n            builder.replace(doc, (0, rename_1.getFilePathRange)(link), encodeURI(newLinkText));\n            return true;\n        }\n        return false;\n    }\n}\nexports.MdFileRenameProvider = MdFileRenameProvider;\n//# sourceMappingURL=fileRename.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdFoldingProvider = void 0;\nconst lsp = require(\"vscode-languageserver-types\");\nconst logging_1 = require(\"../logging\");\nconst textDocument_1 = require(\"../types/textDocument\");\nconst string_1 = require(\"../util/string\");\nconst rangeLimit = 5000;\nclass MdFoldingProvider {\n    #parser;\n    #tocProvider;\n    #logger;\n    constructor(parser, tocProvider, logger) {\n        this.#parser = parser;\n        this.#tocProvider = tocProvider;\n        this.#logger = logger;\n    }\n    async provideFoldingRanges(document, token) {\n        this.#logger.log(logging_1.LogLevel.Debug, 'MdFoldingProvider', `provideFoldingRanges  ${document.uri} ${document.version}`);\n        const foldables = await Promise.all([\n            this.#getRegions(document, token),\n            this.#getHeaderFoldingRanges(document, token),\n            this.#getBlockFoldingRanges(document, token)\n        ]);\n        return foldables.flat().slice(0, rangeLimit);\n    }\n    async #getRegions(document, token) {\n        const tokens = await this.#parser.tokenize(document);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const regionMarkers = tokens.filter(isRegionMarker)\n            .map(token => ({ line: token.map[0], isStart: isStartRegion(token.content) }));\n        const nestingStack = [];\n        return regionMarkers\n            .map((marker) => {\n            if (marker.isStart) {\n                nestingStack.push(marker);\n            }\n            else if (nestingStack.length && nestingStack[nestingStack.length - 1].isStart) {\n                return { startLine: nestingStack.pop().line, endLine: marker.line, kind: lsp.FoldingRangeKind.Region };\n            }\n            else {\n                // noop: invalid nesting (i.e. [end, start] or [start, end, end])\n            }\n            return null;\n        })\n            .filter((region) => !!region);\n    }\n    async #getHeaderFoldingRanges(document, token) {\n        const toc = await this.#tocProvider.getForDocument(document);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        return toc.entries.map((entry) => {\n            let endLine = entry.sectionLocation.range.end.line;\n            if ((0, string_1.isEmptyOrWhitespace)((0, textDocument_1.getLine)(document, endLine)) && endLine >= entry.line + 1) {\n                endLine = endLine - 1;\n            }\n            return { startLine: entry.line, endLine };\n        });\n    }\n    async #getBlockFoldingRanges(document, token) {\n        const tokens = await this.#parser.tokenize(document);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const multiLineListItems = tokens.filter(isFoldableToken);\n        return multiLineListItems.map(listItem => {\n            const start = listItem.map[0];\n            let end = listItem.map[1] - 1;\n            if ((0, string_1.isEmptyOrWhitespace)((0, textDocument_1.getLine)(document, end)) && end >= start + 1) {\n                end = end - 1;\n            }\n            return { startLine: start, endLine: end, kind: this.#getFoldingRangeKind(listItem) };\n        });\n    }\n    #getFoldingRangeKind(listItem) {\n        return listItem.type === 'html_block' && listItem.content.startsWith('<!--')\n            ? lsp.FoldingRangeKind.Comment\n            : undefined;\n    }\n}\nexports.MdFoldingProvider = MdFoldingProvider;\nconst isStartRegion = (t) => /^\\s*<!--\\s*#?region\\b.*-->/.test(t);\nconst isEndRegion = (t) => /^\\s*<!--\\s*#?endregion\\b.*-->/.test(t);\nconst isRegionMarker = (token) => !!token.map && token.type === 'html_block' && (isStartRegion(token.content) || isEndRegion(token.content));\nconst isFoldableToken = (token) => {\n    if (!token.map) {\n        return false;\n    }\n    switch (token.type) {\n        case 'fence':\n        case 'list_item_open':\n            return token.map[1] > token.map[0];\n        case 'html_block':\n            if (isRegionMarker(token)) {\n                return false;\n            }\n            return token.map[1] > token.map[0] + 1;\n        default:\n            return false;\n    }\n};\n//# sourceMappingURL=folding.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getExistingDefinitionBlock = exports.MdOrganizeLinkDefinitionProvider = void 0;\nconst range_1 = require(\"../types/range\");\nconst textDocument_1 = require(\"../types/textDocument\");\nconst string_1 = require(\"../util/string\");\nconst documentLinks_1 = require(\"./documentLinks\");\nclass MdOrganizeLinkDefinitionProvider {\n    #linkProvider;\n    constructor(linkProvider) {\n        this.#linkProvider = linkProvider;\n    }\n    async getOrganizeLinkDefinitionEdits(doc, options, token) {\n        const links = await this.#linkProvider.getLinks(doc);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const definitions = links.links.filter(link => link.kind === documentLinks_1.MdLinkKind.Definition);\n        if (!definitions.length) {\n            return [];\n        }\n        const existingDefBlockRange = getExistingDefinitionBlock(doc, definitions);\n        const edits = [];\n        // First replace all inline definitions that are not the definition block\n        for (const group of this.#getDefinitionBlockGroups(doc, definitions)) {\n            if (!existingDefBlockRange || group.startLine < existingDefBlockRange.startLine) {\n                // Don't replace trailing newline of last definition in group\n                edits.push({\n                    newText: '',\n                    range: (0, range_1.makeRange)(group.startLine, 0, group.endLine, (0, textDocument_1.getLine)(doc, group.endLine).length),\n                });\n            }\n        }\n        // Then replace the actual block\n        const sortedDefs = [...definitions];\n        sortedDefs.sort((a, b) => a.ref.text.localeCompare(b.ref.text));\n        const newDefs = sortedDefs\n            .filter(def => {\n            if (!options.removeUnused) {\n                return true;\n            }\n            return links.links.some(link => {\n                return link.kind === documentLinks_1.MdLinkKind.Link && link.href.kind === documentLinks_1.HrefKind.Reference && link.href.ref === def.ref.text;\n            });\n        });\n        const defBlock = newDefs\n            .map((def => `[${def.ref.text}]: ${def.source.hrefText}`))\n            .join('\\n');\n        if (existingDefBlockRange) {\n            // We still may need to insert a newline\n            const hasLeadingWhiteSpace = existingDefBlockRange.startLine <= 0\n                || (0, string_1.isEmptyOrWhitespace)((0, textDocument_1.getLine)(doc, existingDefBlockRange.startLine - 1));\n            // See if we already have the expected definitions in order\n            if (!edits.length && newDefs.length === definitions.length && definitions.every((def, i) => def.ref === newDefs[i].ref)) {\n                return [];\n            }\n            edits.push({\n                newText: (hasLeadingWhiteSpace ? '' : '\\n') + defBlock,\n                range: (0, range_1.makeRange)(existingDefBlockRange.startLine, 0, existingDefBlockRange.endLine, (0, textDocument_1.getLine)(doc, existingDefBlockRange.endLine).length)\n            });\n        }\n        else {\n            const line = this.#getLastNonWhitespaceLine(doc, definitions);\n            edits.push({\n                newText: (line === doc.lineCount - 1 ? '\\n\\n' : '\\n') + defBlock,\n                range: (0, range_1.makeRange)(line + 1, 0, doc.lineCount, 0),\n            });\n        }\n        return edits;\n    }\n    *#getDefinitionBlockGroups(doc, definitions) {\n        if (!definitions.length) {\n            return;\n        }\n        let i = 0;\n        const startDef = definitions[i];\n        let endDef = startDef;\n        for (; i < definitions.length - 1; ++i) {\n            const nextDef = definitions[i + 1];\n            if (nextDef.source.range.start.line === endDef.source.range.start.line + 1) {\n                endDef = nextDef;\n            }\n            else {\n                break;\n            }\n        }\n        yield { startLine: startDef.source.range.start.line, endLine: endDef.source.range.start.line };\n        yield* this.#getDefinitionBlockGroups(doc, definitions.slice(i + 1));\n    }\n    #getLastNonWhitespaceLine(doc, orderedDefinitions) {\n        const lastDef = orderedDefinitions[orderedDefinitions.length - 1];\n        const textAfter = doc.getText((0, range_1.makeRange)(lastDef.source.range.end.line + 1, 0, Infinity, 0));\n        const lines = textAfter.split(/\\r\\n|\\n/g);\n        for (let i = lines.length - 1; i >= 0; --i) {\n            if (!(0, string_1.isEmptyOrWhitespace)(lines[i])) {\n                return lastDef.source.range.start.line + 1 + i;\n            }\n        }\n        return lastDef.source.range.start.line;\n    }\n}\nexports.MdOrganizeLinkDefinitionProvider = MdOrganizeLinkDefinitionProvider;\nfunction getExistingDefinitionBlock(doc, orderedDefinitions) {\n    if (!orderedDefinitions.length) {\n        return undefined;\n    }\n    const lastDef = orderedDefinitions[orderedDefinitions.length - 1];\n    const textAfter = doc.getText((0, range_1.makeRange)(lastDef.source.range.end.line + 1, 0, Infinity, 0));\n    if ((0, string_1.isEmptyOrWhitespace)(textAfter)) {\n        let prevDef = lastDef;\n        for (let i = orderedDefinitions.length - 1; i >= 0; --i) {\n            const def = orderedDefinitions[i];\n            if (def.source.range.start.line < prevDef.source.range.start.line - 1) {\n                break;\n            }\n            prevDef = def;\n        }\n        return {\n            startLine: prevDef.source.range.start.line,\n            endLine: lastDef.source.range.start.line\n        };\n    }\n    return undefined;\n}\nexports.getExistingDefinitionBlock = getExistingDefinitionBlock;\n//# sourceMappingURL=organizeLinkDefs.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdPathCompletionProvider = void 0;\nconst path_1 = require(\"path\");\nconst lsp = require(\"vscode-languageserver-types\");\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst config_1 = require(\"../config\");\nconst tableOfContents_1 = require(\"../tableOfContents\");\nconst position_1 = require(\"../types/position\");\nconst range_1 = require(\"../types/range\");\nconst textDocument_1 = require(\"../types/textDocument\");\nconst schemes_1 = require(\"../util/schemes\");\nconst string_1 = require(\"../util/string\");\nconst workspace_1 = require(\"../workspace\");\nvar CompletionContextKind;\n(function (CompletionContextKind) {\n    /** `[...](|)` */\n    CompletionContextKind[CompletionContextKind[\"Link\"] = 0] = \"Link\";\n    /** `[...][|]` */\n    CompletionContextKind[CompletionContextKind[\"ReferenceLink\"] = 1] = \"ReferenceLink\";\n    /** `[]: |` */\n    CompletionContextKind[CompletionContextKind[\"LinkDefinition\"] = 2] = \"LinkDefinition\";\n})(CompletionContextKind || (CompletionContextKind = {}));\nfunction tryDecodeUriComponent(str) {\n    try {\n        return decodeURIComponent(str);\n    }\n    catch {\n        return str;\n    }\n}\n/**\n * Adds path completions in markdown files.\n */\nclass MdPathCompletionProvider {\n    #configuration;\n    #workspace;\n    #parser;\n    #linkProvider;\n    constructor(configuration, workspace, parser, linkProvider) {\n        this.#configuration = configuration;\n        this.#workspace = workspace;\n        this.#parser = parser;\n        this.#linkProvider = linkProvider;\n    }\n    async provideCompletionItems(document, position, _context, token) {\n        const context = this.#getPathCompletionContext(document, position);\n        if (!context) {\n            return [];\n        }\n        const items = [];\n        for await (const item of this.#provideCompletionItems(document, position, context, token)) {\n            items.push(item);\n        }\n        return items;\n    }\n    async *#provideCompletionItems(document, position, context, token) {\n        switch (context.kind) {\n            case CompletionContextKind.ReferenceLink: {\n                yield* this.#provideReferenceSuggestions(document, position, context, token);\n                return;\n            }\n            case CompletionContextKind.LinkDefinition:\n            case CompletionContextKind.Link: {\n                const isAnchorInCurrentDoc = context.anchorInfo && context.anchorInfo.beforeAnchor.length === 0;\n                // Add anchor #links in current doc\n                if (context.linkPrefix.length === 0 || isAnchorInCurrentDoc) {\n                    const insertRange = (0, range_1.makeRange)(context.linkTextStartPosition, position);\n                    yield* this.#provideHeaderSuggestions(document, position, context, insertRange, token);\n                }\n                if (token.isCancellationRequested) {\n                    return;\n                }\n                if (!isAnchorInCurrentDoc) {\n                    if (context.anchorInfo) { // Anchor to a different document\n                        const rawUri = this.#resolveReference(document, context.anchorInfo.beforeAnchor);\n                        if (rawUri) {\n                            const otherDoc = await (0, workspace_1.openLinkToMarkdownFile)(this.#configuration, this.#workspace, rawUri);\n                            if (token.isCancellationRequested) {\n                                return;\n                            }\n                            if (otherDoc) {\n                                const anchorStartPosition = (0, position_1.translatePosition)(position, { characterDelta: -(context.anchorInfo.anchorPrefix.length + 1) });\n                                const range = (0, range_1.makeRange)(anchorStartPosition, position);\n                                yield* this.#provideHeaderSuggestions(otherDoc, position, context, range, token);\n                            }\n                        }\n                    }\n                    else { // Normal path suggestions\n                        yield* this.#providePathSuggestions(document, position, context, token);\n                    }\n                }\n                return;\n            }\n        }\n    }\n    /// [...](...|\n    #linkStartPattern = new RegExp(\n    // text\n    (0, string_1.r) `\\[` +\n        /**/ (0, string_1.r) `(?:` +\n        /*****/ (0, string_1.r) `[^\\[\\]\\\\]|` + // Non-bracket chars, or...\n        /*****/ (0, string_1.r) `\\\\.|` + // Escaped char, or...\n        /*****/ (0, string_1.r) `\\[[^\\[\\]]*\\]` + // Matched bracket pair\n        /**/ (0, string_1.r) `)*` +\n        (0, string_1.r) `\\]` +\n        // Destination start\n        (0, string_1.r) `\\(\\s*(<[^\\>\\)]*|[^\\s\\(\\)]*)` +\n        (0, string_1.r) `$` // Must match cursor position\n    );\n    /// [...][...|\n    #referenceLinkStartPattern = /\\[([^\\]]*?)\\]\\[\\s*([^\\s\\(\\)]*)$/;\n    /// [id]: |\n    #definitionPattern = /^\\s*\\[[\\w\\-]+\\]:\\s*([^\\s]*)$/m;\n    #getPathCompletionContext(document, position) {\n        const line = (0, textDocument_1.getLine)(document, position.line);\n        const linePrefixText = line.slice(0, position.character);\n        const lineSuffixText = line.slice(position.character);\n        const linkPrefixMatch = linePrefixText.match(this.#linkStartPattern);\n        if (linkPrefixMatch) {\n            const isAngleBracketLink = linkPrefixMatch[1].startsWith('<');\n            const prefix = linkPrefixMatch[1].slice(isAngleBracketLink ? 1 : 0);\n            if (this.#refLooksLikeUrl(prefix)) {\n                return undefined;\n            }\n            const suffix = lineSuffixText.match(/^[^\\)\\s][^\\)\\s\\>]*/);\n            return {\n                kind: CompletionContextKind.Link,\n                linkPrefix: tryDecodeUriComponent(prefix),\n                linkTextStartPosition: (0, position_1.translatePosition)(position, { characterDelta: -prefix.length }),\n                linkSuffix: suffix ? suffix[0] : '',\n                anchorInfo: this.#getAnchorContext(prefix),\n                skipEncoding: isAngleBracketLink,\n            };\n        }\n        const definitionLinkPrefixMatch = linePrefixText.match(this.#definitionPattern);\n        if (definitionLinkPrefixMatch) {\n            const isAngleBracketLink = definitionLinkPrefixMatch[1].startsWith('<');\n            const prefix = definitionLinkPrefixMatch[1].slice(isAngleBracketLink ? 1 : 0);\n            if (this.#refLooksLikeUrl(prefix)) {\n                return undefined;\n            }\n            const suffix = lineSuffixText.match(/^[^\\s]*/);\n            return {\n                kind: CompletionContextKind.LinkDefinition,\n                linkPrefix: tryDecodeUriComponent(prefix),\n                linkTextStartPosition: (0, position_1.translatePosition)(position, { characterDelta: -prefix.length }),\n                linkSuffix: suffix ? suffix[0] : '',\n                anchorInfo: this.#getAnchorContext(prefix),\n                skipEncoding: isAngleBracketLink,\n            };\n        }\n        const referenceLinkPrefixMatch = linePrefixText.match(this.#referenceLinkStartPattern);\n        if (referenceLinkPrefixMatch) {\n            const prefix = referenceLinkPrefixMatch[2];\n            const suffix = lineSuffixText.match(/^[^\\]\\s]*/);\n            return {\n                kind: CompletionContextKind.ReferenceLink,\n                linkPrefix: prefix,\n                linkTextStartPosition: (0, position_1.translatePosition)(position, { characterDelta: -prefix.length }),\n                linkSuffix: suffix ? suffix[0] : '',\n            };\n        }\n        return undefined;\n    }\n    /**\n     * Check if {@param ref} looks like a 'http:' style url.\n     */\n    #refLooksLikeUrl(prefix) {\n        return /^\\s*[\\w\\d\\-]+:/.test(prefix);\n    }\n    #getAnchorContext(prefix) {\n        const anchorMatch = prefix.match(/^(.*)#([\\w\\d\\-]*)$/);\n        if (!anchorMatch) {\n            return undefined;\n        }\n        return {\n            beforeAnchor: anchorMatch[1],\n            anchorPrefix: anchorMatch[2],\n        };\n    }\n    async *#provideReferenceSuggestions(document, position, context, token) {\n        const insertionRange = (0, range_1.makeRange)(context.linkTextStartPosition, position);\n        const replacementRange = (0, range_1.makeRange)(insertionRange.start, (0, position_1.translatePosition)(position, { characterDelta: context.linkSuffix.length }));\n        const { definitions } = await this.#linkProvider.getLinks(document);\n        if (token.isCancellationRequested) {\n            return;\n        }\n        for (const def of definitions) {\n            yield {\n                kind: lsp.CompletionItemKind.Reference,\n                label: def.ref.text,\n                textEdit: {\n                    newText: def.ref.text,\n                    insert: insertionRange,\n                    replace: replacementRange,\n                }\n            };\n        }\n    }\n    async *#provideHeaderSuggestions(document, position, context, insertionRange, token) {\n        const toc = await tableOfContents_1.TableOfContents.createForContainingDoc(this.#parser, this.#workspace, document, token);\n        if (token.isCancellationRequested) {\n            return;\n        }\n        for (const entry of toc.entries) {\n            const replacementRange = (0, range_1.makeRange)(insertionRange.start, (0, position_1.translatePosition)(position, { characterDelta: context.linkSuffix.length }));\n            const label = '#' + decodeURIComponent(entry.slug.value);\n            yield {\n                kind: lsp.CompletionItemKind.Reference,\n                label,\n                textEdit: {\n                    newText: label,\n                    insert: insertionRange,\n                    replace: replacementRange,\n                },\n            };\n        }\n    }\n    async *#providePathSuggestions(document, position, context, token) {\n        const valueBeforeLastSlash = context.linkPrefix.substring(0, context.linkPrefix.lastIndexOf('/') + 1); // keep the last slash\n        const parentDir = this.#resolveReference(document, valueBeforeLastSlash || '.');\n        if (!parentDir) {\n            return;\n        }\n        const pathSegmentStart = (0, position_1.translatePosition)(position, { characterDelta: valueBeforeLastSlash.length - context.linkPrefix.length });\n        const insertRange = (0, range_1.makeRange)(pathSegmentStart, position);\n        const pathSegmentEnd = (0, position_1.translatePosition)(position, { characterDelta: context.linkSuffix.length });\n        const replacementRange = (0, range_1.makeRange)(pathSegmentStart, pathSegmentEnd);\n        let dirInfo;\n        try {\n            dirInfo = await this.#workspace.readDirectory(parentDir);\n        }\n        catch {\n            return;\n        }\n        if (token.isCancellationRequested) {\n            return;\n        }\n        for (const [name, type] of dirInfo) {\n            const uri = vscode_uri_1.Utils.joinPath(parentDir, name);\n            if ((0, config_1.isExcludedPath)(this.#configuration, uri)) {\n                continue;\n            }\n            const isDir = type.isDirectory;\n            const newText = (context.skipEncoding ? name : encodeURIComponent(name)) + (isDir ? '/' : '');\n            yield {\n                label: isDir ? name + '/' : name,\n                kind: isDir ? lsp.CompletionItemKind.Folder : lsp.CompletionItemKind.File,\n                textEdit: {\n                    newText,\n                    insert: insertRange,\n                    replace: replacementRange,\n                },\n                command: isDir ? { command: 'editor.action.triggerSuggest', title: '' } : undefined,\n            };\n        }\n    }\n    #resolveReference(document, ref) {\n        const docUri = this.#getFileUriOfTextDocument(document);\n        if (ref.startsWith('/')) {\n            const workspaceFolder = (0, workspace_1.getWorkspaceFolder)(this.#workspace, docUri);\n            if (workspaceFolder) {\n                return vscode_uri_1.Utils.joinPath(workspaceFolder, ref);\n            }\n            else {\n                return this.#resolvePath(docUri, ref.slice(1));\n            }\n        }\n        return this.#resolvePath(docUri, ref);\n    }\n    #resolvePath(root, ref) {\n        try {\n            if (root.scheme === schemes_1.Schemes.file) {\n                return vscode_uri_1.URI.file((0, path_1.resolve)((0, path_1.dirname)(root.fsPath), ref));\n            }\n            else {\n                return root.with({\n                    path: (0, path_1.resolve)((0, path_1.dirname)(root.path), ref),\n                });\n            }\n        }\n        catch {\n            return undefined;\n        }\n    }\n    #getFileUriOfTextDocument(document) {\n        return this.#workspace.getContainingDocument?.((0, textDocument_1.getDocUri)(document))?.uri ?? (0, textDocument_1.getDocUri)(document);\n    }\n}\nexports.MdPathCompletionProvider = MdPathCompletionProvider;\n//# sourceMappingURL=pathCompletions.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdReferencesProvider = exports.MdReferenceKind = void 0;\nconst logging_1 = require(\"../logging\");\nconst position_1 = require(\"../types/position\");\nconst range_1 = require(\"../types/range\");\nconst textDocument_1 = require(\"../types/textDocument\");\nconst dispose_1 = require(\"../util/dispose\");\nconst file_1 = require(\"../util/file\");\nconst workspace_1 = require(\"../workspace\");\nconst documentLinks_1 = require(\"./documentLinks\");\nvar MdReferenceKind;\n(function (MdReferenceKind) {\n    MdReferenceKind[MdReferenceKind[\"Link\"] = 1] = \"Link\";\n    MdReferenceKind[MdReferenceKind[\"Header\"] = 2] = \"Header\";\n})(MdReferenceKind = exports.MdReferenceKind || (exports.MdReferenceKind = {}));\n/**\n * Stateful object that computes references for markdown files.\n */\nclass MdReferencesProvider extends dispose_1.Disposable {\n    #configuration;\n    #parser;\n    #workspace;\n    #tocProvider;\n    #linkCache;\n    #logger;\n    constructor(configuration, parser, workspace, tocProvider, linkCache, logger) {\n        super();\n        this.#configuration = configuration;\n        this.#parser = parser;\n        this.#workspace = workspace;\n        this.#tocProvider = tocProvider;\n        this.#linkCache = linkCache;\n        this.#logger = logger;\n    }\n    async provideReferences(document, position, context, token) {\n        const allRefs = await this.getReferencesAtPosition(document, position, token);\n        return allRefs\n            .filter(ref => context.includeDeclaration || !ref.isDefinition)\n            .map(ref => ref.location);\n    }\n    async getReferencesAtPosition(document, position, token) {\n        this.#logger.log(logging_1.LogLevel.Trace, 'ReferencesProvider', `getReferencesAtPosition  ${document.uri} ${document.version}`);\n        const toc = await this.#tocProvider.getForDocument(document);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const header = toc.entries.find(entry => entry.line === position.line);\n        if (header) {\n            return this.#getReferencesToHeader(document, header, token);\n        }\n        else {\n            return this.#getReferencesToLinkAtPosition(document, position, token);\n        }\n    }\n    async getReferencesToFileInWorkspace(resource, token) {\n        this.#logger.log(logging_1.LogLevel.Trace, 'ReferencesProvider', `getAllReferencesToFileInWorkspace  ${resource}`);\n        const allLinksInWorkspace = await this.#getAllLinksInWorkspace();\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        return Array.from(this.#findLinksToFile(resource, allLinksInWorkspace, undefined));\n    }\n    async #getReferencesToHeader(document, header, token) {\n        const links = await this.#getAllLinksInWorkspace();\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const references = [];\n        references.push({\n            kind: MdReferenceKind.Header,\n            isTriggerLocation: true,\n            isDefinition: true,\n            location: header.headerLocation,\n            headerText: header.text,\n            headerTextLocation: header.headerTextLocation\n        });\n        for (const link of links) {\n            if (link.href.kind === documentLinks_1.HrefKind.Internal\n                && (0, documentLinks_1.looksLikeLinkToResource)(this.#configuration, link.href, (0, textDocument_1.getDocUri)(document))\n                && this.#parser.slugifier.fromHeading(link.href.fragment).value === header.slug.value) {\n                references.push({\n                    kind: MdReferenceKind.Link,\n                    isTriggerLocation: false,\n                    isDefinition: false,\n                    link,\n                    location: { uri: link.source.resource.toString(), range: link.source.hrefRange },\n                });\n            }\n        }\n        return references;\n    }\n    async #getReferencesToLinkAtPosition(document, position, token) {\n        const docLinks = (await this.#linkCache.getForDocs([document]))[0];\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        for (const link of docLinks) {\n            if (link.kind === documentLinks_1.MdLinkKind.Definition) {\n                // We could be in either the ref name or the definition\n                if ((0, range_1.rangeContains)(link.ref.range, position)) {\n                    return Array.from(this.#getReferencesToLinkReference(docLinks, link.ref.text, { resource: (0, textDocument_1.getDocUri)(document), range: link.ref.range }));\n                }\n                else if ((0, range_1.rangeContains)(link.source.hrefRange, position)) {\n                    return this.#getReferencesToLink(docLinks, link, position, token);\n                }\n            }\n            else {\n                if ((0, range_1.rangeContains)(link.source.hrefRange, position)) {\n                    return this.#getReferencesToLink(docLinks, link, position, token);\n                }\n            }\n        }\n        return [];\n    }\n    async #getReferencesToLink(docLinks, sourceLink, triggerPosition, token) {\n        if (sourceLink.href.kind === documentLinks_1.HrefKind.Reference) {\n            return Array.from(this.#getReferencesToLinkReference(docLinks, sourceLink.href.ref, { resource: sourceLink.source.resource, range: sourceLink.source.hrefRange }));\n        }\n        // Otherwise find all occurrences of the link in the workspace\n        const allLinksInWorkspace = await this.#getAllLinksInWorkspace();\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        if (sourceLink.href.kind === documentLinks_1.HrefKind.External) {\n            const references = [];\n            for (const link of allLinksInWorkspace) {\n                if (link.href.kind === documentLinks_1.HrefKind.External && link.href.uri.toString() === sourceLink.href.uri.toString()) {\n                    const isTriggerLocation = sourceLink.source.resource.fsPath === link.source.resource.fsPath && (0, range_1.areRangesEqual)(sourceLink.source.hrefRange, link.source.hrefRange);\n                    references.push({\n                        kind: MdReferenceKind.Link,\n                        isTriggerLocation,\n                        isDefinition: false,\n                        link,\n                        location: { uri: link.source.resource.toString(), range: link.source.hrefRange },\n                    });\n                }\n            }\n            return references;\n        }\n        const resolvedResource = await (0, workspace_1.statLinkToMarkdownFile)(this.#configuration, this.#workspace, sourceLink.href.path);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const references = [];\n        if (resolvedResource && this.#isMarkdownPath(resolvedResource) && sourceLink.href.fragment && sourceLink.source.fragmentRange && (0, range_1.rangeContains)(sourceLink.source.fragmentRange, triggerPosition)) {\n            const toc = await this.#tocProvider.get(resolvedResource);\n            const entry = toc.lookup(sourceLink.href.fragment);\n            if (entry) {\n                references.push({\n                    kind: MdReferenceKind.Header,\n                    isTriggerLocation: false,\n                    isDefinition: true,\n                    location: entry.headerLocation,\n                    headerText: entry.text,\n                    headerTextLocation: entry.headerTextLocation\n                });\n            }\n            for (const link of allLinksInWorkspace) {\n                if (link.href.kind !== documentLinks_1.HrefKind.Internal || !(0, documentLinks_1.looksLikeLinkToResource)(this.#configuration, link.href, resolvedResource)) {\n                    continue;\n                }\n                if (this.#parser.slugifier.fromHeading(link.href.fragment).equals(this.#parser.slugifier.fromHeading(sourceLink.href.fragment))) {\n                    const isTriggerLocation = sourceLink.source.resource.fsPath === link.source.resource.fsPath && (0, range_1.areRangesEqual)(sourceLink.source.hrefRange, link.source.hrefRange);\n                    references.push({\n                        kind: MdReferenceKind.Link,\n                        isTriggerLocation,\n                        isDefinition: false,\n                        link,\n                        location: { uri: link.source.resource.toString(), range: link.source.hrefRange },\n                    });\n                }\n            }\n        }\n        else { // Triggered on a link without a fragment so we only require matching the file and ignore fragments\n            references.push(...this.#findLinksToFile(resolvedResource ?? sourceLink.href.path, allLinksInWorkspace, sourceLink));\n        }\n        return references;\n    }\n    async #getAllLinksInWorkspace() {\n        return (await this.#linkCache.values()).flat();\n    }\n    #isMarkdownPath(resolvedHrefPath) {\n        return this.#workspace.hasMarkdownDocument(resolvedHrefPath) || (0, file_1.looksLikeMarkdownPath)(this.#configuration, resolvedHrefPath);\n    }\n    *#findLinksToFile(resource, links, sourceLink) {\n        for (const link of links) {\n            if (link.href.kind !== documentLinks_1.HrefKind.Internal || !(0, documentLinks_1.looksLikeLinkToResource)(this.#configuration, link.href, resource)) {\n                continue;\n            }\n            // Exclude cases where the file is implicitly referencing itself\n            if (link.source.hrefText.startsWith('#') && link.source.resource.fsPath === resource.fsPath) {\n                continue;\n            }\n            const isTriggerLocation = !!sourceLink && sourceLink.source.resource.fsPath === link.source.resource.fsPath && (0, range_1.areRangesEqual)(sourceLink.source.hrefRange, link.source.hrefRange);\n            const pathRange = this.#getPathRange(link);\n            yield {\n                kind: MdReferenceKind.Link,\n                isTriggerLocation,\n                isDefinition: false,\n                link,\n                location: { uri: link.source.resource.toString(), range: pathRange },\n            };\n        }\n    }\n    *#getReferencesToLinkReference(allLinks, refToFind, from) {\n        for (const link of allLinks) {\n            let ref;\n            if (link.kind === documentLinks_1.MdLinkKind.Definition) {\n                ref = link.ref.text;\n            }\n            else if (link.href.kind === documentLinks_1.HrefKind.Reference) {\n                ref = link.href.ref;\n            }\n            else {\n                continue;\n            }\n            if (ref === refToFind && link.source.resource.fsPath === from.resource.fsPath) {\n                const isTriggerLocation = from.resource.fsPath === link.source.resource.fsPath && ((link.href.kind === documentLinks_1.HrefKind.Reference && (0, range_1.areRangesEqual)(from.range, link.source.hrefRange)) || (link.kind === documentLinks_1.MdLinkKind.Definition && (0, range_1.areRangesEqual)(from.range, link.ref.range)));\n                const pathRange = this.#getPathRange(link);\n                yield {\n                    kind: MdReferenceKind.Link,\n                    isTriggerLocation,\n                    isDefinition: link.kind === documentLinks_1.MdLinkKind.Definition,\n                    link,\n                    location: { uri: from.resource.toString(), range: pathRange },\n                };\n            }\n        }\n    }\n    /**\n     * Get just the range of the file path, dropping the fragment\n     */\n    #getPathRange(link) {\n        return link.source.fragmentRange\n            ? (0, range_1.modifyRange)(link.source.hrefRange, undefined, (0, position_1.translatePosition)(link.source.fragmentRange.start, { characterDelta: -1 }))\n            : link.source.hrefRange;\n    }\n}\nexports.MdReferencesProvider = MdReferencesProvider;\n//# sourceMappingURL=references.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getFilePathRange = exports.getLinkRenameText = exports.MdRenameProvider = exports.RenameNotSupportedAtLocationError = void 0;\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nconst l10n = require(\"@vscode/l10n\");\nconst path = require(\"path\");\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst config_1 = require(\"../config\");\nconst logging_1 = require(\"../logging\");\nconst position_1 = require(\"../types/position\");\nconst range_1 = require(\"../types/range\");\nconst textDocument_1 = require(\"../types/textDocument\");\nconst dispose_1 = require(\"../util/dispose\");\nconst editBuilder_1 = require(\"../util/editBuilder\");\nconst schemes_1 = require(\"../util/schemes\");\nconst uri_1 = require(\"../util/uri\");\nconst workspace_1 = require(\"../workspace\");\nconst documentLinks_1 = require(\"./documentLinks\");\nconst references_1 = require(\"./references\");\n/**\n * Error thrown when rename is not supported performed at the requested location.\n */\nclass RenameNotSupportedAtLocationError extends Error {\n    constructor() {\n        super(l10n.t('Renaming is not supported here. Try renaming a header or link.'));\n    }\n}\nexports.RenameNotSupportedAtLocationError = RenameNotSupportedAtLocationError;\nclass MdRenameProvider extends dispose_1.Disposable {\n    #cachedRefs;\n    #configuration;\n    #workspace;\n    #referencesProvider;\n    #slugifier;\n    #logger;\n    constructor(configuration, workspace, referencesProvider, slugifier, logger) {\n        super();\n        this.#configuration = configuration;\n        this.#workspace = workspace;\n        this.#referencesProvider = referencesProvider;\n        this.#slugifier = slugifier;\n        this.#logger = logger;\n    }\n    async prepareRename(document, position, token) {\n        this.#logger.log(logging_1.LogLevel.Trace, 'RenameProvider', `prepareRename  ${document.uri} ${document.version}`);\n        const allRefsInfo = await this.#getAllReferences(document, position, token);\n        if (token.isCancellationRequested) {\n            return undefined;\n        }\n        if (!allRefsInfo || !allRefsInfo.references.length) {\n            throw new RenameNotSupportedAtLocationError();\n        }\n        const triggerRef = allRefsInfo.triggerRef;\n        switch (triggerRef.kind) {\n            case references_1.MdReferenceKind.Header: {\n                return { range: triggerRef.headerTextLocation.range, placeholder: triggerRef.headerText };\n            }\n            case references_1.MdReferenceKind.Link: {\n                if (triggerRef.link.kind === documentLinks_1.MdLinkKind.Definition) {\n                    // We may have been triggered on the ref or the definition itself\n                    if ((0, range_1.rangeContains)(triggerRef.link.ref.range, position)) {\n                        return { range: triggerRef.link.ref.range, placeholder: triggerRef.link.ref.text };\n                    }\n                }\n                if (triggerRef.link.href.kind === documentLinks_1.HrefKind.External) {\n                    return { range: triggerRef.link.source.hrefRange, placeholder: document.getText(triggerRef.link.source.hrefRange) };\n                }\n                // See if we are renaming the fragment or the path\n                const { fragmentRange } = triggerRef.link.source;\n                if (fragmentRange && (0, range_1.rangeContains)(fragmentRange, position)) {\n                    const declaration = this.#findHeaderDeclaration(allRefsInfo.references);\n                    return {\n                        range: fragmentRange,\n                        placeholder: declaration ? declaration.headerText : document.getText(fragmentRange),\n                    };\n                }\n                const range = getFilePathRange(triggerRef.link);\n                if (!range) {\n                    throw new RenameNotSupportedAtLocationError();\n                }\n                return { range, placeholder: (0, uri_1.tryDecodeUri)(document.getText(range)) };\n            }\n        }\n    }\n    #findHeaderDeclaration(references) {\n        return references.find(ref => ref.isDefinition && ref.kind === references_1.MdReferenceKind.Header);\n    }\n    async provideRenameEdits(document, position, newName, token) {\n        this.#logger.log(logging_1.LogLevel.Trace, 'RenameProvider', `provideRenameEdits  ${document.uri} ${document.version}`);\n        const allRefsInfo = await this.#getAllReferences(document, position, token);\n        if (token.isCancellationRequested || !allRefsInfo || !allRefsInfo.references.length) {\n            return undefined;\n        }\n        const triggerRef = allRefsInfo.triggerRef;\n        if (triggerRef.kind === references_1.MdReferenceKind.Link && ((triggerRef.link.kind === documentLinks_1.MdLinkKind.Definition && (0, range_1.rangeContains)(triggerRef.link.ref.range, position)) || triggerRef.link.href.kind === documentLinks_1.HrefKind.Reference)) {\n            return this.#renameReferenceLinks(allRefsInfo, newName);\n        }\n        else if (triggerRef.kind === references_1.MdReferenceKind.Link && triggerRef.link.href.kind === documentLinks_1.HrefKind.External) {\n            return this.#renameExternalLink(allRefsInfo, newName);\n        }\n        else if (triggerRef.kind === references_1.MdReferenceKind.Header || (triggerRef.kind === references_1.MdReferenceKind.Link && triggerRef.link.source.fragmentRange && (0, range_1.rangeContains)(triggerRef.link.source.fragmentRange, position) && (triggerRef.link.kind === documentLinks_1.MdLinkKind.Definition || triggerRef.link.kind === documentLinks_1.MdLinkKind.Link && triggerRef.link.href.kind === documentLinks_1.HrefKind.Internal))) {\n            return this.#renameFragment(allRefsInfo, newName);\n        }\n        else if (triggerRef.kind === references_1.MdReferenceKind.Link && !(triggerRef.link.source.fragmentRange && (0, range_1.rangeContains)(triggerRef.link.source.fragmentRange, position)) && (triggerRef.link.kind === documentLinks_1.MdLinkKind.Link || triggerRef.link.kind === documentLinks_1.MdLinkKind.Definition) && triggerRef.link.href.kind === documentLinks_1.HrefKind.Internal) {\n            return this.#renameFilePath(triggerRef.link.source.resource, triggerRef.link.href, allRefsInfo, newName);\n        }\n        return undefined;\n    }\n    async #renameFilePath(triggerDocument, triggerHref, allRefsInfo, newName) {\n        const builder = new editBuilder_1.WorkspaceEditBuilder();\n        const targetUri = await (0, workspace_1.statLinkToMarkdownFile)(this.#configuration, this.#workspace, triggerHref.path) ?? triggerHref.path;\n        const rawNewFilePath = (0, documentLinks_1.resolveInternalDocumentLink)(triggerDocument, newName, this.#workspace);\n        if (!rawNewFilePath) {\n            return builder.renameFragment();\n        }\n        let resolvedNewFilePath = rawNewFilePath.resource;\n        if (!vscode_uri_1.Utils.extname(resolvedNewFilePath)) {\n            // If the newly entered path doesn't have a file extension but the original link did\n            // tack on a .md file extension\n            if (vscode_uri_1.Utils.extname(targetUri)) {\n                resolvedNewFilePath = resolvedNewFilePath.with({\n                    path: resolvedNewFilePath.path + '.' + (this.#configuration.markdownFileExtensions[0] ?? config_1.defaultMarkdownFileExtension)\n                });\n            }\n        }\n        // First rename the file\n        if (await this.#workspace.stat(targetUri)) {\n            builder.renameFile(targetUri, resolvedNewFilePath);\n        }\n        // Then update all refs to it\n        for (const ref of allRefsInfo.references) {\n            if (ref.kind === references_1.MdReferenceKind.Link) {\n                // Try to preserve style of existing links\n                const newLinkText = getLinkRenameText(this.#workspace, ref.link.source, rawNewFilePath.resource, newName.startsWith('./') || newName.startsWith('.\\\\'));\n                builder.replace(ref.link.source.resource, getFilePathRange(ref.link), encodeURI((newLinkText ?? newName).replace(/\\\\/g, '/')));\n            }\n        }\n        return builder.renameFragment();\n    }\n    #renameFragment(allRefsInfo, newName) {\n        const slug = this.#slugifier.fromHeading(newName).value;\n        const builder = new editBuilder_1.WorkspaceEditBuilder();\n        for (const ref of allRefsInfo.references) {\n            switch (ref.kind) {\n                case references_1.MdReferenceKind.Header:\n                    builder.replace(vscode_uri_1.URI.parse(ref.location.uri), ref.headerTextLocation.range, newName);\n                    break;\n                case references_1.MdReferenceKind.Link:\n                    builder.replace(ref.link.source.resource, ref.link.source.fragmentRange ?? ref.location.range, !ref.link.source.fragmentRange || ref.link.href.kind === documentLinks_1.HrefKind.External ? newName : slug);\n                    break;\n            }\n        }\n        return builder.renameFragment();\n    }\n    #renameExternalLink(allRefsInfo, newName) {\n        const builder = new editBuilder_1.WorkspaceEditBuilder();\n        for (const ref of allRefsInfo.references) {\n            if (ref.kind === references_1.MdReferenceKind.Link) {\n                builder.replace(ref.link.source.resource, ref.location.range, newName);\n            }\n        }\n        return builder.renameFragment();\n    }\n    #renameReferenceLinks(allRefsInfo, newName) {\n        const builder = new editBuilder_1.WorkspaceEditBuilder();\n        for (const ref of allRefsInfo.references) {\n            if (ref.kind === references_1.MdReferenceKind.Link) {\n                if (ref.link.kind === documentLinks_1.MdLinkKind.Definition) {\n                    builder.replace(ref.link.source.resource, ref.link.ref.range, newName);\n                }\n                else {\n                    builder.replace(ref.link.source.resource, ref.link.source.fragmentRange ?? ref.location.range, newName);\n                }\n            }\n        }\n        return builder.renameFragment();\n    }\n    async #getAllReferences(document, position, token) {\n        const version = document.version;\n        if (this.#cachedRefs\n            && this.#cachedRefs.resource.fsPath === (0, textDocument_1.getDocUri)(document).fsPath\n            && this.#cachedRefs.version === document.version\n            && (0, position_1.arePositionsEqual)(this.#cachedRefs.position, position)) {\n            return this.#cachedRefs;\n        }\n        const references = await this.#referencesProvider.getReferencesAtPosition(document, position, token);\n        if (token.isCancellationRequested) {\n            return;\n        }\n        const triggerRef = references.find(ref => ref.isTriggerLocation);\n        if (!triggerRef) {\n            return undefined;\n        }\n        this.#cachedRefs = {\n            resource: (0, textDocument_1.getDocUri)(document),\n            version,\n            position,\n            references,\n            triggerRef\n        };\n        return this.#cachedRefs;\n    }\n}\nexports.MdRenameProvider = MdRenameProvider;\nfunction getLinkRenameText(workspace, source, newPath, preferDotSlash = false) {\n    if (source.hrefText.startsWith('/')) {\n        const root = (0, documentLinks_1.resolveInternalDocumentLink)(source.resource, '/', workspace);\n        if (!root) {\n            return undefined;\n        }\n        return '/' + path.posix.relative(root.resource.path, newPath.path);\n    }\n    const rootDir = vscode_uri_1.Utils.dirname(source.resource);\n    if (rootDir.scheme === newPath.scheme && rootDir.scheme !== schemes_1.Schemes.untitled) {\n        let newLink = path.posix.relative(rootDir.path, newPath.path);\n        if (preferDotSlash && !(newLink.startsWith('../') || newLink.startsWith('..\\\\'))) {\n            newLink = './' + newLink;\n        }\n        return newLink;\n    }\n    return undefined;\n}\nexports.getLinkRenameText = getLinkRenameText;\nfunction getFilePathRange(link) {\n    if (link.source.fragmentRange) {\n        return (0, range_1.modifyRange)(link.source.hrefRange, undefined, (0, position_1.translatePosition)(link.source.fragmentRange.start, { characterDelta: -1 }));\n    }\n    return link.source.hrefRange;\n}\nexports.getFilePathRange = getFilePathRange;\n//# sourceMappingURL=rename.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdSelectionRangeProvider = void 0;\nconst logging_1 = require(\"../logging\");\nconst position_1 = require(\"../types/position\");\nconst range_1 = require(\"../types/range\");\nconst textDocument_1 = require(\"../types/textDocument\");\nconst string_1 = require(\"../util/string\");\nclass MdSelectionRangeProvider {\n    #parser;\n    #tocProvider;\n    #logger;\n    constructor(parser, tocProvider, logger) {\n        this.#parser = parser;\n        this.#tocProvider = tocProvider;\n        this.#logger = logger;\n    }\n    async provideSelectionRanges(document, positions, token) {\n        this.#logger.log(logging_1.LogLevel.Debug, 'MdSelectionRangeProvider', `provideSelectionRanges  ${document.uri} ${document.version}`);\n        const promises = await Promise.all(positions.map((position) => {\n            return this.#provideSelectionRange(document, position, token);\n        }));\n        return promises.filter(item => item !== undefined);\n    }\n    async #provideSelectionRange(document, position, token) {\n        const headerRange = await this.#getHeaderSelectionRange(document, position);\n        if (token.isCancellationRequested) {\n            return;\n        }\n        const blockRange = await this.#getBlockSelectionRange(document, position, headerRange);\n        if (token.isCancellationRequested) {\n            return;\n        }\n        const inlineRange = await this.#getInlineSelectionRange(document, position, blockRange);\n        return inlineRange || blockRange || headerRange;\n    }\n    async #getInlineSelectionRange(document, position, blockRange) {\n        return createInlineRange(document, position, blockRange);\n    }\n    async #getBlockSelectionRange(document, position, headerRange) {\n        const tokens = await this.#parser.tokenize(document);\n        const blockTokens = getBlockTokensForPosition(tokens, position, headerRange);\n        if (blockTokens.length === 0) {\n            return undefined;\n        }\n        let currentRange = headerRange ? headerRange : createBlockRange(blockTokens.shift(), document, position.line);\n        for (let i = 0; i < blockTokens.length; i++) {\n            currentRange = createBlockRange(blockTokens[i], document, position.line, currentRange);\n        }\n        return currentRange;\n    }\n    async #getHeaderSelectionRange(document, position) {\n        const toc = await this.#tocProvider.getForDocument(document);\n        const headerInfo = getHeadersForPosition(toc.entries, position);\n        const headers = headerInfo.headers;\n        let currentRange;\n        for (let i = 0; i < headers.length; i++) {\n            currentRange = createHeaderRange(headers[i], i === headers.length - 1, headerInfo.headerOnThisLine, currentRange, getFirstChildHeader(document, headers[i], toc.entries));\n        }\n        return currentRange;\n    }\n}\nexports.MdSelectionRangeProvider = MdSelectionRangeProvider;\nfunction getHeadersForPosition(toc, position) {\n    const enclosingHeaders = toc.filter(header => header.sectionLocation.range.start.line <= position.line && header.sectionLocation.range.end.line >= position.line);\n    const sortedHeaders = enclosingHeaders.sort((header1, header2) => (header1.line - position.line) - (header2.line - position.line));\n    const onThisLine = toc.find(header => header.line === position.line) !== undefined;\n    return {\n        headers: sortedHeaders,\n        headerOnThisLine: onThisLine\n    };\n}\nfunction createHeaderRange(header, isClosestHeaderToPosition, onHeaderLine, parent, startOfChildRange) {\n    const range = header.sectionLocation.range;\n    const contentRange = (0, range_1.makeRange)((0, position_1.translatePosition)(range.start, { lineDelta: 1 }), range.end);\n    if (onHeaderLine && isClosestHeaderToPosition && startOfChildRange) {\n        // selection was made on this header line, so select header and its content until the start of its first child\n        // then all of its content\n        return makeSelectionRange((0, range_1.modifyRange)(range, undefined, startOfChildRange), makeSelectionRange(range, parent));\n    }\n    else if (onHeaderLine && isClosestHeaderToPosition) {\n        // selection was made on this header line and no children so expand to all of its content\n        return makeSelectionRange(range, parent);\n    }\n    else if (isClosestHeaderToPosition && startOfChildRange) {\n        // selection was made within content and has child so select content\n        // of this header then all content then header\n        return makeSelectionRange((0, range_1.modifyRange)(contentRange, undefined, startOfChildRange), makeSelectionRange(contentRange, (makeSelectionRange(range, parent))));\n    }\n    else {\n        // not on this header line so select content then header\n        return makeSelectionRange(contentRange, makeSelectionRange(range, parent));\n    }\n}\nfunction getBlockTokensForPosition(tokens, position, parent) {\n    const enclosingTokens = tokens.filter((token) => !!token.map && (token.map[0] <= position.line && token.map[1] > position.line) && (!parent || (token.map[0] >= parent.range.start.line && token.map[1] <= parent.range.end.line + 1)) && isBlockElement(token));\n    if (enclosingTokens.length === 0) {\n        return [];\n    }\n    const sortedTokens = enclosingTokens.sort((token1, token2) => (token2.map[1] - token2.map[0]) - (token1.map[1] - token1.map[0]));\n    return sortedTokens;\n}\nfunction createBlockRange(block, document, cursorLine, parent) {\n    if (block.type === 'fence') {\n        return createFencedRange(block, cursorLine, document, parent);\n    }\n    else {\n        let startLine = (0, string_1.isEmptyOrWhitespace)((0, textDocument_1.getLine)(document, block.map[0])) ? block.map[0] + 1 : block.map[0];\n        let endLine = startLine === block.map[1] ? block.map[1] : block.map[1] - 1;\n        if (block.type === 'paragraph_open' && block.map[1] - block.map[0] === 2) {\n            startLine = endLine = cursorLine;\n        }\n        else if (isList(block) && (0, string_1.isEmptyOrWhitespace)((0, textDocument_1.getLine)(document, endLine))) {\n            endLine = endLine - 1;\n        }\n        const range = (0, range_1.makeRange)(startLine, 0, endLine, (0, textDocument_1.getLine)(document, endLine).length);\n        if (parent && (0, range_1.rangeContains)(parent.range, range) && !(0, range_1.areRangesEqual)(parent.range, range)) {\n            return makeSelectionRange(range, parent);\n        }\n        else if (parent && (0, range_1.areRangesEqual)(parent.range, range)) {\n            return parent;\n        }\n        else {\n            return makeSelectionRange(range, undefined);\n        }\n    }\n}\nfunction createInlineRange(document, cursorPosition, parent) {\n    const lineText = (0, textDocument_1.getLine)(document, cursorPosition.line);\n    const boldSelection = createBoldRange(lineText, cursorPosition.character, cursorPosition.line, parent);\n    const italicSelection = createOtherInlineRange(lineText, cursorPosition.character, cursorPosition.line, true, parent);\n    let comboSelection;\n    if (boldSelection && italicSelection && !(0, range_1.areRangesEqual)(boldSelection.range, italicSelection.range)) {\n        if ((0, range_1.rangeContains)(boldSelection.range, italicSelection.range)) {\n            comboSelection = createOtherInlineRange(lineText, cursorPosition.character, cursorPosition.line, true, boldSelection);\n        }\n        else if ((0, range_1.rangeContains)(italicSelection.range, boldSelection.range)) {\n            comboSelection = createBoldRange(lineText, cursorPosition.character, cursorPosition.line, italicSelection);\n        }\n    }\n    const linkSelection = createLinkRange(lineText, cursorPosition.character, cursorPosition.line, comboSelection || boldSelection || italicSelection || parent);\n    const inlineCodeBlockSelection = createOtherInlineRange(lineText, cursorPosition.character, cursorPosition.line, false, linkSelection || parent);\n    return inlineCodeBlockSelection || linkSelection || comboSelection || boldSelection || italicSelection;\n}\nfunction createFencedRange(token, cursorLine, document, parent) {\n    const startLine = token.map[0];\n    const endLine = token.map[1] - 1;\n    const onFenceLine = cursorLine === startLine || cursorLine === endLine;\n    const fenceRange = (0, range_1.makeRange)(startLine, 0, endLine, (0, textDocument_1.getLine)(document, endLine).length);\n    const contentRange = endLine - startLine > 2 && !onFenceLine ? (0, range_1.makeRange)(startLine + 1, 0, endLine - 1, (0, textDocument_1.getLine)(document, endLine - 1).length) : undefined;\n    if (contentRange) {\n        return makeSelectionRange(contentRange, makeSelectionRange(fenceRange, parent));\n    }\n    else {\n        if (parent && (0, range_1.areRangesEqual)(parent.range, fenceRange)) {\n            return parent;\n        }\n        else {\n            return makeSelectionRange(fenceRange, parent);\n        }\n    }\n}\nfunction createBoldRange(lineText, cursorChar, cursorLine, parent) {\n    const regex = /\\*\\*([^*]+\\*?[^*]+\\*?[^*]+)\\*\\*/gim;\n    const matches = [...lineText.matchAll(regex)].filter(match => lineText.indexOf(match[0]) <= cursorChar && lineText.indexOf(match[0]) + match[0].length >= cursorChar);\n    if (matches.length) {\n        // should only be one match, so select first and index 0 contains the entire match\n        const bold = matches[0][0];\n        const startIndex = lineText.indexOf(bold);\n        const cursorOnStars = cursorChar === startIndex || cursorChar === startIndex + 1 || cursorChar === startIndex + bold.length || cursorChar === startIndex + bold.length - 1;\n        const contentAndStars = makeSelectionRange((0, range_1.makeRange)(cursorLine, startIndex, cursorLine, startIndex + bold.length), parent);\n        const content = makeSelectionRange((0, range_1.makeRange)(cursorLine, startIndex + 2, cursorLine, startIndex + bold.length - 2), contentAndStars);\n        return cursorOnStars ? contentAndStars : content;\n    }\n    return undefined;\n}\nfunction createOtherInlineRange(lineText, cursorChar, cursorLine, isItalic, parent) {\n    const italicRegexes = [/(?:[^*]+)(\\*([^*]+)(?:\\*\\*[^*]*\\*\\*)*([^*]+)\\*)(?:[^*]+)/g, /^(?:[^*]*)(\\*([^*]+)(?:\\*\\*[^*]*\\*\\*)*([^*]+)\\*)(?:[^*]*)$/g];\n    let matches = [];\n    if (isItalic) {\n        matches = [...lineText.matchAll(italicRegexes[0])].filter(match => lineText.indexOf(match[0]) <= cursorChar && lineText.indexOf(match[0]) + match[0].length >= cursorChar);\n        if (!matches.length) {\n            matches = [...lineText.matchAll(italicRegexes[1])].filter(match => lineText.indexOf(match[0]) <= cursorChar && lineText.indexOf(match[0]) + match[0].length >= cursorChar);\n        }\n    }\n    else {\n        matches = [...lineText.matchAll(/\\`[^\\`]*\\`/g)].filter(match => lineText.indexOf(match[0]) <= cursorChar && lineText.indexOf(match[0]) + match[0].length >= cursorChar);\n    }\n    if (matches.length) {\n        // should only be one match, so select first and select group 1 for italics because that contains just the italic section\n        // doesn't include the leading and trailing characters which are guaranteed to not be * so as not to be confused with bold\n        const match = isItalic ? matches[0][1] : matches[0][0];\n        const startIndex = lineText.indexOf(match);\n        const cursorOnType = cursorChar === startIndex || cursorChar === startIndex + match.length;\n        const contentAndType = makeSelectionRange((0, range_1.makeRange)(cursorLine, startIndex, cursorLine, startIndex + match.length), parent);\n        const content = makeSelectionRange((0, range_1.makeRange)(cursorLine, startIndex + 1, cursorLine, startIndex + match.length - 1), contentAndType);\n        return cursorOnType ? contentAndType : content;\n    }\n    return undefined;\n}\nfunction createLinkRange(lineText, cursorChar, cursorLine, parent) {\n    const regex = /(\\[[^\\(\\)]*\\])(\\([^\\[\\]]*\\))/g;\n    const matches = [...lineText.matchAll(regex)].filter(match => lineText.indexOf(match[0]) <= cursorChar && lineText.indexOf(match[0]) + match[0].length > cursorChar);\n    if (matches.length) {\n        // should only be one match, so select first and index 0 contains the entire match, so match = [text](url)\n        const link = matches[0][0];\n        const linkRange = makeSelectionRange((0, range_1.makeRange)(cursorLine, lineText.indexOf(link), cursorLine, lineText.indexOf(link) + link.length), parent);\n        const linkText = matches[0][1];\n        const url = matches[0][2];\n        // determine if cursor is within [text] or (url) in order to know which should be selected\n        const nearestType = cursorChar >= lineText.indexOf(linkText) && cursorChar < lineText.indexOf(linkText) + linkText.length ? linkText : url;\n        const indexOfType = lineText.indexOf(nearestType);\n        // determine if cursor is on a bracket or paren and if so, return the [content] or (content), skipping over the content range\n        const cursorOnType = cursorChar === indexOfType || cursorChar === indexOfType + nearestType.length;\n        const contentAndNearestType = makeSelectionRange((0, range_1.makeRange)(cursorLine, indexOfType, cursorLine, indexOfType + nearestType.length), linkRange);\n        const content = makeSelectionRange((0, range_1.makeRange)(cursorLine, indexOfType + 1, cursorLine, indexOfType + nearestType.length - 1), contentAndNearestType);\n        return cursorOnType ? contentAndNearestType : content;\n    }\n    return undefined;\n}\nfunction isList(token) {\n    return token.type ? ['ordered_list_open', 'list_item_open', 'bullet_list_open'].includes(token.type) : false;\n}\nfunction isBlockElement(token) {\n    return !['list_item_close', 'paragraph_close', 'bullet_list_close', 'inline', 'heading_close', 'heading_open'].includes(token.type);\n}\nfunction getFirstChildHeader(document, header, toc) {\n    let childRange;\n    if (header && toc) {\n        const children = toc.filter(t => (0, range_1.rangeContains)(header.sectionLocation.range, t.sectionLocation.range) && t.sectionLocation.range.start.line > header.sectionLocation.range.start.line).sort((t1, t2) => t1.line - t2.line);\n        if (children.length > 0) {\n            childRange = children[0].sectionLocation.range.start;\n            const lineText = (0, textDocument_1.getLine)(document, childRange.line - 1);\n            return childRange ? (0, position_1.translatePosition)(childRange, { lineDelta: -1, characterDelta: lineText.length }) : undefined;\n        }\n    }\n    return undefined;\n}\nfunction makeSelectionRange(range, parent) {\n    return { range, parent };\n}\n//# sourceMappingURL=smartSelect.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdWorkspaceSymbolProvider = void 0;\nconst lsp = require(\"vscode-languageserver-types\");\nconst dispose_1 = require(\"../util/dispose\");\nconst workspaceCache_1 = require(\"../workspaceCache\");\nclass MdWorkspaceSymbolProvider extends dispose_1.Disposable {\n    #cache;\n    #symbolProvider;\n    constructor(workspace, symbolProvider) {\n        super();\n        this.#symbolProvider = symbolProvider;\n        this.#cache = this._register(new workspaceCache_1.MdWorkspaceInfoCache(workspace, (doc, token) => this.provideDocumentSymbolInformation(doc, token)));\n    }\n    async provideWorkspaceSymbols(query, token) {\n        const allSymbols = await this.#cache.values();\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const normalizedQueryStr = query.toLowerCase();\n        return allSymbols.flat().filter(symbolInformation => symbolInformation.name.toLowerCase().includes(normalizedQueryStr));\n    }\n    async provideDocumentSymbolInformation(document, token) {\n        const docSymbols = await this.#symbolProvider.provideDocumentSymbols(document, {}, token);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        return Array.from(this.#toSymbolInformation(document.uri, docSymbols));\n    }\n    *#toSymbolInformation(uri, docSymbols) {\n        for (const symbol of docSymbols) {\n            yield {\n                name: symbol.name,\n                kind: lsp.SymbolKind.String,\n                location: { uri, range: symbol.selectionRange }\n            };\n            if (symbol.children) {\n                yield* this.#toSymbolInformation(uri, symbol.children);\n            }\n        }\n    }\n}\nexports.MdWorkspaceSymbolProvider = MdWorkspaceSymbolProvider;\n//# sourceMappingURL=workspaceSymbols.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LogLevel = void 0;\nvar LogLevel;\n(function (LogLevel) {\n    LogLevel[\"Debug\"] = \"Debug\";\n    LogLevel[\"Trace\"] = \"Trace\";\n})(LogLevel = exports.LogLevel || (exports.LogLevel = {}));\n//# sourceMappingURL=logging.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.githubSlugifier = exports.Slug = void 0;\nclass Slug {\n    value;\n    constructor(value) {\n        this.value = value;\n    }\n    equals(other) {\n        return this.value === other.value;\n    }\n}\nexports.Slug = Slug;\n/**\n * A {@link ISlugifier slugifier} that approximates how GitHub's slugifier works.\n */\nexports.githubSlugifier = new class {\n    fromHeading(heading) {\n        const slugifiedHeading = encodeURI(heading.trim()\n            .toLowerCase()\n            .replace(/\\s+/g, '-') // Replace whitespace with -\n            // allow-any-unicode-next-line\n            .replace(/[\\]\\[\\!\\/\\'\\\"\\#\\$\\%\\&\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\\\\\^\\{\\|\\}\\~\\`]/g, '') // Remove known punctuators\n            .replace(/^-+/, '') // Remove leading -\n            .replace(/-+$/, '') // Remove trailing -\n        );\n        return new Slug(slugifiedHeading);\n    }\n};\n//# sourceMappingURL=slugify.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdTableOfContentsProvider = exports.TableOfContents = void 0;\nconst logging_1 = require(\"./logging\");\nconst slugify_1 = require(\"./slugify\");\nconst range_1 = require(\"./types/range\");\nconst textDocument_1 = require(\"./types/textDocument\");\nconst dispose_1 = require(\"./util/dispose\");\nconst workspaceCache_1 = require(\"./workspaceCache\");\nclass TableOfContents {\n    entries;\n    static async create(parser, document, token) {\n        const entries = await this.#buildToc(parser, document, token);\n        return new TableOfContents(entries, parser.slugifier);\n    }\n    static async createForContainingDoc(parser, workspace, document, token) {\n        const context = workspace.getContainingDocument?.((0, textDocument_1.getDocUri)(document));\n        if (context) {\n            const entries = (await Promise.all(Array.from(context.children, async (cell) => {\n                const doc = await workspace.openMarkdownDocument(cell.uri);\n                if (!doc || token.isCancellationRequested) {\n                    return [];\n                }\n                return this.#buildToc(parser, doc, token);\n            }))).flat();\n            return new TableOfContents(entries, parser.slugifier);\n        }\n        return this.create(parser, document, token);\n    }\n    static async #buildToc(parser, document, token) {\n        const docUri = (0, textDocument_1.getDocUri)(document);\n        const toc = [];\n        const tokens = await parser.tokenize(document);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const existingSlugEntries = new Map();\n        const headers = [];\n        let currentHeader;\n        for (const token of tokens) {\n            switch (token.type) {\n                case 'heading_open': {\n                    currentHeader = { open: token, body: [] };\n                    headers.push(currentHeader);\n                    break;\n                }\n                case 'heading_close': {\n                    currentHeader = undefined;\n                    break;\n                }\n                default: {\n                    currentHeader?.body.push(token);\n                    break;\n                }\n            }\n        }\n        for (const { open, body } of headers) {\n            if (!open.map) {\n                continue;\n            }\n            const lineNumber = open.map[0];\n            const line = (0, textDocument_1.getLine)(document, lineNumber);\n            const bodyText = TableOfContents.#getHeaderTitleAsPlainText(body);\n            let slug = parser.slugifier.fromHeading(bodyText);\n            const existingSlugEntry = existingSlugEntries.get(slug.value);\n            if (existingSlugEntry) {\n                ++existingSlugEntry.count;\n                slug = parser.slugifier.fromHeading(slug.value + '-' + existingSlugEntry.count);\n            }\n            else {\n                existingSlugEntries.set(slug.value, { count: 0 });\n            }\n            const headerLocation = {\n                uri: docUri.toString(),\n                range: (0, range_1.makeRange)(lineNumber, 0, lineNumber, line.length)\n            };\n            const headerTextLocation = {\n                uri: docUri.toString(),\n                range: (0, range_1.makeRange)(lineNumber, line.match(/^#+\\s*/)?.[0].length ?? 0, lineNumber, line.length - (line.match(/\\s*#*$/)?.[0].length ?? 0))\n            };\n            toc.push({\n                slug,\n                text: line.replace(/^\\s*#+\\s*(.*?)(\\s+#+)?$/, (_, word) => word.trim()),\n                level: TableOfContents.#getHeaderLevel(open.markup),\n                line: lineNumber,\n                sectionLocation: headerLocation,\n                headerLocation,\n                headerTextLocation\n            });\n        }\n        // Get full range of section\n        return toc.map((entry, startIndex) => {\n            let end = undefined;\n            for (let i = startIndex + 1; i < toc.length; ++i) {\n                if (toc[i].level <= entry.level) {\n                    end = toc[i].line - 1;\n                    break;\n                }\n            }\n            const endLine = end ?? document.lineCount - 1;\n            return {\n                ...entry,\n                sectionLocation: {\n                    uri: docUri.toString(),\n                    range: (0, range_1.makeRange)(entry.sectionLocation.range.start, { line: endLine, character: (0, textDocument_1.getLine)(document, endLine).length })\n                }\n            };\n        });\n    }\n    static #getHeaderLevel(markup) {\n        if (markup === '=') {\n            return 1;\n        }\n        else if (markup === '-') {\n            return 2;\n        }\n        else { // '#', '##', ...\n            return markup.length;\n        }\n    }\n    static #tokenToPlainText(token) {\n        if (token.children) {\n            return token.children.map(TableOfContents.#tokenToPlainText).join('');\n        }\n        switch (token.type) {\n            case 'text':\n            case 'emoji':\n            case 'code_inline':\n                return token.content;\n            default:\n                return '';\n        }\n    }\n    static #getHeaderTitleAsPlainText(headerTitleParts) {\n        return headerTitleParts\n            .map(TableOfContents.#tokenToPlainText)\n            .join('')\n            .trim();\n    }\n    static empty = new TableOfContents([], slugify_1.githubSlugifier);\n    #slugifier;\n    constructor(entries, slugifier) {\n        this.entries = entries;\n        this.#slugifier = slugifier;\n    }\n    lookup(fragment) {\n        const slug = this.#slugifier.fromHeading(fragment);\n        return this.entries.find(entry => entry.slug.equals(slug));\n    }\n}\nexports.TableOfContents = TableOfContents;\nclass MdTableOfContentsProvider extends dispose_1.Disposable {\n    #cache;\n    #parser;\n    #workspace;\n    #logger;\n    constructor(parser, workspace, logger) {\n        super();\n        this.#parser = parser;\n        this.#workspace = workspace;\n        this.#logger = logger;\n        this.#cache = this._register(new workspaceCache_1.MdDocumentInfoCache(workspace, (doc, token) => {\n            this.#logger.log(logging_1.LogLevel.Debug, 'TableOfContentsProvider', `create - ${doc.uri}`);\n            return TableOfContents.create(parser, doc, token);\n        }));\n    }\n    async get(resource) {\n        return await this.#cache.get(resource) ?? TableOfContents.empty;\n    }\n    getForDocument(doc) {\n        return this.#cache.getForDocument(doc);\n    }\n    getForContainingDoc(doc, token) {\n        return TableOfContents.createForContainingDoc(this.#parser, this.#workspace, doc, token);\n    }\n}\nexports.MdTableOfContentsProvider = MdTableOfContentsProvider;\n//# sourceMappingURL=tableOfContents.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.comparePosition = exports.isAfter = exports.isBeforeOrEqual = exports.isBefore = exports.translatePosition = exports.isPosition = exports.arePositionsEqual = void 0;\nfunction arePositionsEqual(a, b) {\n    return a.line === b.line && a.character === b.character;\n}\nexports.arePositionsEqual = arePositionsEqual;\nfunction isPosition(other) {\n    if (!other) {\n        return false;\n    }\n    const { line, character } = other;\n    return typeof line === 'number' && typeof character === 'number';\n}\nexports.isPosition = isPosition;\nfunction translatePosition(pos, change) {\n    return {\n        line: pos.line + (change.lineDelta ?? 0),\n        character: pos.character + (change.characterDelta ?? 0),\n    };\n}\nexports.translatePosition = translatePosition;\nfunction isBefore(pos, other) {\n    if (pos.line < other.line) {\n        return true;\n    }\n    if (other.line < pos.line) {\n        return false;\n    }\n    return pos.character < other.character;\n}\nexports.isBefore = isBefore;\nfunction isBeforeOrEqual(pos, other) {\n    if (pos.line < other.line) {\n        return true;\n    }\n    if (other.line < pos.line) {\n        return false;\n    }\n    return pos.character <= other.character;\n}\nexports.isBeforeOrEqual = isBeforeOrEqual;\nfunction isAfter(pos, other) {\n    return !isBeforeOrEqual(pos, other);\n}\nexports.isAfter = isAfter;\nfunction comparePosition(a, b) {\n    if (a.line < b.line) {\n        return -1;\n    }\n    else if (a.line > b.line) {\n        return 1;\n    }\n    else {\n        // equal line\n        if (a.character < b.character) {\n            return -1;\n        }\n        else if (a.character > b.character) {\n            return 1;\n        }\n        else {\n            // equal line and character\n            return 0;\n        }\n    }\n}\nexports.comparePosition = comparePosition;\n//# sourceMappingURL=position.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.rangeIntersects = exports.rangeContains = exports.modifyRange = exports.areRangesEqual = exports.makeRange = exports.isRange = void 0;\nconst position_1 = require(\"./position\");\nfunction isRange(thing) {\n    if (!thing) {\n        return false;\n    }\n    return (0, position_1.isPosition)(thing.start)\n        && (0, position_1.isPosition)(thing.end);\n}\nexports.isRange = isRange;\nfunction makeRange(startOrStartLine, endOrStartCharacter, endLine, endCharacter) {\n    if (typeof startOrStartLine === 'number') {\n        return {\n            start: { line: startOrStartLine, character: endOrStartCharacter },\n            end: { line: endLine, character: endCharacter },\n        };\n    }\n    return { start: startOrStartLine, end: endOrStartCharacter };\n}\nexports.makeRange = makeRange;\nfunction areRangesEqual(a, b) {\n    return (0, position_1.arePositionsEqual)(a.start, b.start) && (0, position_1.arePositionsEqual)(a.end, b.end);\n}\nexports.areRangesEqual = areRangesEqual;\nfunction modifyRange(range, start, end) {\n    return {\n        start: start ?? range.start,\n        end: end ?? range.end,\n    };\n}\nexports.modifyRange = modifyRange;\nfunction rangeContains(range, other) {\n    if (isRange(other)) {\n        return rangeContains(range, other.start) && rangeContains(range, other.end);\n    }\n    return !(0, position_1.isBefore)(other, range.start) && !(0, position_1.isBefore)(range.end, other);\n}\nexports.rangeContains = rangeContains;\nfunction rangeIntersects(a, b) {\n    if (rangeContains(a, b.start) || rangeContains(a, b.end)) {\n        return true;\n    }\n    // Check case where `a` is entirely contained in `b`\n    return rangeContains(b, a.start) || rangeContains(b, a.end);\n}\nexports.rangeIntersects = rangeIntersects;\n//# sourceMappingURL=range.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getDocUri = exports.getLine = void 0;\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst range_1 = require(\"./range\");\nfunction getLine(doc, line) {\n    return doc.getText((0, range_1.makeRange)(line, 0, line, Number.MAX_VALUE)).replace(/\\r?\\n$/, '');\n}\nexports.getLine = getLine;\nfunction getDocUri(doc) {\n    return doc.$uri ?? vscode_uri_1.URI.parse(doc.uri);\n}\nexports.getDocUri = getDocUri;\n//# sourceMappingURL=textDocument.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.coalesce = void 0;\n/**\n * @returns New array with all falsy values removed. The original array IS NOT modified.\n */\nfunction coalesce(array) {\n    return array.filter(e => !!e);\n}\nexports.coalesce = coalesce;\n//# sourceMappingURL=arrays.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DisposableStore = exports.Disposable = exports.disposeAll = exports.MultiDisposeError = void 0;\nclass MultiDisposeError extends Error {\n    errors;\n    constructor(errors) {\n        super(`Encountered errors while disposing of store. Errors: [${errors.join(', ')}]`);\n        this.errors = errors;\n    }\n}\nexports.MultiDisposeError = MultiDisposeError;\nfunction disposeAll(disposables) {\n    const errors = [];\n    for (const disposable of disposables) {\n        try {\n            disposable.dispose();\n        }\n        catch (e) {\n            errors.push(e);\n        }\n    }\n    if (errors.length === 1) {\n        throw errors[0];\n    }\n    else if (errors.length > 1) {\n        throw new MultiDisposeError(errors);\n    }\n}\nexports.disposeAll = disposeAll;\nclass Disposable {\n    #isDisposed = false;\n    _disposables = [];\n    dispose() {\n        if (this.#isDisposed) {\n            return;\n        }\n        this.#isDisposed = true;\n        disposeAll(this._disposables);\n    }\n    _register(value) {\n        if (this.#isDisposed) {\n            value.dispose();\n        }\n        else {\n            this._disposables.push(value);\n        }\n        return value;\n    }\n    get isDisposed() {\n        return this.#isDisposed;\n    }\n}\nexports.Disposable = Disposable;\nclass DisposableStore extends Disposable {\n    #items = new Set();\n    dispose() {\n        super.dispose();\n        disposeAll(this.#items);\n        this.#items.clear();\n    }\n    add(item) {\n        if (this.isDisposed) {\n            console.warn('Adding to disposed store. Item will be leaked');\n        }\n        this.#items.add(item);\n        return item;\n    }\n}\nexports.DisposableStore = DisposableStore;\n//# sourceMappingURL=dispose.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceEditBuilder = void 0;\nconst lsp = require(\"vscode-languageserver-types\");\nclass WorkspaceEditBuilder {\n    #changes = {};\n    #documentChanges = [];\n    replace(resource, range, newText) {\n        this.#addEdit(resource, lsp.TextEdit.replace(range, newText));\n    }\n    insert(resource, position, newText) {\n        this.#addEdit(resource, lsp.TextEdit.insert(position, newText));\n    }\n    #addEdit(resource, edit) {\n        const resourceKey = resource.toString();\n        let edits = this.#changes[resourceKey];\n        if (!edits) {\n            edits = [];\n            this.#changes[resourceKey] = edits;\n        }\n        edits.push(edit);\n    }\n    renameFragment() {\n        // We need to convert changes into `documentChanges` or else they get dropped\n        const textualChanges = Object.entries(this.#changes).map(([uri, edits]) => {\n            return lsp.TextDocumentEdit.create({ uri, version: null }, edits);\n        });\n        return {\n            documentChanges: [...textualChanges, ...this.#documentChanges],\n        };\n    }\n    renameFile(targetUri, resolvedNewFilePath) {\n        this.#documentChanges.push(lsp.RenameFile.create(targetUri.toString(), resolvedNewFilePath.toString()));\n    }\n}\nexports.WorkspaceEditBuilder = WorkspaceEditBuilder;\n//# sourceMappingURL=editBuilder.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.looksLikeMarkdownPath = void 0;\nconst vscode_uri_1 = require(\"vscode-uri\");\nfunction looksLikeMarkdownPath(config, resolvedHrefPath) {\n    return config.markdownFileExtensions.includes(vscode_uri_1.Utils.extname(vscode_uri_1.URI.from(resolvedHrefPath)).toLowerCase().replace('.', ''));\n}\nexports.looksLikeMarkdownPath = looksLikeMarkdownPath;\n//# sourceMappingURL=file.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.lazy = void 0;\nclass LazyValue {\n    #hasValue = false;\n    #value;\n    #getValue;\n    constructor(getValue) {\n        this.#getValue = getValue;\n    }\n    get value() {\n        if (!this.#hasValue) {\n            this.#hasValue = true;\n            this.#value = this.#getValue();\n        }\n        return this.#value;\n    }\n    get hasValue() {\n        return this.#hasValue;\n    }\n    map(f) {\n        return new LazyValue(() => f(this.value));\n    }\n}\nfunction lazy(getValue) {\n    return new LazyValue(getValue);\n}\nexports.lazy = lazy;\n//# sourceMappingURL=lazy.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Limiter = void 0;\n/**\n * A helper to queue N promises and run them all with a max degree of parallelism. The helper\n * ensures that at any time no more than M promises are running at the same time.\n *\n * Taken from 'src/vs/base/common/async.ts'\n */\nclass Limiter {\n    #size = 0;\n    #runningPromises;\n    #maxDegreeOfParalellism;\n    #outstandingPromises;\n    constructor(maxDegreeOfParalellism) {\n        this.#maxDegreeOfParalellism = maxDegreeOfParalellism;\n        this.#outstandingPromises = [];\n        this.#runningPromises = 0;\n    }\n    get size() {\n        return this.#size;\n    }\n    queue(factory) {\n        this.#size++;\n        return new Promise((c, e) => {\n            this.#outstandingPromises.push({ factory, c, e });\n            this.#consume();\n        });\n    }\n    #consume() {\n        while (this.#outstandingPromises.length && this.#runningPromises < this.#maxDegreeOfParalellism) {\n            const iLimitedTask = this.#outstandingPromises.shift();\n            this.#runningPromises++;\n            const promise = iLimitedTask.factory();\n            promise.then(iLimitedTask.c, iLimitedTask.e);\n            promise.then(() => this.#consumed(), () => this.#consumed());\n        }\n    }\n    #consumed() {\n        this.#size--;\n        this.#runningPromises--;\n        if (this.#outstandingPromises.length > 0) {\n            this.#consume();\n        }\n    }\n}\nexports.Limiter = Limiter;\n//# sourceMappingURL=limiter.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isParentDir = void 0;\nconst path = require(\"path\");\nfunction isParentDir(parent, maybeChild) {\n    if (parent.scheme === maybeChild.scheme && parent.authority === maybeChild.authority) {\n        const relative = path.relative(parent.path, maybeChild.path);\n        return !relative.startsWith('..');\n    }\n    return false;\n}\nexports.isParentDir = isParentDir;\n//# sourceMappingURL=path.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ResourceMap = void 0;\nconst defaultResourceToKey = (resource) => resource.toString();\nclass ResourceMap {\n    #map = new Map();\n    #toKey;\n    constructor(toKey = defaultResourceToKey) {\n        this.#toKey = toKey;\n    }\n    set(uri, value) {\n        this.#map.set(this.#toKey(uri), { uri, value });\n        return this;\n    }\n    get(resource) {\n        return this.#map.get(this.#toKey(resource))?.value;\n    }\n    has(resource) {\n        return this.#map.has(this.#toKey(resource));\n    }\n    get size() {\n        return this.#map.size;\n    }\n    clear() {\n        this.#map.clear();\n    }\n    delete(resource) {\n        return this.#map.delete(this.#toKey(resource));\n    }\n    *values() {\n        for (const entry of this.#map.values()) {\n            yield entry.value;\n        }\n    }\n    *keys() {\n        for (const entry of this.#map.values()) {\n            yield entry.uri;\n        }\n    }\n    *entries() {\n        for (const entry of this.#map.values()) {\n            yield [entry.uri, entry.value];\n        }\n    }\n    [Symbol.iterator]() {\n        return this.entries();\n    }\n}\nexports.ResourceMap = ResourceMap;\n//# sourceMappingURL=resourceMap.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Schemes = void 0;\nexports.Schemes = Object.freeze({\n    file: 'file',\n    untitled: 'untitled',\n});\n//# sourceMappingURL=schemes.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.r = exports.isEmptyOrWhitespace = void 0;\nfunction isEmptyOrWhitespace(str) {\n    return /^\\s*$/.test(str);\n}\nexports.isEmptyOrWhitespace = isEmptyOrWhitespace;\nexports.r = String.raw;\n//# sourceMappingURL=string.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tryDecodeUri = void 0;\nfunction tryDecodeUri(str) {\n    try {\n        return decodeURI(str);\n    }\n    catch {\n        return str;\n    }\n}\nexports.tryDecodeUri = tryDecodeUri;\n//# sourceMappingURL=uri.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tryAppendMarkdownFileExtension = exports.statLinkToMarkdownFile = exports.openLinkToMarkdownFile = exports.getWorkspaceFolder = exports.isWorkspaceWithFileWatching = void 0;\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst config_1 = require(\"./config\");\nfunction isWorkspaceWithFileWatching(workspace) {\n    return 'watchFile' in workspace;\n}\nexports.isWorkspaceWithFileWatching = isWorkspaceWithFileWatching;\nfunction getWorkspaceFolder(workspace, docUri) {\n    if (workspace.workspaceFolders.length === 0) {\n        return undefined;\n    }\n    // Find the longest match\n    const possibleWorkspaces = workspace.workspaceFolders\n        .filter(folder => folder.scheme === docUri.scheme\n        && folder.authority === docUri.authority\n        && (docUri.fsPath.startsWith(folder.fsPath + '/') || docUri.fsPath.startsWith(folder.fsPath + '\\\\')))\n        .sort((a, b) => b.fsPath.length - a.fsPath.length);\n    if (possibleWorkspaces.length) {\n        return possibleWorkspaces[0];\n    }\n    // Default to first workspace\n    // TODO: Does this make sense?\n    return workspace.workspaceFolders[0];\n}\nexports.getWorkspaceFolder = getWorkspaceFolder;\nasync function openLinkToMarkdownFile(config, workspace, resource) {\n    try {\n        const doc = await workspace.openMarkdownDocument(resource);\n        if (doc) {\n            return doc;\n        }\n    }\n    catch {\n        // Noop\n    }\n    const dotMdResource = tryAppendMarkdownFileExtension(config, resource);\n    if (dotMdResource) {\n        return workspace.openMarkdownDocument(dotMdResource);\n    }\n    return undefined;\n}\nexports.openLinkToMarkdownFile = openLinkToMarkdownFile;\n/**\n * Check that a link to a file exists.\n *\n * @returns The resolved URI or `undefined` if the file does not exist.\n */\nasync function statLinkToMarkdownFile(config, workspace, linkUri, out_statCache) {\n    const exists = async (uri) => {\n        const result = await workspace.stat(uri);\n        out_statCache?.set(uri, { exists: !!result });\n        return !!result;\n    };\n    if (await exists(linkUri)) {\n        return linkUri;\n    }\n    // We don't think the file exists. See if we need to append `.md`\n    const dotMdResource = tryAppendMarkdownFileExtension(config, linkUri);\n    if (dotMdResource && await exists(dotMdResource)) {\n        return dotMdResource;\n    }\n    return undefined;\n}\nexports.statLinkToMarkdownFile = statLinkToMarkdownFile;\nfunction tryAppendMarkdownFileExtension(config, linkUri) {\n    const ext = vscode_uri_1.Utils.extname(linkUri).toLowerCase().replace(/^\\./, '');\n    if (config.markdownFileExtensions.includes(ext)) {\n        return linkUri;\n    }\n    if (ext === '' || !config.knownLinkedToFileExtensions.includes(ext)) {\n        return linkUri.with({ path: linkUri.path + '.' + (config.markdownFileExtensions[0] ?? config_1.defaultMarkdownFileExtension) });\n    }\n    return undefined;\n}\nexports.tryAppendMarkdownFileExtension = tryAppendMarkdownFileExtension;\n//# sourceMappingURL=workspace.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdWorkspaceInfoCache = exports.MdDocumentInfoCache = void 0;\nconst vscode_languageserver_1 = require(\"vscode-languageserver\");\nconst textDocument_1 = require(\"./types/textDocument\");\nconst dispose_1 = require(\"./util/dispose\");\nconst lazy_1 = require(\"./util/lazy\");\nconst resourceMap_1 = require(\"./util/resourceMap\");\n/**\n * Cache of information per-document in the workspace.\n *\n * The values are computed lazily and invalidated when the document changes.\n */\nclass MdDocumentInfoCache extends dispose_1.Disposable {\n    #cache = new resourceMap_1.ResourceMap();\n    #loadingDocuments = new resourceMap_1.ResourceMap();\n    #workspace;\n    #getValue;\n    constructor(workspace, getValue) {\n        super();\n        this.#workspace = workspace;\n        this.#getValue = getValue;\n        this._register(this.#workspace.onDidChangeMarkdownDocument(doc => this.#invalidate(doc)));\n        this._register(this.#workspace.onDidDeleteMarkdownDocument(this.#onDidDeleteDocument, this));\n    }\n    async get(resource) {\n        let existing = this.#cache.get(resource);\n        if (existing) {\n            return existing.value.value;\n        }\n        const doc = await this.#loadDocument(resource);\n        if (!doc) {\n            return undefined;\n        }\n        // Check if we have invalidated\n        existing = this.#cache.get(resource);\n        if (existing) {\n            return existing.value.value;\n        }\n        return this.#resetEntry(doc)?.value;\n    }\n    async getForDocument(document) {\n        const existing = this.#cache.get((0, textDocument_1.getDocUri)(document));\n        if (existing) {\n            return existing.value.value;\n        }\n        return this.#resetEntry(document).value;\n    }\n    #loadDocument(resource) {\n        const existing = this.#loadingDocuments.get(resource);\n        if (existing) {\n            return existing;\n        }\n        const p = this.#workspace.openMarkdownDocument(resource);\n        this.#loadingDocuments.set(resource, p);\n        p.finally(() => {\n            this.#loadingDocuments.delete(resource);\n        });\n        return p;\n    }\n    #resetEntry(document) {\n        // TODO: cancel old request?\n        const cts = new vscode_languageserver_1.CancellationTokenSource();\n        const value = (0, lazy_1.lazy)(() => this.#getValue(document, cts.token));\n        this.#cache.set((0, textDocument_1.getDocUri)(document), { value, cts });\n        return value;\n    }\n    #invalidate(document) {\n        if (this.#cache.has((0, textDocument_1.getDocUri)(document))) {\n            this.#resetEntry(document);\n        }\n    }\n    #onDidDeleteDocument(resource) {\n        const entry = this.#cache.get(resource);\n        if (entry) {\n            entry.cts.cancel();\n            entry.cts.dispose();\n            this.#cache.delete(resource);\n        }\n    }\n}\nexports.MdDocumentInfoCache = MdDocumentInfoCache;\n/**\n * Cache of information across all markdown files in the workspace.\n *\n * Unlike {@link MdDocumentInfoCache}, the entries here are computed eagerly for every file in the workspace.\n * However the computation of the values is still lazy.\n */\nclass MdWorkspaceInfoCache extends dispose_1.Disposable {\n    #cache = new resourceMap_1.ResourceMap();\n    #init;\n    #workspace;\n    #getValue;\n    constructor(workspace, getValue) {\n        super();\n        this.#workspace = workspace;\n        this.#getValue = getValue;\n        this._register(this.#workspace.onDidChangeMarkdownDocument(this.#onDidChangeDocument, this));\n        this._register(this.#workspace.onDidCreateMarkdownDocument(this.#onDidChangeDocument, this));\n        this._register(this.#workspace.onDidDeleteMarkdownDocument(this.#onDidDeleteDocument, this));\n    }\n    async entries() {\n        await this.#ensureInit();\n        return Promise.all(Array.from(this.#cache.entries(), async ([k, v]) => {\n            return [k, await v.value.value];\n        }));\n    }\n    async values() {\n        await this.#ensureInit();\n        return Promise.all(Array.from(this.#cache.entries(), x => x[1].value.value));\n    }\n    async getForDocs(docs) {\n        for (const doc of docs) {\n            if (!this.#cache.has((0, textDocument_1.getDocUri)(doc))) {\n                this.#update(doc);\n            }\n        }\n        return Promise.all(docs.map(doc => this.#cache.get((0, textDocument_1.getDocUri)(doc)).value.value));\n    }\n    async #ensureInit() {\n        if (!this.#init) {\n            this.#init = this.#populateCache();\n        }\n        await this.#init;\n    }\n    async #populateCache() {\n        const markdownDocuments = await this.#workspace.getAllMarkdownDocuments();\n        for (const document of markdownDocuments) {\n            if (!this.#cache.has((0, textDocument_1.getDocUri)(document))) {\n                this.#update(document);\n            }\n        }\n    }\n    #update(document) {\n        // TODO: cancel old request?\n        const cts = new vscode_languageserver_1.CancellationTokenSource();\n        this.#cache.set((0, textDocument_1.getDocUri)(document), {\n            value: (0, lazy_1.lazy)(() => this.#getValue(document, cts.token)),\n            cts\n        });\n    }\n    #onDidChangeDocument(document) {\n        this.#update(document);\n    }\n    #onDidDeleteDocument(resource) {\n        const entry = this.#cache.get(resource);\n        if (entry) {\n            entry.cts.cancel();\n            entry.cts.dispose();\n            this.#cache.delete(resource);\n        }\n    }\n}\nexports.MdWorkspaceInfoCache = MdWorkspaceInfoCache;\n//# sourceMappingURL=workspaceCache.js.map","var LIB;(()=>{\"use strict\";var t={470:t=>{function e(t){if(\"string\"!=typeof t)throw new TypeError(\"Path must be a string. Received \"+JSON.stringify(t))}function r(t,e){for(var r,n=\"\",o=0,i=-1,a=0,h=0;h<=t.length;++h){if(h<t.length)r=t.charCodeAt(h);else{if(47===r)break;r=47}if(47===r){if(i===h-1||1===a);else if(i!==h-1&&2===a){if(n.length<2||2!==o||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var s=n.lastIndexOf(\"/\");if(s!==n.length-1){-1===s?(n=\"\",o=0):o=(n=n.slice(0,s)).length-1-n.lastIndexOf(\"/\"),i=h,a=0;continue}}else if(2===n.length||1===n.length){n=\"\",o=0,i=h,a=0;continue}e&&(n.length>0?n+=\"/..\":n=\"..\",o=2)}else n.length>0?n+=\"/\"+t.slice(i+1,h):n=t.slice(i+1,h),o=h-i-1;i=h,a=0}else 46===r&&-1!==a?++a:a=-1}return n}var n={resolve:function(){for(var t,n=\"\",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a;i>=0?a=arguments[i]:(void 0===t&&(t=process.cwd()),a=t),e(a),0!==a.length&&(n=a+\"/\"+n,o=47===a.charCodeAt(0))}return n=r(n,!o),o?n.length>0?\"/\"+n:\"/\":n.length>0?n:\".\"},normalize:function(t){if(e(t),0===t.length)return\".\";var n=47===t.charCodeAt(0),o=47===t.charCodeAt(t.length-1);return 0!==(t=r(t,!n)).length||n||(t=\".\"),t.length>0&&o&&(t+=\"/\"),n?\"/\"+t:t},isAbsolute:function(t){return e(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return\".\";for(var t,r=0;r<arguments.length;++r){var o=arguments[r];e(o),o.length>0&&(void 0===t?t=o:t+=\"/\"+o)}return void 0===t?\".\":n.normalize(t)},relative:function(t,r){if(e(t),e(r),t===r)return\"\";if((t=n.resolve(t))===(r=n.resolve(r)))return\"\";for(var o=1;o<t.length&&47===t.charCodeAt(o);++o);for(var i=t.length,a=i-o,h=1;h<r.length&&47===r.charCodeAt(h);++h);for(var s=r.length-h,c=a<s?a:s,f=-1,u=0;u<=c;++u){if(u===c){if(s>c){if(47===r.charCodeAt(h+u))return r.slice(h+u+1);if(0===u)return r.slice(h+u)}else a>c&&(47===t.charCodeAt(o+u)?f=u:0===u&&(f=0));break}var l=t.charCodeAt(o+u);if(l!==r.charCodeAt(h+u))break;47===l&&(f=u)}var p=\"\";for(u=o+f+1;u<=i;++u)u!==i&&47!==t.charCodeAt(u)||(0===p.length?p+=\"..\":p+=\"/..\");return p.length>0?p+r.slice(h+f):(h+=f,47===r.charCodeAt(h)&&++h,r.slice(h))},_makeLong:function(t){return t},dirname:function(t){if(e(t),0===t.length)return\".\";for(var r=t.charCodeAt(0),n=47===r,o=-1,i=!0,a=t.length-1;a>=1;--a)if(47===(r=t.charCodeAt(a))){if(!i){o=a;break}}else i=!1;return-1===o?n?\"/\":\".\":n&&1===o?\"//\":t.slice(0,o)},basename:function(t,r){if(void 0!==r&&\"string\"!=typeof r)throw new TypeError('\"ext\" argument must be a string');e(t);var n,o=0,i=-1,a=!0;if(void 0!==r&&r.length>0&&r.length<=t.length){if(r.length===t.length&&r===t)return\"\";var h=r.length-1,s=-1;for(n=t.length-1;n>=0;--n){var c=t.charCodeAt(n);if(47===c){if(!a){o=n+1;break}}else-1===s&&(a=!1,s=n+1),h>=0&&(c===r.charCodeAt(h)?-1==--h&&(i=n):(h=-1,i=s))}return o===i?i=s:-1===i&&(i=t.length),t.slice(o,i)}for(n=t.length-1;n>=0;--n)if(47===t.charCodeAt(n)){if(!a){o=n+1;break}}else-1===i&&(a=!1,i=n+1);return-1===i?\"\":t.slice(o,i)},extname:function(t){e(t);for(var r=-1,n=0,o=-1,i=!0,a=0,h=t.length-1;h>=0;--h){var s=t.charCodeAt(h);if(47!==s)-1===o&&(i=!1,o=h+1),46===s?-1===r?r=h:1!==a&&(a=1):-1!==r&&(a=-1);else if(!i){n=h+1;break}}return-1===r||-1===o||0===a||1===a&&r===o-1&&r===n+1?\"\":t.slice(r,o)},format:function(t){if(null===t||\"object\"!=typeof t)throw new TypeError('The \"pathObject\" argument must be of type Object. Received type '+typeof t);return function(t,e){var r=e.dir||e.root,n=e.base||(e.name||\"\")+(e.ext||\"\");return r?r===e.root?r+n:r+\"/\"+n:n}(0,t)},parse:function(t){e(t);var r={root:\"\",dir:\"\",base:\"\",ext:\"\",name:\"\"};if(0===t.length)return r;var n,o=t.charCodeAt(0),i=47===o;i?(r.root=\"/\",n=1):n=0;for(var a=-1,h=0,s=-1,c=!0,f=t.length-1,u=0;f>=n;--f)if(47!==(o=t.charCodeAt(f)))-1===s&&(c=!1,s=f+1),46===o?-1===a?a=f:1!==u&&(u=1):-1!==a&&(u=-1);else if(!c){h=f+1;break}return-1===a||-1===s||0===u||1===u&&a===s-1&&a===h+1?-1!==s&&(r.base=r.name=0===h&&i?t.slice(1,s):t.slice(h,s)):(0===h&&i?(r.name=t.slice(1,a),r.base=t.slice(1,s)):(r.name=t.slice(h,a),r.base=t.slice(h,s)),r.ext=t.slice(a,s)),h>0?r.dir=t.slice(0,h-1):i&&(r.dir=\"/\"),r},sep:\"/\",delimiter:\":\",win32:null,posix:null};n.posix=n,t.exports=n}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})};var n={};(()=>{var t;if(r.r(n),r.d(n,{URI:()=>p,Utils:()=>_}),\"object\"==typeof process)t=\"win32\"===process.platform;else if(\"object\"==typeof navigator){var e=navigator.userAgent;t=e.indexOf(\"Windows\")>=0}var o,i,a=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},o(t,e)},function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Class extends value \"+String(e)+\" is not a constructor or null\");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),h=/^\\w[\\w\\d+.-]*$/,s=/^\\//,c=/^\\/\\//,f=\"\",u=\"/\",l=/^(([^:/?#]+?):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/,p=function(){function e(t,e,r,n,o,i){void 0===i&&(i=!1),\"object\"==typeof t?(this.scheme=t.scheme||f,this.authority=t.authority||f,this.path=t.path||f,this.query=t.query||f,this.fragment=t.fragment||f):(this.scheme=function(t,e){return t||e?t:\"file\"}(t,i),this.authority=e||f,this.path=function(t,e){switch(t){case\"https\":case\"http\":case\"file\":e?e[0]!==u&&(e=u+e):e=u}return e}(this.scheme,r||f),this.query=n||f,this.fragment=o||f,function(t,e){if(!t.scheme&&e)throw new Error('[UriError]: Scheme is missing: {scheme: \"\", authority: \"'.concat(t.authority,'\", path: \"').concat(t.path,'\", query: \"').concat(t.query,'\", fragment: \"').concat(t.fragment,'\"}'));if(t.scheme&&!h.test(t.scheme))throw new Error(\"[UriError]: Scheme contains illegal characters.\");if(t.path)if(t.authority){if(!s.test(t.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash (\"/\") character')}else if(c.test(t.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters (\"//\")')}(this,i))}return e.isUri=function(t){return t instanceof e||!!t&&\"string\"==typeof t.authority&&\"string\"==typeof t.fragment&&\"string\"==typeof t.path&&\"string\"==typeof t.query&&\"string\"==typeof t.scheme&&\"string\"==typeof t.fsPath&&\"function\"==typeof t.with&&\"function\"==typeof t.toString},Object.defineProperty(e.prototype,\"fsPath\",{get:function(){return b(this,!1)},enumerable:!1,configurable:!0}),e.prototype.with=function(t){if(!t)return this;var e=t.scheme,r=t.authority,n=t.path,o=t.query,i=t.fragment;return void 0===e?e=this.scheme:null===e&&(e=f),void 0===r?r=this.authority:null===r&&(r=f),void 0===n?n=this.path:null===n&&(n=f),void 0===o?o=this.query:null===o&&(o=f),void 0===i?i=this.fragment:null===i&&(i=f),e===this.scheme&&r===this.authority&&n===this.path&&o===this.query&&i===this.fragment?this:new d(e,r,n,o,i)},e.parse=function(t,e){void 0===e&&(e=!1);var r=l.exec(t);return r?new d(r[2]||f,x(r[4]||f),x(r[5]||f),x(r[7]||f),x(r[9]||f),e):new d(f,f,f,f,f)},e.file=function(e){var r=f;if(t&&(e=e.replace(/\\\\/g,u)),e[0]===u&&e[1]===u){var n=e.indexOf(u,2);-1===n?(r=e.substring(2),e=u):(r=e.substring(2,n),e=e.substring(n)||u)}return new d(\"file\",r,e,f,f)},e.from=function(t){return new d(t.scheme,t.authority,t.path,t.query,t.fragment)},e.prototype.toString=function(t){return void 0===t&&(t=!1),C(this,t)},e.prototype.toJSON=function(){return this},e.revive=function(t){if(t){if(t instanceof e)return t;var r=new d(t);return r._formatted=t.external,r._fsPath=t._sep===g?t.fsPath:null,r}return t},e}(),g=t?1:void 0,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._formatted=null,e._fsPath=null,e}return a(e,t),Object.defineProperty(e.prototype,\"fsPath\",{get:function(){return this._fsPath||(this._fsPath=b(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(t){return void 0===t&&(t=!1),t?C(this,!0):(this._formatted||(this._formatted=C(this,!1)),this._formatted)},e.prototype.toJSON=function(){var t={$mid:1};return this._fsPath&&(t.fsPath=this._fsPath,t._sep=g),this._formatted&&(t.external=this._formatted),this.path&&(t.path=this.path),this.scheme&&(t.scheme=this.scheme),this.authority&&(t.authority=this.authority),this.query&&(t.query=this.query),this.fragment&&(t.fragment=this.fragment),t},e}(p),v=((i={})[58]=\"%3A\",i[47]=\"%2F\",i[63]=\"%3F\",i[35]=\"%23\",i[91]=\"%5B\",i[93]=\"%5D\",i[64]=\"%40\",i[33]=\"%21\",i[36]=\"%24\",i[38]=\"%26\",i[39]=\"%27\",i[40]=\"%28\",i[41]=\"%29\",i[42]=\"%2A\",i[43]=\"%2B\",i[44]=\"%2C\",i[59]=\"%3B\",i[61]=\"%3D\",i[32]=\"%20\",i);function y(t,e){for(var r=void 0,n=-1,o=0;o<t.length;o++){var i=t.charCodeAt(o);if(i>=97&&i<=122||i>=65&&i<=90||i>=48&&i<=57||45===i||46===i||95===i||126===i||e&&47===i)-1!==n&&(r+=encodeURIComponent(t.substring(n,o)),n=-1),void 0!==r&&(r+=t.charAt(o));else{void 0===r&&(r=t.substr(0,o));var a=v[i];void 0!==a?(-1!==n&&(r+=encodeURIComponent(t.substring(n,o)),n=-1),r+=a):-1===n&&(n=o)}}return-1!==n&&(r+=encodeURIComponent(t.substring(n))),void 0!==r?r:t}function m(t){for(var e=void 0,r=0;r<t.length;r++){var n=t.charCodeAt(r);35===n||63===n?(void 0===e&&(e=t.substr(0,r)),e+=v[n]):void 0!==e&&(e+=t[r])}return void 0!==e?e:t}function b(e,r){var n;return n=e.authority&&e.path.length>1&&\"file\"===e.scheme?\"//\".concat(e.authority).concat(e.path):47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?r?e.path.substr(1):e.path[1].toLowerCase()+e.path.substr(2):e.path,t&&(n=n.replace(/\\//g,\"\\\\\")),n}function C(t,e){var r=e?m:y,n=\"\",o=t.scheme,i=t.authority,a=t.path,h=t.query,s=t.fragment;if(o&&(n+=o,n+=\":\"),(i||\"file\"===o)&&(n+=u,n+=u),i){var c=i.indexOf(\"@\");if(-1!==c){var f=i.substr(0,c);i=i.substr(c+1),-1===(c=f.indexOf(\":\"))?n+=r(f,!1):(n+=r(f.substr(0,c),!1),n+=\":\",n+=r(f.substr(c+1),!1)),n+=\"@\"}-1===(c=(i=i.toLowerCase()).indexOf(\":\"))?n+=r(i,!1):(n+=r(i.substr(0,c),!1),n+=i.substr(c))}if(a){if(a.length>=3&&47===a.charCodeAt(0)&&58===a.charCodeAt(2))(l=a.charCodeAt(1))>=65&&l<=90&&(a=\"/\".concat(String.fromCharCode(l+32),\":\").concat(a.substr(3)));else if(a.length>=2&&58===a.charCodeAt(1)){var l;(l=a.charCodeAt(0))>=65&&l<=90&&(a=\"\".concat(String.fromCharCode(l+32),\":\").concat(a.substr(2)))}n+=r(a,!0)}return h&&(n+=\"?\",n+=r(h,!1)),s&&(n+=\"#\",n+=e?s:y(s,!1)),n}function A(t){try{return decodeURIComponent(t)}catch(e){return t.length>3?t.substr(0,3)+A(t.substr(3)):t}}var w=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function x(t){return t.match(w)?t.replace(w,(function(t){return A(t)})):t}var _,O=r(470),P=function(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))},j=O.posix||O,U=\"/\";!function(t){t.joinPath=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return t.with({path:j.join.apply(j,P([t.path],e,!1))})},t.resolvePath=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=t.path,o=!1;n[0]!==U&&(n=U+n,o=!0);var i=j.resolve.apply(j,P([n],e,!1));return o&&i[0]===U&&!t.authority&&(i=i.substring(1)),t.with({path:i})},t.dirname=function(t){if(0===t.path.length||t.path===U)return t;var e=j.dirname(t.path);return 1===e.length&&46===e.charCodeAt(0)&&(e=\"\"),t.with({path:e})},t.basename=function(t){return j.basename(t.path)},t.extname=function(t){return j.extname(t.path)}}(_||(_={}))})(),LIB=n})();export const{URI,Utils}=LIB;\n//# sourceMappingURL=index.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { LsConfiguration } from 'vscode-markdown-languageservice';\n\nexport { LsConfiguration };\n\nconst defaultConfig: LsConfiguration = {\n\tmarkdownFileExtensions: ['md'],\n\tknownLinkedToFileExtensions: [\n\t\t'jpg',\n\t\t'jpeg',\n\t\t'png',\n\t\t'gif',\n\t\t'webp',\n\t\t'bmp',\n\t\t'tiff',\n\t],\n\texcludePaths: [\n\t\t'**/.*',\n\t\t'**/node_modules/**',\n\t]\n};\n\nexport function getLsConfiguration(overrides: Partial<LsConfiguration>): LsConfiguration {\n\treturn {\n\t\t...defaultConfig,\n\t\t...overrides,\n\t};\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Connection, Emitter } from 'vscode-languageserver';\nimport { Disposable } from './util/dispose';\n\nexport type ValidateEnabled = 'ignore' | 'warning' | 'error' | 'hint';\n\nexport interface Settings {\n\treadonly markdown: {\n\t\treadonly occurrencesHighlight: {\n\t\t\treadonly enabled: boolean;\n\t\t};\n\n\t\treadonly suggest: {\n\t\t\treadonly paths: {\n\t\t\t\treadonly enabled: boolean;\n\t\t\t};\n\t\t};\n\n\t\treadonly validate: {\n\t\t\treadonly enabled: true;\n\t\t\treadonly referenceLinks: {\n\t\t\t\treadonly enabled: ValidateEnabled;\n\t\t\t};\n\t\t\treadonly fragmentLinks: {\n\t\t\t\treadonly enabled: ValidateEnabled;\n\t\t\t};\n\t\t\treadonly fileLinks: {\n\t\t\t\treadonly enabled: ValidateEnabled;\n\t\t\t\treadonly markdownFragmentLinks: ValidateEnabled | 'inherit';\n\t\t\t};\n\t\t\treadonly ignoredLinks: readonly string[];\n\t\t\treadonly unusedLinkDefinitions: {\n\t\t\t\treadonly enabled: ValidateEnabled;\n\t\t\t};\n\t\t\treadonly duplicateLinkDefinitions: {\n\t\t\t\treadonly enabled: ValidateEnabled;\n\t\t\t};\n\t\t};\n\t};\n}\n\n\nexport class ConfigurationManager extends Disposable {\n\n\tprivate readonly f = this.c(new Emitter<Settings>());\n\tpublic readonly onDidChangeConfiguration = this.f.event;\n\n\tprivate g?: Settings;\n\n\tconstructor(connection: Connection) {\n\t\tsuper();\n\n\t\t// The settings have changed. Is send on server activation as well.\n\t\tthis.c(connection.onDidChangeConfiguration((change) => {\n\t\t\tthis.g = change.settings;\n\t\t\tthis.f.fire(this.g!);\n\t\t}));\n\t}\n\n\tpublic getSettings(): Settings | undefined {\n\t\treturn this.g;\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Connection, FullDocumentDiagnosticReport, TextDocuments, UnchangedDocumentDiagnosticReport } from 'vscode-languageserver';\nimport * as md from 'vscode-markdown-languageservice';\nimport { Disposable } from 'vscode-notebook-renderer/events';\nimport { URI } from 'vscode-uri';\nimport { ConfigurationManager, ValidateEnabled } from '../configuration';\nimport { disposeAll } from '../util/dispose';\n\nconst defaultDiagnosticOptions: md.DiagnosticOptions = {\n\tvalidateFileLinks: md.DiagnosticLevel.ignore,\n\tvalidateReferences: md.DiagnosticLevel.ignore,\n\tvalidateFragmentLinks: md.DiagnosticLevel.ignore,\n\tvalidateMarkdownFileLinkFragments: md.DiagnosticLevel.ignore,\n\tvalidateUnusedLinkDefinitions: md.DiagnosticLevel.ignore,\n\tvalidateDuplicateLinkDefinitions: md.DiagnosticLevel.ignore,\n\tignoreLinks: [],\n};\n\nfunction convertDiagnosticLevel(enabled: ValidateEnabled): md.DiagnosticLevel | undefined {\n\tswitch (enabled) {\n\t\tcase 'error': return md.DiagnosticLevel.error;\n\t\tcase 'warning': return md.DiagnosticLevel.warning;\n\t\tcase 'ignore': return md.DiagnosticLevel.ignore;\n\t\tcase 'hint': return md.DiagnosticLevel.hint;\n\t\tdefault: return md.DiagnosticLevel.ignore;\n\t}\n}\n\nfunction getDiagnosticsOptions(config: ConfigurationManager): md.DiagnosticOptions {\n\tconst settings = config.getSettings();\n\tif (!settings) {\n\t\treturn defaultDiagnosticOptions;\n\t}\n\n\tconst validateFragmentLinks = convertDiagnosticLevel(settings.markdown.validate.fragmentLinks.enabled);\n\treturn {\n\t\tvalidateFileLinks: convertDiagnosticLevel(settings.markdown.validate.fileLinks.enabled),\n\t\tvalidateReferences: convertDiagnosticLevel(settings.markdown.validate.referenceLinks.enabled),\n\t\tvalidateFragmentLinks: convertDiagnosticLevel(settings.markdown.validate.fragmentLinks.enabled),\n\t\tvalidateMarkdownFileLinkFragments: settings.markdown.validate.fileLinks.markdownFragmentLinks === 'inherit' ? validateFragmentLinks : convertDiagnosticLevel(settings.markdown.validate.fileLinks.markdownFragmentLinks),\n\t\tvalidateUnusedLinkDefinitions: convertDiagnosticLevel(settings.markdown.validate.unusedLinkDefinitions.enabled),\n\t\tvalidateDuplicateLinkDefinitions: convertDiagnosticLevel(settings.markdown.validate.duplicateLinkDefinitions.enabled),\n\t\tignoreLinks: settings.markdown.validate.ignoredLinks,\n\t};\n}\n\nexport function registerValidateSupport(\n\tconnection: Connection,\n\tworkspace: md.IWorkspace,\n\tdocuments: TextDocuments<md.ITextDocument>,\n\tls: md.IMdLanguageService,\n\tconfig: ConfigurationManager,\n\tlogger: md.ILogger,\n): Disposable {\n\tlet diagnosticOptions: md.DiagnosticOptions = defaultDiagnosticOptions;\n\tfunction updateDiagnosticsSetting(): void {\n\t\tdiagnosticOptions = getDiagnosticsOptions(config);\n\t}\n\n\tconst subs: Disposable[] = [];\n\tconst manager = ls.createPullDiagnosticsManager();\n\tsubs.push(manager);\n\n\tsubs.push(manager.onLinkedToFileChanged(() => {\n\t\t// TODO: We only need to refresh certain files\n\t\tconnection.languages.diagnostics.refresh();\n\t}));\n\n\tconst emptyDiagnosticsResponse = Object.freeze({ kind: 'full', items: [] });\n\n\tconnection.languages.diagnostics.on(async (params, token): Promise<FullDocumentDiagnosticReport | UnchangedDocumentDiagnosticReport> => {\n\t\tlogger.log(md.LogLevel.Trace, 'Server: connection.languages.diagnostics.on', params.textDocument.uri);\n\n\t\tif (!config.getSettings()?.markdown.validate.enabled) {\n\t\t\treturn emptyDiagnosticsResponse;\n\t\t}\n\n\t\tconst uri = URI.parse(params.textDocument.uri);\n\t\tif (!workspace.hasMarkdownDocument(uri)) {\n\t\t\treturn emptyDiagnosticsResponse;\n\t\t}\n\n\t\tconst document = await workspace.openMarkdownDocument(uri);\n\t\tif (!document) {\n\t\t\treturn emptyDiagnosticsResponse;\n\t\t}\n\n\t\tconst diagnostics = await manager.computeDiagnostics(document, diagnosticOptions, token);\n\t\treturn {\n\t\t\tkind: 'full',\n\t\t\titems: diagnostics,\n\t\t};\n\t});\n\n\tupdateDiagnosticsSetting();\n\tsubs.push(config.onDidChangeConfiguration(() => {\n\t\tupdateDiagnosticsSetting();\n\t\tconnection.languages.diagnostics.refresh();\n\t}));\n\n\tsubs.push(documents.onDidClose(e => {\n\t\tmanager.disposeDocumentResources(URI.parse(e.document.uri));\n\t}));\n\n\treturn {\n\t\tdispose: () => {\n\t\t\tdisposeAll(subs);\n\t\t}\n\t};\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ILogger, LogLevel } from 'vscode-markdown-languageservice';\n\nexport class LogFunctionLogger implements ILogger {\n\n\tprivate static a(): string {\n\t\tconst now = new Date();\n\t\treturn String(now.getUTCHours()).padStart(2, '0')\n\t\t\t+ ':' + String(now.getMinutes()).padStart(2, '0')\n\t\t\t+ ':' + String(now.getUTCSeconds()).padStart(2, '0') + '.' + String(now.getMilliseconds()).padStart(3, '0');\n\t}\n\n\tprivate static b(data: any): string {\n\t\tif (data instanceof Error) {\n\t\t\tif (typeof data.stack === 'string') {\n\t\t\t\treturn data.stack;\n\t\t\t}\n\t\t\treturn data.message;\n\t\t}\n\t\tif (typeof data === 'string') {\n\t\t\treturn data;\n\t\t}\n\t\treturn JSON.stringify(data, undefined, 2);\n\t}\n\n\tconstructor(\n\t\tprivate readonly c: typeof console.log\n\t) { }\n\n\n\tpublic log(level: LogLevel, title: string, message: string, data?: any): void {\n\t\tthis.d(`[${level} ${LogFunctionLogger.a()}] ${title}: ${message}`);\n\t\tif (data) {\n\t\t\tthis.d(LogFunctionLogger.b(data));\n\t\t}\n\t}\n\n\tprivate d(value: string): void {\n\t\tthis.c(value);\n\t}\n}\n\nexport const consoleLogger = new LogFunctionLogger(console.log);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { FileRename, RequestType } from 'vscode-languageserver';\nimport type * as lsp from 'vscode-languageserver-types';\nimport type * as md from 'vscode-markdown-languageservice';\n\n//#region From server\nexport const parse = new RequestType<{ uri: string }, md.Token[], any>('markdown/parse');\n\nexport const fs_readFile = new RequestType<{ uri: string }, number[], any>('markdown/fs/readFile');\nexport const fs_readDirectory = new RequestType<{ uri: string }, [string, { isDirectory: boolean }][], any>('markdown/fs/readDirectory');\nexport const fs_stat = new RequestType<{ uri: string }, { isDirectory: boolean } | undefined, any>('markdown/fs/stat');\n\nexport const fs_watcher_create = new RequestType<{ id: number; uri: string; options: md.FileWatcherOptions; watchParentDirs: boolean }, void, any>('markdown/fs/watcher/create');\nexport const fs_watcher_delete = new RequestType<{ id: number }, void, any>('markdown/fs/watcher/delete');\n\nexport const findMarkdownFilesInWorkspace = new RequestType<{}, string[], any>('markdown/findMarkdownFilesInWorkspace');\n//#endregion\n\n//#region To server\nexport const getReferencesToFileInWorkspace = new RequestType<{ uri: string }, lsp.Location[], any>('markdown/getReferencesToFileInWorkspace');\nexport const getEditForFileRenames = new RequestType<FileRename[], { participatingRenames: readonly FileRename[]; edit: lsp.WorkspaceEdit }, any>('markdown/getEditForFileRenames');\n\nexport const fs_watcher_onChange = new RequestType<{ id: number; uri: string; kind: 'create' | 'change' | 'delete' }, void, any>('markdown/fs/watcher/onChange');\n\nexport const resolveLinkTarget = new RequestType<{ linkText: string; uri: string }, md.ResolvedDocumentLinkTarget, any>('markdown/resolveLinkTarget');\n//#endregion\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken, CompletionRegistrationOptions, CompletionRequest, Connection, Disposable, DocumentHighlightRegistrationOptions, DocumentHighlightRequest, InitializeParams, InitializeResult, NotebookDocuments, ResponseError, TextDocuments } from 'vscode-languageserver';\nimport { TextDocument } from 'vscode-languageserver-textdocument';\nimport * as lsp from 'vscode-languageserver-types';\nimport * as md from 'vscode-markdown-languageservice';\nimport { URI } from 'vscode-uri';\nimport { getLsConfiguration, LsConfiguration } from './config';\nimport { ConfigurationManager, Settings } from './configuration';\nimport { registerValidateSupport } from './languageFeatures/diagnostics';\nimport { LogFunctionLogger } from './logging';\nimport * as protocol from './protocol';\nimport { IDisposable } from './util/dispose';\nimport { VsCodeClientWorkspace } from './workspace';\nimport * as l10n from '@vscode/l10n';\n\ninterface MdServerInitializationOptions extends LsConfiguration { }\n\nconst organizeLinkDefKind = 'source.organizeLinkDefinitions';\n\nexport async function startVsCodeServer(connection: Connection) {\n\tconst logger = new LogFunctionLogger(connection.console.log.bind(connection.console));\n\n\tconst parser = new class implements md.IMdParser {\n\t\tslugifier = md.githubSlugifier;\n\n\t\ttokenize(document: md.ITextDocument): Promise<md.Token[]> {\n\t\t\treturn connection.sendRequest(protocol.parse, { uri: document.uri.toString() });\n\t\t}\n\t};\n\n\tconst documents = new TextDocuments(TextDocument);\n\tconst notebooks = new NotebookDocuments(documents);\n\n\tconst workspaceFactory: WorkspaceFactory = ({ connection, config, workspaceFolders }) => {\n\t\tconst workspace = new VsCodeClientWorkspace(connection, config, documents, notebooks, logger);\n\t\tworkspace.workspaceFolders = (workspaceFolders ?? []).map(x => URI.parse(x.uri));\n\t\treturn workspace;\n\t};\n\n\treturn startServer(connection, { documents, notebooks, logger, parser, workspaceFactory });\n}\n\ntype WorkspaceFactory = (config: {\n\tconnection: Connection;\n\tconfig: LsConfiguration;\n\tworkspaceFolders?: lsp.WorkspaceFolder[] | null;\n}) => md.IWorkspace;\n\nexport async function startServer(connection: Connection, serverConfig: {\n\tdocuments: TextDocuments<md.ITextDocument>;\n\tnotebooks?: NotebookDocuments<md.ITextDocument>;\n\tlogger: md.ILogger;\n\tparser: md.IMdParser;\n\tworkspaceFactory: WorkspaceFactory;\n}) {\n\tconst { documents, notebooks } = serverConfig;\n\n\tlet mdLs: md.IMdLanguageService | undefined;\n\n\tconnection.onInitialize((params: InitializeParams): InitializeResult => {\n\t\tconst initOptions = params.initializationOptions as MdServerInitializationOptions | undefined;\n\t\tconst config = getLsConfiguration(initOptions ?? {});\n\n\t\tconst configurationManager = new ConfigurationManager(connection);\n\n\t\tconst workspace = serverConfig.workspaceFactory({ connection, config, workspaceFolders: params.workspaceFolders });\n\t\tmdLs = md.createLanguageService({\n\t\t\tworkspace,\n\t\t\tparser: serverConfig.parser,\n\t\t\tlogger: serverConfig.logger,\n\t\t\tmarkdownFileExtensions: config.markdownFileExtensions,\n\t\t\texcludePaths: config.excludePaths,\n\t\t});\n\n\t\tregisterCompletionsSupport(connection, documents, mdLs, configurationManager);\n\t\tregisterDocumentHighlightSupport(connection, documents, mdLs, configurationManager);\n\t\tregisterValidateSupport(connection, workspace, documents, mdLs, configurationManager, serverConfig.logger);\n\n\t\treturn {\n\t\t\tcapabilities: {\n\t\t\t\tdiagnosticProvider: {\n\t\t\t\t\tdocumentSelector: null,\n\t\t\t\t\tidentifier: 'markdown',\n\t\t\t\t\tinterFileDependencies: true,\n\t\t\t\t\tworkspaceDiagnostics: false,\n\t\t\t\t},\n\t\t\t\tcodeActionProvider: { resolveProvider: true },\n\t\t\t\tdefinitionProvider: true,\n\t\t\t\tdocumentLinkProvider: { resolveProvider: true },\n\t\t\t\tdocumentSymbolProvider: true,\n\t\t\t\tfoldingRangeProvider: true,\n\t\t\t\treferencesProvider: true,\n\t\t\t\trenameProvider: { prepareProvider: true, },\n\t\t\t\tselectionRangeProvider: true,\n\t\t\t\tworkspaceSymbolProvider: true,\n\t\t\t\tworkspace: {\n\t\t\t\t\tworkspaceFolders: {\n\t\t\t\t\t\tsupported: true,\n\t\t\t\t\t\tchangeNotifications: true,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t});\n\n\tconnection.onDocumentLinks(async (params, token): Promise<lsp.DocumentLink[]> => {\n\t\tconst document = documents.get(params.textDocument.uri);\n\t\tif (!document) {\n\t\t\treturn [];\n\t\t}\n\t\treturn mdLs!.getDocumentLinks(document, token);\n\t});\n\n\tconnection.onDocumentLinkResolve(async (link, token): Promise<lsp.DocumentLink | undefined> => {\n\t\treturn mdLs!.resolveDocumentLink(link, token);\n\t});\n\n\tconnection.onDocumentSymbol(async (params, token): Promise<lsp.DocumentSymbol[]> => {\n\t\tconst document = documents.get(params.textDocument.uri);\n\t\tif (!document) {\n\t\t\treturn [];\n\t\t}\n\t\treturn mdLs!.getDocumentSymbols(document, { includeLinkDefinitions: true }, token);\n\t});\n\n\tconnection.onFoldingRanges(async (params, token): Promise<lsp.FoldingRange[]> => {\n\t\tconst document = documents.get(params.textDocument.uri);\n\t\tif (!document) {\n\t\t\treturn [];\n\t\t}\n\t\treturn mdLs!.getFoldingRanges(document, token);\n\t});\n\n\tconnection.onSelectionRanges(async (params, token): Promise<lsp.SelectionRange[] | undefined> => {\n\t\tconst document = documents.get(params.textDocument.uri);\n\t\tif (!document) {\n\t\t\treturn [];\n\t\t}\n\t\treturn mdLs!.getSelectionRanges(document, params.positions, token);\n\t});\n\n\tconnection.onWorkspaceSymbol(async (params, token): Promise<lsp.WorkspaceSymbol[]> => {\n\t\treturn mdLs!.getWorkspaceSymbols(params.query, token);\n\t});\n\n\tconnection.onReferences(async (params, token): Promise<lsp.Location[]> => {\n\t\tconst document = documents.get(params.textDocument.uri);\n\t\tif (!document) {\n\t\t\treturn [];\n\t\t}\n\t\treturn mdLs!.getReferences(document, params.position, params.context, token);\n\t});\n\n\tconnection.onDefinition(async (params, token): Promise<lsp.Definition | undefined> => {\n\t\tconst document = documents.get(params.textDocument.uri);\n\t\tif (!document) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn mdLs!.getDefinition(document, params.position, token);\n\t});\n\n\tconnection.onPrepareRename(async (params, token) => {\n\t\tconst document = documents.get(params.textDocument.uri);\n\t\tif (!document) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\ttry {\n\t\t\treturn await mdLs!.prepareRename(document, params.position, token);\n\t\t} catch (e) {\n\t\t\tif (e instanceof md.RenameNotSupportedAtLocationError) {\n\t\t\t\tthrow new ResponseError(0, e.message);\n\t\t\t} else {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t}\n\t});\n\n\tconnection.onRenameRequest(async (params, token) => {\n\t\tconst document = documents.get(params.textDocument.uri);\n\t\tif (!document) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn mdLs!.getRenameEdit(document, params.position, params.newName, token);\n\t});\n\n\tinterface OrganizeLinkActionData {\n\t\treadonly uri: string;\n\t}\n\n\tconnection.onCodeAction(async (params, token) => {\n\t\tconst document = documents.get(params.textDocument.uri);\n\t\tif (!document) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (params.context.only?.some(kind => kind === 'source' || kind.startsWith('source.'))) {\n\t\t\tconst action: lsp.CodeAction = {\n\t\t\t\ttitle: l10n.t(\"Organize link definitions\"),\n\t\t\t\tkind: organizeLinkDefKind,\n\t\t\t\tdata: <OrganizeLinkActionData>{ uri: document.uri }\n\t\t\t};\n\t\t\treturn [action];\n\t\t}\n\n\t\treturn mdLs!.getCodeActions(document, params.range, params.context, token);\n\t});\n\n\tconnection.onCodeActionResolve(async (codeAction, token) => {\n\t\tif (codeAction.kind === organizeLinkDefKind) {\n\t\t\tconst data = codeAction.data as OrganizeLinkActionData;\n\t\t\tconst document = documents.get(data.uri);\n\t\t\tif (!document) {\n\t\t\t\treturn codeAction;\n\t\t\t}\n\n\t\t\tconst edits = (await mdLs?.organizeLinkDefinitions(document, { removeUnused: true }, token)) || [];\n\t\t\tcodeAction.edit = {\n\t\t\t\tchanges: {\n\t\t\t\t\t[data.uri]: edits\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn codeAction;\n\t\t}\n\n\t\treturn codeAction;\n\t});\n\n\tconnection.onRequest(protocol.getReferencesToFileInWorkspace, (async (params: { uri: string }, token: CancellationToken) => {\n\t\treturn mdLs!.getFileReferences(URI.parse(params.uri), token);\n\t}));\n\n\tconnection.onRequest(protocol.getEditForFileRenames, (async (params, token: CancellationToken) => {\n\t\tconst result = await mdLs!.getRenameFilesInWorkspaceEdit(params.map(x => ({ oldUri: URI.parse(x.oldUri), newUri: URI.parse(x.newUri) })), token);\n\t\tif (!result) {\n\t\t\treturn result;\n\t\t}\n\n\t\treturn {\n\t\t\tedit: result.edit,\n\t\t\tparticipatingRenames: result.participatingRenames.map(rename => ({ oldUri: rename.oldUri.toString(), newUri: rename.newUri.toString() }))\n\t\t};\n\t}));\n\n\tconnection.onRequest(protocol.resolveLinkTarget, (async (params, token: CancellationToken) => {\n\t\treturn mdLs!.resolveLinkTarget(params.linkText, URI.parse(params.uri), token);\n\t}));\n\n\tdocuments.listen(connection);\n\tnotebooks?.listen(connection);\n\tconnection.listen();\n}\n\nfunction registerDynamicClientFeature(\n\tconfig: ConfigurationManager,\n\tisEnabled: (settings: Settings | undefined) => boolean,\n\tregister: () => Promise<Disposable>,\n) {\n\tlet registration: Promise<IDisposable> | undefined;\n\tfunction update() {\n\t\tconst settings = config.getSettings();\n\t\tif (isEnabled(settings)) {\n\t\t\tif (!registration) {\n\t\t\t\tregistration = register();\n\t\t\t}\n\t\t} else {\n\t\t\tregistration?.then(x => x.dispose());\n\t\t\tregistration = undefined;\n\t\t}\n\t}\n\n\tupdate();\n\treturn config.onDidChangeConfiguration(() => update());\n}\n\nfunction registerCompletionsSupport(\n\tconnection: Connection,\n\tdocuments: TextDocuments<md.ITextDocument>,\n\tls: md.IMdLanguageService,\n\tconfig: ConfigurationManager,\n): IDisposable {\n\tconnection.onCompletion(async (params, token): Promise<lsp.CompletionItem[]> => {\n\t\tconst settings = config.getSettings();\n\t\tif (!settings?.markdown.suggest.paths.enabled) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst document = documents.get(params.textDocument.uri);\n\t\tif (document) {\n\t\t\treturn ls.getCompletionItems(document, params.position, params.context!, token);\n\t\t}\n\t\treturn [];\n\t});\n\n\treturn registerDynamicClientFeature(config, (settings) => !!settings?.markdown.suggest.paths.enabled, () => {\n\t\tconst registrationOptions: CompletionRegistrationOptions = {\n\t\t\tdocumentSelector: null,\n\t\t\ttriggerCharacters: ['.', '/', '#'],\n\t\t};\n\t\treturn connection.client.register(CompletionRequest.type, registrationOptions);\n\t});\n}\n\nfunction registerDocumentHighlightSupport(\n\tconnection: Connection,\n\tdocuments: TextDocuments<md.ITextDocument>,\n\tmdLs: md.IMdLanguageService,\n\tconfigurationManager: ConfigurationManager\n) {\n\tconnection.onDocumentHighlight(async (params, token) => {\n\t\tconst settings = configurationManager.getSettings();\n\t\tif (!settings?.markdown.occurrencesHighlight.enabled) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst document = documents.get(params.textDocument.uri);\n\t\tif (!document) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn mdLs!.getDocumentHighlights(document, params.position, token);\n\t});\n\n\treturn registerDynamicClientFeature(configurationManager, (settings) => !!settings?.markdown.occurrencesHighlight.enabled, () => {\n\t\tconst registrationOptions: DocumentHighlightRegistrationOptions = {\n\t\t\tdocumentSelector: null,\n\t\t};\n\t\treturn connection.client.register(DocumentHighlightRequest.type, registrationOptions);\n\t});\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nexport function disposeAll(disposables: Iterable<IDisposable>) {\n\tconst errors: any[] = [];\n\n\tfor (const disposable of disposables) {\n\t\ttry {\n\t\t\tdisposable.dispose();\n\t\t} catch (e) {\n\t\t\terrors.push(e);\n\t\t}\n\t}\n\n\tif (errors.length === 1) {\n\t\tthrow errors[0];\n\t} else if (errors.length > 1) {\n\t\tthrow new AggregateError(errors, 'Encountered errors while disposing of store');\n\t}\n}\n\nexport interface IDisposable {\n\tdispose(): void;\n}\n\nexport abstract class Disposable {\n\tprivate a = false;\n\n\tprotected b: IDisposable[] = [];\n\n\tpublic dispose(): any {\n\t\tif (this.a) {\n\t\t\treturn;\n\t\t}\n\t\tthis.a = true;\n\t\tdisposeAll(this.b);\n\t}\n\n\tprotected c<T extends IDisposable>(value: T): T {\n\t\tif (this.a) {\n\t\t\tvalue.dispose();\n\t\t} else {\n\t\t\tthis.b.push(value);\n\t\t}\n\t\treturn value;\n\t}\n\n\tprotected get d() {\n\t\treturn this.a;\n\t}\n}\n\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { TextDocument } from 'vscode-languageserver-textdocument';\nimport { URI, Utils } from 'vscode-uri';\nimport { LsConfiguration } from '../config';\n\nexport function looksLikeMarkdownPath(config: LsConfiguration, resolvedHrefPath: URI) {\n\treturn config.markdownFileExtensions.includes(Utils.extname(resolvedHrefPath).toLowerCase().replace('.', ''));\n}\n\nexport function isMarkdownFile(document: TextDocument) {\n\treturn document.languageId === 'markdown';\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\ninterface ILimitedTaskFactory<T> {\n\tfactory: ITask<Promise<T>>;\n\tc: (value: T | Promise<T>) => void;\n\te: (error?: unknown) => void;\n}\n\ninterface ITask<T> {\n\t(): T;\n}\n\n/**\n * A helper to queue N promises and run them all with a max degree of parallelism. The helper\n * ensures that at any time no more than M promises are running at the same time.\n *\n * Taken from 'src/vs/base/common/async.ts'\n */\nexport class Limiter<T> {\n\n\tprivate a = 0;\n\tprivate b: number;\n\tprivate readonly d: number;\n\tprivate readonly f: ILimitedTaskFactory<T>[];\n\n\tconstructor(maxDegreeOfParalellism: number) {\n\t\tthis.d = maxDegreeOfParalellism;\n\t\tthis.f = [];\n\t\tthis.b = 0;\n\t}\n\n\tget size(): number {\n\t\treturn this.a;\n\t}\n\n\tqueue(factory: ITask<Promise<T>>): Promise<T> {\n\t\tthis.a++;\n\n\t\treturn new Promise<T>((c, e) => {\n\t\t\tthis.f.push({ factory, c, e });\n\t\t\tthis.g();\n\t\t});\n\t}\n\n\tprivate g(): void {\n\t\twhile (this.f.length && this.b < this.d) {\n\t\t\tconst iLimitedTask = this.f.shift()!;\n\t\t\tthis.b++;\n\n\t\t\tconst promise = iLimitedTask.factory();\n\t\t\tpromise.then(iLimitedTask.c, iLimitedTask.e);\n\t\t\tpromise.then(() => this.h(), () => this.h());\n\t\t}\n\t}\n\n\tprivate h(): void {\n\t\tthis.a--;\n\t\tthis.b--;\n\n\t\tif (this.f.length > 0) {\n\t\t\tthis.g();\n\t\t}\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { URI } from 'vscode-uri';\n\n\ntype ResourceToKey = (uri: URI) => string;\n\nconst defaultResourceToKey = (resource: URI): string => resource.toString();\n\nexport class ResourceMap<T> {\n\n\tprivate readonly a = new Map<string, { readonly uri: URI; readonly value: T }>();\n\n\tprivate readonly b: ResourceToKey;\n\n\tconstructor(toKey: ResourceToKey = defaultResourceToKey) {\n\t\tthis.b = toKey;\n\t}\n\n\tpublic set(uri: URI, value: T): this {\n\t\tthis.a.set(this.b(uri), { uri, value });\n\t\treturn this;\n\t}\n\n\tpublic get(resource: URI): T | undefined {\n\t\treturn this.a.get(this.b(resource))?.value;\n\t}\n\n\tpublic has(resource: URI): boolean {\n\t\treturn this.a.has(this.b(resource));\n\t}\n\n\tpublic get size(): number {\n\t\treturn this.a.size;\n\t}\n\n\tpublic clear(): void {\n\t\tthis.a.clear();\n\t}\n\n\tpublic delete(resource: URI): boolean {\n\t\treturn this.a.delete(this.b(resource));\n\t}\n\n\tpublic *values(): IterableIterator<T> {\n\t\tfor (const entry of this.a.values()) {\n\t\t\tyield entry.value;\n\t\t}\n\t}\n\n\tpublic *keys(): IterableIterator<URI> {\n\t\tfor (const entry of this.a.values()) {\n\t\t\tyield entry.uri;\n\t\t}\n\t}\n\n\tpublic *entries(): IterableIterator<[URI, T]> {\n\t\tfor (const entry of this.a.values()) {\n\t\t\tyield [entry.uri, entry.value];\n\t\t}\n\t}\n\n\tpublic [Symbol.iterator](): IterableIterator<[URI, T]> {\n\t\treturn this.entries();\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nexport const Schemes = Object.freeze({\n\tnotebookCell: 'vscode-notebook-cell',\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Connection, Emitter, FileChangeType, NotebookDocuments, Position, Range, TextDocuments } from 'vscode-languageserver';\nimport { TextDocument } from 'vscode-languageserver-textdocument';\nimport * as md from 'vscode-markdown-languageservice';\nimport { URI } from 'vscode-uri';\nimport { LsConfiguration } from './config';\nimport * as protocol from './protocol';\nimport { isMarkdownFile, looksLikeMarkdownPath } from './util/file';\nimport { Limiter } from './util/limiter';\nimport { ResourceMap } from './util/resourceMap';\nimport { Schemes } from './util/schemes';\n\ndeclare const TextDecoder: any;\n\nclass VsCodeDocument implements md.ITextDocument {\n\n\tprivate a?: TextDocument;\n\tprivate b?: TextDocument;\n\n\treadonly uri: string;\n\n\tconstructor(uri: string, init: { inMemoryDoc: TextDocument });\n\tconstructor(uri: string, init: { onDiskDoc: TextDocument });\n\tconstructor(uri: string, init: { inMemoryDoc?: TextDocument; onDiskDoc?: TextDocument }) {\n\t\tthis.uri = uri;\n\t\tthis.a = init?.inMemoryDoc;\n\t\tthis.b = init?.onDiskDoc;\n\t}\n\n\tget version(): number {\n\t\treturn this.a?.version ?? this.b?.version ?? 0;\n\t}\n\n\tget lineCount(): number {\n\t\treturn this.a?.lineCount ?? this.b?.lineCount ?? 0;\n\t}\n\n\tgetText(range?: Range): string {\n\t\tif (this.a) {\n\t\t\treturn this.a.getText(range);\n\t\t}\n\n\t\tif (this.b) {\n\t\t\treturn this.b.getText(range);\n\t\t}\n\n\t\tthrow new Error('Document has been closed');\n\t}\n\n\tpositionAt(offset: number): Position {\n\t\tif (this.a) {\n\t\t\treturn this.a.positionAt(offset);\n\t\t}\n\n\t\tif (this.b) {\n\t\t\treturn this.b.positionAt(offset);\n\t\t}\n\n\t\tthrow new Error('Document has been closed');\n\t}\n\n\thasInMemoryDoc(): boolean {\n\t\treturn !!this.a;\n\t}\n\n\tisDetached(): boolean {\n\t\treturn !this.b && !this.a;\n\t}\n\n\tsetInMemoryDoc(doc: TextDocument | undefined) {\n\t\tthis.a = doc;\n\t}\n\n\tsetOnDiskDoc(doc: TextDocument | undefined) {\n\t\tthis.b = doc;\n\t}\n}\n\nexport class VsCodeClientWorkspace implements md.IWorkspaceWithWatching {\n\n\tprivate readonly a = new Emitter<md.ITextDocument>();\n\tpublic readonly onDidCreateMarkdownDocument = this.a.event;\n\n\tprivate readonly b = new Emitter<md.ITextDocument>();\n\tpublic readonly onDidChangeMarkdownDocument = this.b.event;\n\n\tprivate readonly c = new Emitter<URI>();\n\tpublic readonly onDidDeleteMarkdownDocument = this.c.event;\n\n\tprivate readonly d = new ResourceMap<VsCodeDocument>();\n\n\tprivate readonly f = new TextDecoder('utf-8');\n\n\tprivate g = 0;\n\tprivate readonly h = new Map<number, {\n\t\treadonly resource: URI;\n\t\treadonly options: md.FileWatcherOptions;\n\t\treadonly onDidChange: Emitter<URI>;\n\t\treadonly onDidCreate: Emitter<URI>;\n\t\treadonly onDidDelete: Emitter<URI>;\n\t}>();\n\n\tconstructor(\n\t\tprivate readonly i: Connection,\n\t\tprivate readonly j: LsConfiguration,\n\t\tprivate readonly k: TextDocuments<TextDocument>,\n\t\tprivate readonly l: NotebookDocuments<TextDocument>,\n\t\tprivate readonly m: md.ILogger,\n\t) {\n\t\tk.onDidOpen(e => {\n\t\t\tif (!this.q(e.document)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.m.log(md.LogLevel.Trace, 'VsCodeClientWorkspace: TextDocument.onDidOpen', `${e.document.uri}`);\n\n\t\t\tconst uri = URI.parse(e.document.uri);\n\t\t\tconst doc = this.d.get(uri);\n\n\t\t\tif (doc) {\n\t\t\t\t// File already existed on disk\n\t\t\t\tdoc.setInMemoryDoc(e.document);\n\n\t\t\t\t// The content visible to the language service may have changed since the in-memory doc\n\t\t\t\t// may differ from the one on-disk. To be safe we always fire a change event.\n\t\t\t\tthis.b.fire(doc);\n\t\t\t} else {\n\t\t\t\t// We're creating the file for the first time\n\t\t\t\tconst doc = new VsCodeDocument(e.document.uri, { inMemoryDoc: e.document });\n\t\t\t\tthis.d.set(uri, doc);\n\t\t\t\tthis.a.fire(doc);\n\t\t\t}\n\t\t});\n\n\t\tk.onDidChangeContent(e => {\n\t\t\tif (!this.q(e.document)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.m.log(md.LogLevel.Trace, 'VsCodeClientWorkspace: TextDocument.onDidChanceContent', `${e.document.uri}`);\n\n\t\t\tconst uri = URI.parse(e.document.uri);\n\t\t\tconst entry = this.d.get(uri);\n\t\t\tif (entry) {\n\t\t\t\tentry.setInMemoryDoc(e.document);\n\t\t\t\tthis.b.fire(entry);\n\t\t\t}\n\t\t});\n\n\t\tk.onDidClose(async e => {\n\t\t\tif (!this.q(e.document)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.m.log(md.LogLevel.Trace, 'VsCodeClientWorkspace: TextDocument.onDidClose', `${e.document.uri}`);\n\n\t\t\tconst uri = URI.parse(e.document.uri);\n\t\t\tconst doc = this.d.get(uri);\n\t\t\tif (!doc) {\n\t\t\t\t// Document was never opened\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdoc.setInMemoryDoc(undefined);\n\t\t\tif (doc.isDetached()) {\n\t\t\t\t// The document has been fully closed\n\t\t\t\tthis.r(uri);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Check that if file has been deleted on disk.\n\t\t\t// This can happen when directories are renamed / moved. VS Code's file system watcher does not\n\t\t\t// notify us when this happens.\n\t\t\tif (!(await this.p(uri))) {\n\t\t\t\tif (this.d.get(uri) === doc && !doc.hasInMemoryDoc()) {\n\t\t\t\t\tthis.r(uri);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// The document still exists on disk\n\t\t\t// To be safe, tell the service that the document has changed because the\n\t\t\t// in-memory doc contents may be different than the disk doc contents.\n\t\t\tthis.b.fire(doc);\n\t\t});\n\n\t\ti.onDidChangeWatchedFiles(async ({ changes }) => {\n\t\t\tfor (const change of changes) {\n\t\t\t\tconst resource = URI.parse(change.uri);\n\t\t\t\tthis.m.log(md.LogLevel.Trace, 'VsCodeClientWorkspace: onDidChangeWatchedFiles', `${change.type}: ${resource}`);\n\t\t\t\tswitch (change.type) {\n\t\t\t\t\tcase FileChangeType.Changed: {\n\t\t\t\t\t\tconst entry = this.d.get(resource);\n\t\t\t\t\t\tif (entry) {\n\t\t\t\t\t\t\t// Refresh the on-disk state\n\t\t\t\t\t\t\tconst document = await this.o(resource);\n\t\t\t\t\t\t\tif (document) {\n\t\t\t\t\t\t\t\tthis.b.fire(document);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase FileChangeType.Created: {\n\t\t\t\t\t\tconst entry = this.d.get(resource);\n\t\t\t\t\t\tif (entry) {\n\t\t\t\t\t\t\t// Create or update the on-disk state\n\t\t\t\t\t\t\tconst document = await this.o(resource);\n\t\t\t\t\t\t\tif (document) {\n\t\t\t\t\t\t\t\tthis.a.fire(document);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase FileChangeType.Deleted: {\n\t\t\t\t\t\tconst entry = this.d.get(resource);\n\t\t\t\t\t\tif (entry) {\n\t\t\t\t\t\t\tentry.setOnDiskDoc(undefined);\n\t\t\t\t\t\t\tif (entry.isDetached()) {\n\t\t\t\t\t\t\t\tthis.r(resource);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\ti.onRequest(protocol.fs_watcher_onChange, params => {\n\t\t\tthis.m.log(md.LogLevel.Trace, 'VsCodeClientWorkspace: fs_watcher_onChange', `${params.kind}: ${params.uri}`);\n\n\t\t\tconst watcher = this.h.get(params.id);\n\t\t\tif (!watcher) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tswitch (params.kind) {\n\t\t\t\tcase 'create': watcher.onDidCreate.fire(URI.parse(params.uri)); return;\n\t\t\t\tcase 'change': watcher.onDidChange.fire(URI.parse(params.uri)); return;\n\t\t\t\tcase 'delete': watcher.onDidDelete.fire(URI.parse(params.uri)); return;\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic listen() {\n\t\tthis.i.workspace.onDidChangeWorkspaceFolders(async () => {\n\t\t\tthis.workspaceFolders = (await this.i.workspace.getWorkspaceFolders() ?? []).map(x => URI.parse(x.uri));\n\t\t});\n\t}\n\n\tprivate n: readonly URI[] = [];\n\n\tget workspaceFolders(): readonly URI[] {\n\t\treturn this.n;\n\t}\n\n\tset workspaceFolders(value: readonly URI[]) {\n\t\tthis.n = value;\n\t}\n\n\tasync getAllMarkdownDocuments(): Promise<Iterable<md.ITextDocument>> {\n\t\t// Add opened files (such as untitled files)\n\t\tconst openTextDocumentResults = this.k.all()\n\t\t\t.filter(doc => this.q(doc));\n\n\t\tconst allDocs = new ResourceMap<md.ITextDocument>();\n\t\tfor (const doc of openTextDocumentResults) {\n\t\t\tallDocs.set(URI.parse(doc.uri), doc);\n\t\t}\n\n\t\t// And then add files on disk\n\t\tconst maxConcurrent = 20;\n\t\tconst limiter = new Limiter<md.ITextDocument | undefined>(maxConcurrent);\n\t\tconst resources = await this.i.sendRequest(protocol.findMarkdownFilesInWorkspace, {});\n\t\tawait Promise.all(resources.map(strResource => {\n\t\t\treturn limiter.queue(async () => {\n\t\t\t\tconst resource = URI.parse(strResource);\n\t\t\t\tif (allDocs.has(resource)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst doc = await this.openMarkdownDocument(resource);\n\t\t\t\tif (doc) {\n\t\t\t\t\tallDocs.set(resource, doc);\n\t\t\t\t}\n\t\t\t\treturn doc;\n\t\t\t});\n\t\t}));\n\n\t\treturn allDocs.values();\n\t}\n\n\thasMarkdownDocument(resource: URI): boolean {\n\t\treturn !!this.k.get(resource.toString());\n\t}\n\n\tasync openMarkdownDocument(resource: URI): Promise<md.ITextDocument | undefined> {\n\t\tconst existing = this.d.get(resource);\n\t\tif (existing) {\n\t\t\treturn existing;\n\t\t}\n\n\t\tconst matchingDocument = this.k.get(resource.toString());\n\t\tif (matchingDocument) {\n\t\t\tlet entry = this.d.get(resource);\n\t\t\tif (entry) {\n\t\t\t\tentry.setInMemoryDoc(matchingDocument);\n\t\t\t} else {\n\t\t\t\tentry = new VsCodeDocument(resource.toString(), { inMemoryDoc: matchingDocument });\n\t\t\t\tthis.d.set(resource, entry);\n\t\t\t}\n\n\t\t\treturn entry;\n\t\t}\n\n\t\treturn this.o(resource);\n\t}\n\n\tprivate async o(resource: URI): Promise<md.ITextDocument | undefined> {\n\t\tif (!looksLikeMarkdownPath(this.j, resource)) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\ttry {\n\t\t\tconst response = await this.i.sendRequest(protocol.fs_readFile, { uri: resource.toString() });\n\t\t\t// TODO: LSP doesn't seem to handle Array buffers well\n\t\t\tconst bytes = new Uint8Array(response);\n\n\t\t\t// We assume that markdown is in UTF-8\n\t\t\tconst text = this.f.decode(bytes);\n\t\t\tconst doc = new VsCodeDocument(resource.toString(), {\n\t\t\t\tonDiskDoc: TextDocument.create(resource.toString(), 'markdown', 0, text)\n\t\t\t});\n\t\t\tthis.d.set(resource, doc);\n\t\t\treturn doc;\n\t\t} catch (e) {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\n\tasync stat(resource: URI): Promise<md.FileStat | undefined> {\n\t\tthis.m.log(md.LogLevel.Trace, 'VsCodeClientWorkspace: stat', `${resource}`);\n\t\tif (this.d.has(resource)) {\n\t\t\treturn { isDirectory: false };\n\t\t}\n\t\treturn this.p(resource);\n\t}\n\n\tprivate async p(resource: URI): Promise<md.FileStat | undefined> {\n\t\tconst uri = resource.toString();\n\t\tif (this.k.get(uri)) {\n\t\t\treturn { isDirectory: false };\n\t\t}\n\t\tconst fsResult = await this.i.sendRequest(protocol.fs_stat, { uri });\n\t\treturn fsResult ?? undefined; // Force convert null to undefined\n\t}\n\n\tasync readDirectory(resource: URI): Promise<[string, md.FileStat][]> {\n\t\tthis.m.log(md.LogLevel.Trace, 'VsCodeClientWorkspace: readDir', `${resource}`);\n\t\treturn this.i.sendRequest(protocol.fs_readDirectory, { uri: resource.toString() });\n\t}\n\n\tgetContainingDocument(resource: URI): md.ContainingDocumentContext | undefined {\n\t\tif (resource.scheme === Schemes.notebookCell) {\n\t\t\tconst nb = this.l.findNotebookDocumentForCell(resource.toString());\n\t\t\tif (nb) {\n\t\t\t\treturn {\n\t\t\t\t\turi: URI.parse(nb.uri),\n\t\t\t\t\tchildren: nb.cells.map(cell => ({ uri: URI.parse(cell.document) })),\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\twatchFile(resource: URI, options: md.FileWatcherOptions): md.IFileSystemWatcher {\n\t\tconst id = this.g++;\n\t\tthis.m.log(md.LogLevel.Trace, 'VsCodeClientWorkspace: watchFile', `(${id}) ${resource}`);\n\n\t\tconst entry = {\n\t\t\tresource,\n\t\t\toptions,\n\t\t\tonDidCreate: new Emitter<URI>(),\n\t\t\tonDidChange: new Emitter<URI>(),\n\t\t\tonDidDelete: new Emitter<URI>(),\n\t\t};\n\t\tthis.h.set(id, entry);\n\n\t\tthis.i.sendRequest(protocol.fs_watcher_create, {\n\t\t\tid,\n\t\t\turi: resource.toString(),\n\t\t\toptions,\n\t\t\twatchParentDirs: true,\n\t\t});\n\n\t\treturn {\n\t\t\tonDidCreate: entry.onDidCreate.event,\n\t\t\tonDidChange: entry.onDidChange.event,\n\t\t\tonDidDelete: entry.onDidDelete.event,\n\t\t\tdispose: () => {\n\t\t\t\tthis.m.log(md.LogLevel.Trace, 'VsCodeClientWorkspace: disposeWatcher', `(${id}) ${resource}`);\n\t\t\t\tthis.i.sendRequest(protocol.fs_watcher_delete, { id });\n\t\t\t\tthis.h.delete(id);\n\t\t\t}\n\t\t};\n\t}\n\n\tprivate q(doc: TextDocument) {\n\t\treturn isMarkdownFile(doc) && URI.parse(doc.uri).scheme !== 'vscode-bulkeditpreview';\n\t}\n\n\tprivate r(uri: URI) {\n\t\tthis.m.log(md.LogLevel.Trace, 'VsCodeClientWorkspace: deleteDocument', `${uri}`);\n\n\t\tthis.d.delete(uri);\n\t\tthis.c.fire(uri);\n\t}\n}\n","module.exports = require(\"child_process\");","module.exports = require(\"crypto\");","module.exports = require(\"fs\");","module.exports = require(\"net\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"url\");","module.exports = require(\"util\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Connection, createConnection } from 'vscode-languageserver/node';\nimport { startVsCodeServer } from '../server';\n\n// Create a connection for the server.\nconst connection: Connection = createConnection();\n\nconsole.log = connection.console.log.bind(connection.console);\nconsole.error = connection.console.error.bind(connection.console);\n\nprocess.on('unhandledRejection', (e: any) => {\n\tconnection.console.error(`Unhandled exception ${e}`);\n});\n\nstartVsCodeServer(connection);\n"],"sourceRoot":""}