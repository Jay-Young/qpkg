import{d as a,a as o,m as l}from"./vue-b220ace6.js";import{Q as r,s as c,t as _,V as m,v as p,z as u,H as d,I as h,J as f,K as g,L as C,E as x,x as i,D as v}from"./index-f9553022.js";import{F as T}from"./FullScreenModal-b7264cb2.js";import{M as b}from"./Modal-f5e0cc6c.js";import{_ as E}from"./VDialog-a94128dd.js";import{_ as $}from"./VCheckbox-5025a81f.js";import"./index-15c29b4b.js";const F=a({name:"ConfirmDeleteModal",props:{hashes:Array},mixins:[b,T],computed:{...o(["selectMode"]),...l(["getTorrents","getWebuiSettings"]),selection(){return this.hashes??[]},torrents(){return this.getTorrents().filter(n=>this.selection.includes(n.hash))},settings(){return this.getWebuiSettings()}},methods:{close(){this.dialog=!1,this.selectMode||this.$store.commit("RESET_SELECTED")},async deleteTorrent(){await r.deleteTorrents(this.selection,this.settings.deleteWithFiles),this.$store.commit("RESET_SELECTED"),this.close(),this.$route.name==="torrentDetail"&&this.$router.push({name:"dashboard"})}}});var S=function(){var t=this,e=t._self._c;return t._self._setupProxy,e(E,{attrs:{scrollable:"","content-class":"rounded-form","max-width":"600px"},on:{input:t.close},model:{value:t.dialog,callback:function(s){t.dialog=s},expression:"dialog"}},[e(_,{staticClass:"pa-2"},[e(m,{staticClass:"pa-0"},[e(p,{staticClass:"mx-4 mt-2"},[e("h3",[t._v(t._s(t._f("titleCase")(t.$t("confirm"))))])])],1),e(u,{staticClass:"px-6p py-2 mb-2"},[e(d,{staticClass:"mb-4",attrs:{flat:""}},t._l(t.torrents,function(s){return e(h,{key:s.hash,attrs:{else:""}},[e(f,[e(g,{staticClass:"text-wrap",domProps:{textContent:t._s(s.name)}})],1)],1)}),1),e($,{staticClass:"ma-0 pa-0",attrs:{label:t.$t("modals.delete.check"),"hide-details":""},model:{value:t.settings.deleteWithFiles,callback:function(s){t.$set(t.settings,"deleteWithFiles",s)},expression:"settings.deleteWithFiles"}})],1),e(C),e(x,{staticClass:"justify-end"},[e(i,{staticClass:"white--text elevation-0 px-4",class:t.settings.deleteWithFiles?"error":"info",on:{click:function(s){return t.deleteTorrent()}}},[t._v(" "+t._s(t.$t("delete"))+" ")]),e(v),e(i,{staticClass:"grey white--text elevation-0 px-4",on:{click:function(s){return t.close()}}},[t._v(" "+t._s(t.$t("cancel"))+" ")])],1)],1)],1)},y=[],M=c(F,S,y,!1,null,null,null,null);const R=M.exports;export{R as default};
