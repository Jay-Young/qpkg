import{a as r}from"./vue-b220ace6.js";import{c7 as i,c8 as o,s as u,aF as c,t as l,V as p,z as d,a,D as m,E as _,x as f}from"./index-f9553022.js";import{_ as h}from"./VForm-7a203a53.js";const g={name:"Login",...r(["authenticated"]),data(){return{username:"",password:"",inputRules:[s=>s.length>=1||"At least 1 character"],mdiLock:i,mdiAccount:o}},mounted(){this.authenticated&&this.redirectOnSuccess()},methods:{async login(){await this.$store.dispatch("LOGIN",{username:this.username,password:this.password})&&this.redirectOnSuccess()},redirectOnSuccess(){this.$route.query.redirect!==void 0?this.$router.push(this.$route.query.redirect):this.$router.push({name:"dashboard"})}}};var y=function(){var e=this,t=e._self._c;return t(c,{staticClass:"background mt-5"},[t("div",{staticStyle:{margin:"130px auto"}},[t(l,{attrs:{"max-width":"400",flat:""}},[t(p,{staticClass:"justify-center"},[t("h2",[e._v("Login")])]),t("div",{staticClass:"mr-5 ml-5"}),t(d,[t(h,{ref:"form",staticClass:"px-3"},[t(a,{attrs:{outlined:"",label:"username","prepend-icon":e.mdiAccount,rules:e.inputRules,autocomplete:"current email",name:"username",autocapitalize:"none","persistent-placeholder":""},nativeOn:{keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.login.apply(null,arguments)}},model:{value:e.username,callback:function(n){e.username=n},expression:"username"}}),t(a,{attrs:{outlined:"",type:"password",label:"password","prepend-icon":e.mdiLock,rules:e.inputRules,autocomplete:"current password",name:"password",autocapitalize:"none","persistent-placeholder":""},nativeOn:{keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.login.apply(null,arguments)}},model:{value:e.password,callback:function(n){e.password=n},expression:"password"}}),t(m),t(_,{staticClass:"justify-center"},[t(f,{staticClass:"accent white--text mx-0 mt-3",attrs:{text:""},on:{click:e.login}},[e._v(" Login ")])],1)],1)],1)],1)],1)])},k=[],x=u(g,y,k,!1,null,null,null,null);const O=x.exports;export{O as default};
