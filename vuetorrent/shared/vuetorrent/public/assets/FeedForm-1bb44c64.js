import{N as o,O as d,P as c,Q as i,s as u,t as m,V as _,v as f,z as p,a as n,L as h,E as F,x as l}from"./index-f9553022.js";import{d as x}from"./vue-b220ace6.js";import{M as C}from"./Modal-f5e0cc6c.js";import{_ as g}from"./VDialog-a94128dd.js";import{_ as v}from"./VForm-7a203a53.js";import{_ as r}from"./VContainer-1e078d75.js";const y=x({name:"FeedForm",mixins:[C],props:{initialFeed:Object},data:()=>({feed:{url:"",name:""},rules:[s=>!!s||"Required"],mdiCancel:o,mdiTagPlus:d,mdiPencil:c}),computed:{hasInitialFeed(){return!!(this.initialFeed&&this.initialFeed.name&&this.initialFeed.url)}},created(){this.hasInitialFeed&&(this.feed={...this.initialFeed})},methods:{cancel(){this.$store.commit("FETCH_FEEDS"),this.dialog=!1},async create(){await i.createFeed(this.feed),this.cancel()},async edit(){await i.editFeed(this.initialFeed.name,this.feed.name),this.$toast.success(this.$t("toast.feedSaved")),this.cancel()},async submit(){this.feed.name===""||this.feed.url===""||(this.hasInitialFeed?await this.edit():await this.create())}}});var b=function(){var e=this,t=e._self._c;return e._self._setupProxy,t(g,{attrs:{"content-class":"rounded-form","max-width":"300px"},on:{keydown:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:(a.preventDefault(),e.submit.apply(null,arguments))}},model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[t(m,[t(_,{staticClass:"pa-0"},[t(f,{staticClass:"ma-4 primarytext--text"},[t("h3",[e._v(e._s(e.hasInitialFeed?e.$t("edit"):e.$t("createNew"))+" "+e._s(e.$t("feed")))])])],1),t(p,[t(v,{ref:"feedForm",staticClass:"px-6 mt-3"},[e.hasInitialFeed?e._e():t(r,[t(n,{attrs:{rules:e.rules,label:e.$t("modals.newFeed.url"),autofocus:"",required:""},model:{value:e.feed.url,callback:function(a){e.$set(e.feed,"url",a)},expression:"feed.url"}})],1),t(r,[t(n,{attrs:{rules:e.rules,label:e.$t("modals.newFeed.feedName"),autofocus:"",required:""},model:{value:e.feed.name,callback:function(a){e.$set(e.feed,"name",a)},expression:"feed.name"}})],1)],1)],1),t(h),t(F,{staticClass:"justify-end"},[t(l,{staticClass:"accent white--text elevation-0 px-4",on:{click:e.submit}},[e._v(" "+e._s(e.$t(e.hasInitialFeed?"edit":"create"))+" ")]),t(l,{staticClass:"error white--text elevation-0 px-4",on:{click:e.cancel}},[e._v(" "+e._s(e.$t("cancel"))+" ")])],1)],1)],1)},w=[],k=u(y,b,w,!1,null,null,null,null);const q=k.exports;export{q as default};
