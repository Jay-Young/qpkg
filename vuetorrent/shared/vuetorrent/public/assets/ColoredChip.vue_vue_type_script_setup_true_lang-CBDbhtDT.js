import{k as M,g as F,Y as I,q as K,s as q,a as L,Z as A,$ as O,V as j,c as z,d as G,e as J,K as Q,M as W,f as Y,h as R,i as Z,j as X,m as x,a0 as D,a1 as ee,__tla as __tla_0}from"./index-C0tfT_Qc.js";import{j as T,a0 as ae,H as l,I as n,J as o,U as oe,K as f,L as d,N as y,Q as g,n as t,V as N,q as E,F as H,a1 as le,a2 as te,a3 as se,E as U,f as $,r as ne,c as C,G as re,u as P,M as de,O as ue,P as ie,$ as ce,W as me}from"./vue-CfSjRv-x.js";import{a as fe}from"./vuetify-PctCzU6r.js";let ke,ge,_e;let __tla=Promise.all([(()=>{try{return __tla_0}catch{}})()]).then(async()=>{let pe,ve,he,Ve;pe={class:"d-flex"};ve={key:2};he={key:3};Ve=T({__name:"RightClickMenuEntry",props:{text:{},icon:{},action:{type:Function},hidden:{type:Boolean},disabled:{type:Boolean},disabledText:{},disabledIcon:{},children:{}},setup(c){const e=c,s=()=>{e.action&&e.action()};return(a,r)=>{const p=ae("RightClickMenuEntry",!0);return a.hidden?y("",!0):(l(),n(q,{key:0,class:"px-3",disabled:a.disabled,onClick:s},{default:o(()=>[oe("div",pe,[a.disabled&&a.disabledIcon?(l(),n(M,{key:0,class:"mr-2"},{default:o(()=>[f(d(a.disabledIcon),1)]),_:1})):a.icon?(l(),n(M,{key:1,class:"mr-2"},{default:o(()=>[f(d(a.icon),1)]),_:1})):y("",!0),a.disabled&&a.disabledText?(l(),g("span",ve,d(a.disabledText),1)):(l(),g("span",he,d(a.text),1)),t(F),!a.disabled&&a.children?(l(),n(M,{key:4},{default:o(()=>[f("mdi-chevron-right")]),_:1})):y("",!0)]),a.children?(l(),n(I,{key:0,activator:"parent","open-on-hover":"","open-on-click":"","close-delay":"10","open-delay":"0",location:"right"},{default:o(()=>[t(K,null,{default:o(()=>[(l(!0),g(H,null,N(a.children,v=>(l(),n(p,E({ref_for:!0},v),null,16))),256))]),_:1})]),_:1})):y("",!0)]),_:1},8,["disabled"]))}}});ge=T({__name:"RightClickMenu",props:le({menuData:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(c){const e=te(c,"modelValue");return(s,a)=>e.value?(l(),n(I,{key:0,modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=r=>e.value=r),activator:"parent","close-on-content-click":!0,transition:"slide-y-transition","scroll-strategy":"none"},{default:o(()=>[t(K,null,{default:o(()=>[se(s.$slots,"top"),(l(!0),g(H,null,N(s.menuData,r=>(l(),n(Ve,E({ref_for:!0},r),null,16))),256))]),_:3})]),_:3},8,["modelValue"])):y("",!0)}});ke=T({__name:"MoveTorrentDialog",props:{guid:{},hashes:{},mode:{}},setup(c){const e=c,{isOpened:s}=L(e.guid),{t:a}=U(),r=A(),p=O(),v=$(),k=$(),h=$(!1),m=ne({newPath:""}),w=[u=>!!u||a("dialogs.moveTorrent.required")],V=C(()=>e.hashes.map(p.getTorrentByHash)),_=C(()=>{switch(e.mode){case"dl":return V.value[0]?.download_path;case"save":return V.value[0]?.savePath}});async function B(){await v.value?.validate(),h.value&&(await r.toggleAutoTmm(e.hashes,!1),await p.moveTorrents(e.mode,e.hashes,m.newPath),k.value?.saveValueToHistory(),S())}const S=()=>{s.value=!1};return re(()=>{m.newPath=_.value||""}),(u,i)=>(l(),n(X,{modelValue:P(s),"onUpdate:modelValue":i[3]||(i[3]=b=>ie(s)?s.value=b:null)},{default:o(()=>[t(Z,null,{default:o(()=>[t(j,null,{default:o(()=>[f(d(u.$t(`dialogs.moveTorrent.${u.mode}.title`)),1)]),_:1}),t(z,null,{default:o(()=>[t(P(G),{modelValue:h.value,"onUpdate:modelValue":i[1]||(i[1]=b=>h.value=b),ref_key:"form",ref:v,onSubmit:i[2]||(i[2]=de(()=>{},["prevent"]))},{default:o(()=>[_.value?(l(),n(J,{key:0,"model-value":_.value,disabled:"",label:u.$t("dialogs.moveTorrent.oldPath")},null,8,["model-value","label"])):y("",!0),t(Q,{modelValue:m.newPath,"onUpdate:modelValue":i[0]||(i[0]=b=>m.newPath=b),historyKey:P(W).TORRENT_PATH,ref_key:"field",ref:k,rules:w,autofocus:"",label:u.$t("dialogs.moveTorrent.newPath"),onKeydown:ue(B,["enter"])},null,8,["modelValue","historyKey","label"])]),_:1},8,["modelValue"])]),_:1}),t(Y,null,{default:o(()=>[t(F),t(R,{color:"error",onClick:S},{default:o(()=>[f(d(u.$t("common.cancel")),1)]),_:1}),t(R,{color:"accent",disabled:!h.value,onClick:B},{default:o(()=>[f(d(u.$t("common.save")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}});_e=T({__name:"ColoredChip",props:{defaultColor:{},disabled:{type:Boolean,default:!1},disabledValue:{},value:{}},setup(c){const e=c,{t:s}=U(),{current:a}=fe(),{enableHashColors:r,hideColoredChip:p}=ce(x());function v(V){return a.value.colors[V]??V}const k=C(()=>e.disabled||!r.value?e.defaultColor:D(e.value)),h=C(()=>e.disabled||!r.value?v(e.defaultColor):D(e.value)),m=C(()=>e.disabled?e.disabledValue||e.value||s("common.none"):e.value),w=C(()=>!p.value);return(V,_)=>w.value?(l(),n(ee,{key:0,color:k.value,variant:"flat"},{default:o(()=>[f(d(m.value),1)]),_:1},8,["color"])):(l(),g("div",{key:1,class:"text-no-wrap",style:me(`color: ${h.value}`)},d(m.value),5))}})});export{ke as _,ge as a,_e as b,__tla};