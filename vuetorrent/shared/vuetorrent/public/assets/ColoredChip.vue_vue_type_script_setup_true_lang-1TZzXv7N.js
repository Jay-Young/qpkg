import{k as M,g as D,Y as F,q as I,s as U,a as q,Z as L,V as A,c as O,d as j,e as z,K as G,M as J,f as W,h as S,i as Y,j as Z,m as Q,$ as R,a0 as X,__tla as __tla_0}from"./index-DLFu8iI7.js";import{j as _,a0 as x,H as l,I as r,J as o,U as ee,K as f,L as d,N as y,T as g,n as t,V as K,q as N,F as E,a1 as ae,a2 as oe,a3 as le,E as H,f as $,r as te,c as C,G as se,u as P,M as ne,O as re,P as de,$ as ue,W as ie}from"./vue-D2RyHZdK.js";import{u as ce}from"./vuetify-XVitH59O.js";let be,Ce,ge;let __tla=Promise.all([(()=>{try{return __tla_0}catch{}})()]).then(async()=>{let me,fe,pe,ve;me={class:"d-flex"};fe={key:2};pe={key:3};ve=_({__name:"RightClickMenuEntry",props:{text:{},icon:{},action:{type:Function},hidden:{type:Boolean},disabled:{type:Boolean},disabledText:{},disabledIcon:{},children:{}},setup(c){const e=c,s=()=>{e.action&&e.action()};return(a,n)=>{const p=x("RightClickMenuEntry",!0);return a.hidden?y("",!0):(l(),r(U,{key:0,class:"px-3",disabled:a.disabled,onClick:s},{default:o(()=>[ee("div",me,[a.disabled&&a.disabledIcon?(l(),r(M,{key:0,class:"mr-2"},{default:o(()=>[f(d(a.disabledIcon),1)]),_:1})):a.icon?(l(),r(M,{key:1,class:"mr-2"},{default:o(()=>[f(d(a.icon),1)]),_:1})):y("",!0),a.disabled&&a.disabledText?(l(),g("span",fe,d(a.disabledText),1)):(l(),g("span",pe,d(a.text),1)),t(D),!a.disabled&&a.children?(l(),r(M,{key:4},{default:o(()=>[f("mdi-chevron-right")]),_:1})):y("",!0)]),a.children?(l(),r(F,{key:0,activator:"parent","open-on-hover":"","open-on-click":"","close-delay":"10","open-delay":"0",location:"right"},{default:o(()=>[t(I,null,{default:o(()=>[(l(!0),g(E,null,K(a.children,v=>(l(),r(p,N({ref_for:!0},v),null,16))),256))]),_:1})]),_:1})):y("",!0)]),_:1},8,["disabled"]))}}});Ce=_({__name:"RightClickMenu",props:ae({menuData:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(c){const e=oe(c,"modelValue");return(s,a)=>e.value?(l(),r(F,{key:0,modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=n=>e.value=n),activator:"parent","close-on-content-click":!0,transition:"slide-y-transition","scroll-strategy":"none"},{default:o(()=>[t(I,null,{default:o(()=>[le(s.$slots,"top"),(l(!0),g(E,null,K(s.menuData,n=>(l(),r(ve,N({ref_for:!0},n),null,16))),256))]),_:3})]),_:3},8,["modelValue"])):y("",!0)}});be=_({__name:"MoveTorrentDialog",props:{guid:{},hashes:{},mode:{}},setup(c){const e=c,{isOpened:s}=q(e.guid),{t:a}=H(),n=L(),p=$(),v=$(),h=$(!1),V=te({newPath:""}),k=[u=>!!u||a("dialogs.moveTorrent.required")],T=C(()=>e.hashes.map(n.getTorrentByHash)),m=C(()=>{switch(e.mode){case"dl":return T.value[0]?.download_path;case"save":return T.value[0]?.savePath}});async function w(){await p.value?.validate(),h.value&&(await n.toggleAutoTmm(e.hashes,!1),await n.moveTorrents(e.mode,e.hashes,V.newPath),v.value?.saveValueToHistory(),B())}const B=()=>{s.value=!1};return se(()=>{V.newPath=m.value||""}),(u,i)=>(l(),r(Z,{modelValue:P(s),"onUpdate:modelValue":i[3]||(i[3]=b=>de(s)?s.value=b:null)},{default:o(()=>[t(Y,null,{default:o(()=>[t(A,null,{default:o(()=>[f(d(u.$t(`dialogs.moveTorrent.${u.mode}.title`)),1)]),_:1}),t(O,null,{default:o(()=>[t(P(j),{modelValue:h.value,"onUpdate:modelValue":i[1]||(i[1]=b=>h.value=b),ref_key:"form",ref:p,onSubmit:i[2]||(i[2]=ne(()=>{},["prevent"]))},{default:o(()=>[m.value?(l(),r(z,{key:0,"model-value":m.value,disabled:"",label:u.$t("dialogs.moveTorrent.oldPath")},null,8,["model-value","label"])):y("",!0),t(G,{modelValue:V.newPath,"onUpdate:modelValue":i[0]||(i[0]=b=>V.newPath=b),historyKey:P(J).TORRENT_PATH,ref_key:"field",ref:v,rules:k,autofocus:"",label:u.$t("dialogs.moveTorrent.newPath"),onKeydown:re(w,["enter"])},null,8,["modelValue","historyKey","label"])]),_:1},8,["modelValue"])]),_:1}),t(W,null,{default:o(()=>[t(D),t(S,{color:"error",onClick:B},{default:o(()=>[f(d(u.$t("common.cancel")),1)]),_:1}),t(S,{color:"accent",disabled:!h.value,onClick:w},{default:o(()=>[f(d(u.$t("common.save")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}});ge=_({__name:"ColoredChip",props:{defaultColor:{},disabled:{type:Boolean,default:!1},disabledValue:{},value:{}},setup(c){const e=c,{t:s}=H(),{current:a}=ce(),{enableHashColors:n,hideColoredChip:p}=ue(Q());function v(m){return a.value.colors[m]??m}const h=C(()=>e.disabled||!n.value?e.defaultColor:R(e.value)),V=C(()=>e.disabled||!n.value?v(e.defaultColor):R(e.value)),k=C(()=>e.disabled?e.disabledValue||e.value||s("common.none"):e.value),T=C(()=>!p.value);return(m,w)=>T.value?(l(),r(X,{key:0,color:h.value,variant:"flat"},{default:o(()=>[f(d(k.value),1)]),_:1},8,["color"])):(l(),g("div",{key:1,class:"text-no-wrap",style:ie(`color: ${V.value}`)},d(k.value),5))}})});export{be as _,Ce as a,ge as b,__tla};