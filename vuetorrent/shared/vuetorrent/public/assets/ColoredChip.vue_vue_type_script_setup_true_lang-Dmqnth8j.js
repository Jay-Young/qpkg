import{j as M,f as R,Y as F,q as I,s as U,u as q,Z as L,V as A,b as O,c as j,d as z,K as G,M as J,e as Y,g as S,h as Z,i as Q,l as W,$ as D,a0 as X,__tla as __tla_0}from"./index-CjN-J9MH.js";import{j as T,$ as x,G as l,H as r,I as o,T as ee,J as f,K as u,M as y,S as g,n as t,U as K,q as N,F as E,a0 as ae,a1 as oe,a2 as le,D as H,f as $,r as te,c as b,E as se,u as B,L as ne,N as re,O as ue,_ as de,V as ie}from"./vue-Bn6wizpW.js";import{u as ce}from"./vuetify-ZU8EA2BQ.js";let Ce,be,ge;let __tla=Promise.all([(()=>{try{return __tla_0}catch{}})()]).then(async()=>{let me,fe,pe,ve;me={class:"d-flex"};fe={key:2};pe={key:3};ve=T({__name:"RightClickMenuEntry",props:{text:{},icon:{},action:{type:Function},hidden:{type:Boolean},disabled:{type:Boolean},disabledText:{},disabledIcon:{},children:{}},setup(c){const e=c,s=()=>{e.action&&e.action()};return(a,n)=>{const p=x("RightClickMenuEntry",!0);return a.hidden?y("",!0):(l(),r(U,{key:0,class:"px-3",disabled:a.disabled,onClick:s},{default:o(()=>[ee("div",me,[a.disabled&&a.disabledIcon?(l(),r(M,{key:0,class:"mr-2"},{default:o(()=>[f(u(a.disabledIcon),1)]),_:1})):a.icon?(l(),r(M,{key:1,class:"mr-2"},{default:o(()=>[f(u(a.icon),1)]),_:1})):y("",!0),a.disabled&&a.disabledText?(l(),g("span",fe,u(a.disabledText),1)):(l(),g("span",pe,u(a.text),1)),t(R),!a.disabled&&a.children?(l(),r(M,{key:4},{default:o(()=>[f("mdi-chevron-right")]),_:1})):y("",!0)]),a.children?(l(),r(F,{key:0,activator:"parent","open-on-hover":"","open-on-click":"","close-delay":"10","open-delay":"0",location:"right"},{default:o(()=>[t(I,null,{default:o(()=>[(l(!0),g(E,null,K(a.children,v=>(l(),r(p,N({ref_for:!0},v),null,16))),256))]),_:1})]),_:1})):y("",!0)]),_:1},8,["disabled"]))}}});be=T({__name:"RightClickMenu",props:ae({menuData:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(c){const e=oe(c,"modelValue");return(s,a)=>e.value?(l(),r(F,{key:0,modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=n=>e.value=n),activator:"parent","close-on-content-click":!0,transition:"slide-y-transition","scroll-strategy":"none"},{default:o(()=>[t(I,null,{default:o(()=>[le(s.$slots,"top"),(l(!0),g(E,null,K(s.menuData,n=>(l(),r(ve,N({ref_for:!0},n),null,16))),256))]),_:3})]),_:3},8,["modelValue"])):y("",!0)}});Ce=T({__name:"MoveTorrentDialog",props:{guid:{},hashes:{},mode:{}},setup(c){const e=c,{isOpened:s}=q(e.guid),{t:a}=H(),n=L(),p=$(),v=$(),h=$(!1),V=te({newPath:""}),k=[d=>!!d||a("dialogs.moveTorrent.required")],_=b(()=>e.hashes.map(n.getTorrentByHash)),m=b(()=>{switch(e.mode){case"dl":return _.value[0]?.download_path;case"save":return _.value[0]?.savePath}});async function w(){await p.value?.validate(),h.value&&(await n.toggleAutoTmm(e.hashes,!1),await n.moveTorrents(e.mode,e.hashes,V.newPath),v.value?.saveValueToHistory(),P())}const P=()=>{s.value=!1};return se(()=>{V.newPath=m.value||""}),(d,i)=>(l(),r(Q,{modelValue:B(s),"onUpdate:modelValue":i[3]||(i[3]=C=>ue(s)?s.value=C:null)},{default:o(()=>[t(Z,null,{default:o(()=>[t(A,null,{default:o(()=>[f(u(d.$t(`dialogs.moveTorrent.${d.mode}.title`)),1)]),_:1}),t(O,null,{default:o(()=>[t(B(j),{modelValue:h.value,"onUpdate:modelValue":i[1]||(i[1]=C=>h.value=C),ref_key:"form",ref:p,onSubmit:i[2]||(i[2]=ne(()=>{},["prevent"]))},{default:o(()=>[m.value?(l(),r(z,{key:0,"model-value":m.value,disabled:"",label:d.$t("dialogs.moveTorrent.oldPath")},null,8,["model-value","label"])):y("",!0),t(G,{modelValue:V.newPath,"onUpdate:modelValue":i[0]||(i[0]=C=>V.newPath=C),historyKey:B(J).TORRENT_PATH,ref_key:"field",ref:v,rules:k,autofocus:"",label:d.$t("dialogs.moveTorrent.newPath"),onKeydown:re(w,["enter"])},null,8,["modelValue","historyKey","label"])]),_:1},8,["modelValue"])]),_:1}),t(Y,null,{default:o(()=>[t(R),t(S,{color:"error",onClick:P},{default:o(()=>[f(u(d.$t("common.cancel")),1)]),_:1}),t(S,{color:"accent",disabled:!h.value,onClick:w},{default:o(()=>[f(u(d.$t("common.save")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}});ge=T({__name:"ColoredChip",props:{defaultColor:{},disabled:{type:Boolean,default:!1},disabledValue:{},value:{}},setup(c){const e=c,{t:s}=H(),{current:a}=ce(),{enableHashColors:n,hideColoredChip:p}=de(W());function v(m){return a.value.colors[m]??m}const h=b(()=>e.disabled||!n.value?e.defaultColor:D(e.value)),V=b(()=>e.disabled||!n.value?v(e.defaultColor):D(e.value)),k=b(()=>e.disabled?e.disabledValue||e.value||s("common.none"):e.value),_=b(()=>!p.value);return(m,w)=>_.value?(l(),r(X,{key:0,color:h.value,variant:"flat"},{default:o(()=>[f(u(k.value),1)]),_:1},8,["color"])):(l(),g("div",{key:1,class:"text-no-wrap",style:ie(`color: ${V.value}`)},u(k.value),5))}})});export{Ce as _,be as a,ge as b,__tla};